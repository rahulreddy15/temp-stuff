"use strict";(self.webpackChunkhello_world_app=self.webpackChunkhello_world_app||[]).push([[179],{2011:(it,Te,O)=>{O.d(Te,{Dh:()=>ce,GT:()=>ge,cc:()=>Ee,hO:()=>Me,on:()=>W,pX:()=>de,xv:()=>pe});var u=O(4650),U=O(127),N=O(880);it=O.hmd(it);const te=["ngOnDestroy"],de=(ae,Ye,$e,Re={})=>new Proxy(ae,{get:(Ae,ve)=>$e.runOutsideAngular(()=>{var He;if(ae[ve])return!(null===(He=Re?.spy)||void 0===He)&&He.get&&Re.spy.get(ve,ae[ve]),ae[ve];if(te.indexOf(ve)>-1)return()=>{};const X=Ye.toPromise().then(ie=>{const _e=ie&&ie[ve];return"function"==typeof _e?_e.bind(ie):_e&&_e.then?_e.then(K=>$e.run(()=>K)):$e.run(()=>_e)});return new Proxy(()=>{},{get:(ie,_e)=>X[_e],apply:(ie,_e,K)=>X.then(Y=>{var le;const re=Y&&Y(...K);return!(null===(le=Re?.spy)||void 0===le)&&le.apply&&Re.spy.apply(ve,K,re),re})})})}),ge=(ae,Ye)=>{Ye.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Re=>{Object.defineProperty(ae.prototype,Re,Object.getOwnPropertyDescriptor($e.prototype||$e,Re))})})};class oe{constructor(Ye){return Ye}}const ce=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function W(ae,Ye,$e){const Ae="object"==typeof $e&&$e||{};Ae.name=Ae.name||"string"==typeof $e&&$e||"[DEFAULT]";const He=U.Z.apps.filter(X=>X&&X.name===Ae.name)[0]||Ye.runOutsideAngular(()=>U.Z.initializeApp(ae,Ae));try{JSON.stringify(ae)!==JSON.stringify(He.options)&&G("error",`${He.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(He)}const G=(ae,...Ye)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ae](...Ye)},q={provide:oe,useFactory:W,deps:[ce,u.R0b,[new u.FiY,pe]]};let Me=(()=>{class ae{constructor($e){U.Z.registerVersion("angularfire",N.q4.full,"core"),U.Z.registerVersion("angularfire",N.q4.full,"app-compat"),U.Z.registerVersion("angular",u.q4F.full,$e.toString())}static initializeApp($e,Re){return{ngModule:ae,providers:[{provide:ce,useValue:$e},{provide:pe,useValue:Re}]}}}return ae.\u0275fac=function($e){return new($e||ae)(u.LFG(u.Lbi))},ae.\u0275mod=u.oAB({type:ae}),ae.\u0275inj=u.cJS({providers:[q]}),ae})();function Ee(ae,Ye,$e,Re,Ae){const[,ve,He]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===ae)||[];if(ve)return function we(ae,Ye){try{return ae.toString()===Ye.toString()}catch{return ae===Ye}}(Ae,He)||(me("error",`${Ye} was already initialized on the ${$e} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ae,was:He})),ve;{const X=Re();return globalThis.\u0275AngularfireInstanceCache.push([ae,X,Ae]),X}}const We=!!it.hot,me=(ae,...Ye)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ae](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(it,Te,O)=>{O.d(Te,{q4:()=>is,iC:()=>Br,HU:()=>os,vb:()=>Nu,JM:()=>sl,u3:()=>bt});var u=O(4650),U=O(5867),N=O(5861),te=O(9681),de=O(2090),ge=O(4859),oe=O(1877);O(2833);const pe="@firebase/remote-config",W="0.3.15",Ee=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Je{constructor(x,Z,ue,ke){this.client=x,this.storage=Z,this.storageCache=ue,this.logger=ke}isCachedDataFresh(x,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-Z,ke=ue<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ke}.`),ke}fetch(x){var Z=this;return(0,N.Z)(function*(){const[ue,ke]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(ke&&Z.isCachedDataFresh(x.cacheMaxAgeMillis,ue))return ke;x.eTag=ke&&ke.eTag;const je=yield Z.client.fetch(x),at=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===je.status&&at.push(Z.storage.setLastSuccessfulFetchResponse(je)),yield Promise.all(at),je})()}}function xt(k=navigator){return k.languages&&k.languages[0]||k.language}class vt{constructor(x,Z,ue,ke,je,at){this.firebaseInstallations=x,this.sdkVersion=Z,this.namespace=ue,this.projectId=ke,this.apiKey=je,this.appId=at}fetch(x){var Z=this;return(0,N.Z)(function*(){var ue,ke,je;const[at,Nt]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},wt={sdk_version:Z.sdkVersion,app_instance_id:at,app_instance_id_token:Nt,app_id:Z.appId,language_code:xt()},hn={method:"POST",headers:bn,body:JSON.stringify(wt)},Fi=fetch(Ct,hn),Li=new Promise((as,Dr)=>{x.signal.addEventListener(()=>{const Ln=new Error("The operation was aborted.");Ln.name="AbortError",Dr(Ln)})});let er;try{yield Promise.race([Fi,Li]),er=yield Fi}catch(as){let Dr="fetch-client-network";throw"AbortError"===(null===(ue=as)||void 0===ue?void 0:ue.name)&&(Dr="fetch-timeout"),Ee.create(Dr,{originalErrorMessage:null===(ke=as)||void 0===ke?void 0:ke.message})}let vi=er.status;const Io=er.headers.get("ETag")||void 0;let ma,Ui;if(200===er.status){let as;try{as=yield er.json()}catch(Dr){throw Ee.create("fetch-client-parse",{originalErrorMessage:null===(je=Dr)||void 0===je?void 0:je.message})}ma=as.entries,Ui=as.state}if("INSTANCE_STATE_UNSPECIFIED"===Ui?vi=500:"NO_CHANGE"===Ui?vi=304:("NO_TEMPLATE"===Ui||"EMPTY_CONFIG"===Ui)&&(ma={}),304!==vi&&200!==vi)throw Ee.create("fetch-status",{httpStatus:vi});return{status:vi,eTag:Io,config:ma}})()}}class pn{constructor(x,Z){this.client=x,this.storage=Z}fetch(x){var Z=this;return(0,N.Z)(function*(){const ue=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(x,ue)})()}attemptFetch(x,{throttleEndTimeMillis:Z,backoffCount:ue}){var ke=this;return(0,N.Z)(function*(){yield function Be(k,x){return new Promise((Z,ue)=>{const ke=Math.max(x-Date.now(),0),je=setTimeout(Z,ke);k.addEventListener(()=>{clearTimeout(je),ue(Ee.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,Z);try{const je=yield ke.client.fetch(x);return yield ke.storage.deleteThrottleMetadata(),je}catch(je){if(!function Gt(k){if(!(k instanceof de.ZR&&k.customData))return!1;const x=Number(k.customData.httpStatus);return 429===x||500===x||503===x||504===x}(je))throw je;const at={throttleEndTimeMillis:Date.now()+(0,de.$s)(ue),backoffCount:ue+1};return yield ke.storage.setThrottleMetadata(at),ke.attemptFetch(x,at)}})()}}class It{constructor(x,Z,ue,ke,je){this.app=x,this._client=Z,this._storageCache=ue,this._storage=ke,this._logger=je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ut(k,x){var Z;const ue=k.target.error||void 0;return Ee.create(x,{originalErrorMessage:ue&&(null===(Z=ue)||void 0===Z?void 0:Z.message)})}const nn="app_namespace_store";class An{constructor(x,Z,ue,ke=function dn(){return new Promise((k,x)=>{var Z;try{const ue=indexedDB.open("firebase_remote_config",1);ue.onerror=ke=>{x(ut(ke,"storage-open"))},ue.onsuccess=ke=>{k(ke.target.result)},ue.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(nn,{keyPath:"compositeKey"})}}catch(ue){x(Ee.create("storage-open",{originalErrorMessage:null===(Z=ue)||void 0===Z?void 0:Z.message}))}})}()){this.appId=x,this.appName=Z,this.namespace=ue,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var Z=this;return(0,N.Z)(function*(){const ue=yield Z.openDbPromise;return new Promise((ke,je)=>{var at;const Ce=ue.transaction([nn],"readonly").objectStore(nn),Ct=Z.createCompositeKey(x);try{const bn=Ce.get(Ct);bn.onerror=wt=>{je(ut(wt,"storage-get"))},bn.onsuccess=wt=>{const hn=wt.target.result;ke(hn?hn.value:void 0)}}catch(bn){je(Ee.create("storage-get",{originalErrorMessage:null===(at=bn)||void 0===at?void 0:at.message}))}})})()}set(x,Z){var ue=this;return(0,N.Z)(function*(){const ke=yield ue.openDbPromise;return new Promise((je,at)=>{var Nt;const Ct=ke.transaction([nn],"readwrite").objectStore(nn),bn=ue.createCompositeKey(x);try{const wt=Ct.put({compositeKey:bn,value:Z});wt.onerror=hn=>{at(ut(hn,"storage-set"))},wt.onsuccess=()=>{je()}}catch(wt){at(Ee.create("storage-set",{originalErrorMessage:null===(Nt=wt)||void 0===Nt?void 0:Nt.message}))}})})()}delete(x){var Z=this;return(0,N.Z)(function*(){const ue=yield Z.openDbPromise;return new Promise((ke,je)=>{var at;const Ce=ue.transaction([nn],"readwrite").objectStore(nn),Ct=Z.createCompositeKey(x);try{const bn=Ce.delete(Ct);bn.onerror=wt=>{je(ut(wt,"storage-delete"))},bn.onsuccess=()=>{ke()}}catch(bn){je(Ee.create("storage-delete",{originalErrorMessage:null===(at=bn)||void 0===at?void 0:at.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Qn{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,N.Z)(function*(){const Z=x.storage.getLastFetchStatus(),ue=x.storage.getLastSuccessfulFetchTimestampMillis(),ke=x.storage.getActiveConfig(),je=yield Z;je&&(x.lastFetchStatus=je);const at=yield ue;at&&(x.lastSuccessfulFetchTimestampMillis=at);const Nt=yield ke;Nt&&(x.activeConfig=Nt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function lr(){return ze.apply(this,arguments)}function ze(){return(ze=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function wn(){(0,te._registerComponent)(new ge.wA("remote-config",function k(x,{instanceIdentifier:Z}){const ue=x.getProvider("app").getImmediate(),ke=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ee.create("registration-window");if(!(0,de.hl)())throw Ee.create("indexed-db-unavailable");const{projectId:je,apiKey:at,appId:Nt}=ue.options;if(!je)throw Ee.create("registration-project-id");if(!at)throw Ee.create("registration-api-key");if(!Nt)throw Ee.create("registration-app-id");const Ce=new An(Nt,ue.name,Z=Z||"firebase"),Ct=new Qn(Ce),bn=new oe.Yd(pe);bn.logLevel=oe.in.ERROR;const wt=new vt(ke,te.SDK_VERSION,Z,je,at,Nt),hn=new pn(wt,Ce),Fi=new Je(hn,Ce,Ct,bn),Li=new It(ue,Fi,Ct,Ce,bn);return function He(k){const x=(0,de.m9)(k);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Li),Li},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(pe,W),(0,te.registerVersion)(pe,W,"esm2017")}();var qt=O(8766);const gn="/firebase-messaging-sw.js",Zt="/firebase-cloud-messaging-push-scope",xn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yt="google.c.a.c_id",rn="google.c.a.c_l",Vt="google.c.a.ts",nt="google.c.a.e";var et=(()=>{return(k=et||(et={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",et;var k})();function Xt(k){const x=new Uint8Array(k);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sn(k){const Z=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(Z),ke=new Uint8Array(ue.length);for(let je=0;je<ue.length;++je)ke[je]=ue.charCodeAt(je);return ke}const kn="fcm_token_details_db",Fn="fcm_token_object_Store";function mt(k){return jn.apply(this,arguments)}function jn(){return jn=(0,N.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(je=>je.name).includes(kn))return null;let x=null;return(yield(0,qt.X3)(kn,5,{upgrade:(ue=(0,N.Z)(function*(ke,je,at,Nt){var Ce;if(je<2||!ke.objectStoreNames.contains(Fn))return;const Ct=Nt.objectStore(Fn),bn=yield Ct.index("fcmSenderId").get(k);if(yield Ct.clear(),bn)if(2===je){const wt=bn;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;x={token:wt.fcmToken,createTime:null!==(Ce=wt.createTime)&&void 0!==Ce?Ce:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:Xt(wt.vapidKey)}}}else if(3===je){const wt=bn;x={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Xt(wt.auth),p256dh:Xt(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Xt(wt.vapidKey)}}}else if(4===je){const wt=bn;x={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Xt(wt.auth),p256dh:Xt(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Xt(wt.vapidKey)}}}}),function(je,at,Nt,Ce){return ue.apply(this,arguments)})})).close(),yield(0,qt.Lj)(kn),yield(0,qt.Lj)("fcm_vapid_details_db"),yield(0,qt.Lj)("undefined"),At(x)?x:null;var ue}),jn.apply(this,arguments)}function At(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:x}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Ge="firebase-messaging-store";let Ie=null;function qe(){return Ie||(Ie=(0,qt.X3)("firebase-messaging-database",1,{upgrade:(k,x)=>{0===x&&k.createObjectStore(Ge)}})),Ie}function ot(k){return ht.apply(this,arguments)}function ht(){return(ht=(0,N.Z)(function*(k){const x=S(k),ue=yield(yield qe()).transaction(Ge).objectStore(Ge).get(x);if(ue)return ue;{const ke=yield mt(k.appConfig.senderId);if(ke)return yield St(k,ke),ke}})).apply(this,arguments)}function St(k,x){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*(k,x){const Z=S(k),ke=(yield qe()).transaction(Ge,"readwrite");return yield ke.objectStore(Ge).put(x,Z),yield ke.done,x})).apply(this,arguments)}function B(k){return R.apply(this,arguments)}function R(){return(R=(0,N.Z)(function*(k){const x=S(k),ue=(yield qe()).transaction(Ge,"readwrite");yield ue.objectStore(Ge).delete(x),yield ue.done})).apply(this,arguments)}function S({appConfig:k}){return k.appId}const M=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function j(k,x){return se.apply(this,arguments)}function se(){return(se=(0,N.Z)(function*(k,x){var Z;const ue=yield Rt(k),ke=Tt(x),je={method:"POST",headers:ue,body:JSON.stringify(ke)};let at;try{at=yield(yield fetch(Qe(k.appConfig),je)).json()}catch(Nt){throw M.create("token-subscribe-failed",{errorInfo:null===(Z=Nt)||void 0===Z?void 0:Z.toString()})}if(at.error)throw M.create("token-subscribe-failed",{errorInfo:at.error.message});if(!at.token)throw M.create("token-subscribe-no-token");return at.token})).apply(this,arguments)}function Pe(k,x){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(k,x){var Z;const ue=yield Rt(k),ke=Tt(x.subscriptionOptions),je={method:"PATCH",headers:ue,body:JSON.stringify(ke)};let at;try{at=yield(yield fetch(`${Qe(k.appConfig)}/${x.token}`,je)).json()}catch(Nt){throw M.create("token-update-failed",{errorInfo:null===(Z=Nt)||void 0===Z?void 0:Z.toString()})}if(at.error)throw M.create("token-update-failed",{errorInfo:at.error.message});if(!at.token)throw M.create("token-update-no-token");return at.token})).apply(this,arguments)}function fe(k,x){return De.apply(this,arguments)}function De(){return(De=(0,N.Z)(function*(k,x){var Z;const ke={method:"DELETE",headers:yield Rt(k)};try{const at=yield(yield fetch(`${Qe(k.appConfig)}/${x}`,ke)).json();if(at.error)throw M.create("token-unsubscribe-failed",{errorInfo:at.error.message})}catch(je){throw M.create("token-unsubscribe-failed",{errorInfo:null===(Z=je)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function Qe({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Rt(k){return pt.apply(this,arguments)}function pt(){return(pt=(0,N.Z)(function*({appConfig:k,installations:x}){const Z=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Tt({p256dh:k,auth:x,endpoint:Z,vapidKey:ue}){const ke={web:{endpoint:Z,auth:x,p256dh:k}};return ue!==xn&&(ke.web.applicationPubKey=ue),ke}const br=6048e5;function an(k){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,N.Z)(function*(k){const x=yield Mt(k.swRegistration,k.vapidKey),Z={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:x.endpoint,auth:Xt(x.getKey("auth")),p256dh:Xt(x.getKey("p256dh"))},ue=yield ot(k.firebaseDependencies);if(ue){if(ln(ue.subscriptionOptions,Z))return Date.now()>=ue.createTime+br?J(k,{token:ue.token,createTime:Date.now(),subscriptionOptions:Z}):ue.token;try{yield fe(k.firebaseDependencies,ue.token)}catch(ke){console.warn(ke)}return Le(k.firebaseDependencies,Z)}return Le(k.firebaseDependencies,Z)})).apply(this,arguments)}function Jr(k){return st.apply(this,arguments)}function st(){return(st=(0,N.Z)(function*(k){const x=yield ot(k.firebaseDependencies);x&&(yield fe(k.firebaseDependencies,x.token),yield B(k.firebaseDependencies));const Z=yield k.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function J(k,x){return ye.apply(this,arguments)}function ye(){return(ye=(0,N.Z)(function*(k,x){try{const Z=yield Pe(k.firebaseDependencies,x),ue=Object.assign(Object.assign({},x),{token:Z,createTime:Date.now()});return yield St(k.firebaseDependencies,ue),Z}catch(Z){throw yield Jr(k),Z}})).apply(this,arguments)}function Le(k,x){return rt.apply(this,arguments)}function rt(){return(rt=(0,N.Z)(function*(k,x){const ue={token:yield j(k,x),createTime:Date.now(),subscriptionOptions:x};return yield St(k,ue),ue.token})).apply(this,arguments)}function Mt(k,x){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,N.Z)(function*(k,x){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sn(x)})})).apply(this,arguments)}function ln(k,x){return x.vapidKey===k.vapidKey&&x.endpoint===k.endpoint&&x.auth===k.auth&&x.p256dh===k.p256dh}function sn(k){const x={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function ur(k,x){if(!x.notification)return;k.notification={};const Z=x.notification.title;Z&&(k.notification.title=Z);const ue=x.notification.body;ue&&(k.notification.body=ue);const ke=x.notification.image;ke&&(k.notification.image=ke);const je=x.notification.icon;je&&(k.notification.icon=je)}(x,k),function Jn(k,x){!x.data||(k.data=x.data)}(x,k),function Qt(k,x){var Z,ue,ke,je,at;if(!(x.fcmOptions||null!==(Z=x.notification)&&void 0!==Z&&Z.click_action))return;k.fcmOptions={};const Nt=null!==(ke=null===(ue=x.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==ke?ke:null===(je=x.notification)||void 0===je?void 0:je.click_action;Nt&&(k.fcmOptions.link=Nt);const Ce=null===(at=x.fcmOptions)||void 0===at?void 0:at.analytics_label;Ce&&(k.fcmOptions.analyticsLabel=Ce)}(x,k),x}function Su(k){return"object"==typeof k&&!!k&&Yt in k}function Ps(k,x){const Z=[];for(let ue=0;ue<k.length;ue++)Z.push(k.charAt(ue)),ue<x.length&&Z.push(x.charAt(ue));return Z.join("")}function Ni(k){return M.create("missing-app-config-values",{valueName:k})}Ps("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ps("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vr{constructor(x,Z,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function Ns(k){if(!k||!k.options)throw Ni("App Configuration Object");if(!k.name)throw Ni("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=k;for(const ue of x)if(!Z[ue])throw Ni(ue);return{appName:k.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ke,installations:Z,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function gi(k){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(k){var x;try{k.swRegistration=yield navigator.serviceWorker.register(gn,{scope:Zt}),k.swRegistration.update().catch(()=>{})}catch(Z){throw M.create("failed-service-worker-registration",{browserErrorMessage:null===(x=Z)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function Wn(k,x){return la.apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(k,x){if(!x&&!k.swRegistration&&(yield gi(k)),x||!k.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw M.create("invalid-sw-registration");k.swRegistration=x}})).apply(this,arguments)}function Zn(k,x){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*(k,x){x?k.vapidKey=x:k.vapidKey||(k.vapidKey=xn)})).apply(this,arguments)}function ts(){return(ts=(0,N.Z)(function*(k,x){if(!navigator)throw M.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw M.create("permission-blocked");return yield Zn(k,x?.vapidKey),yield Wn(k,x?.serviceWorkerRegistration),an(k)})).apply(this,arguments)}function ns(k,x,Z){return Or.apply(this,arguments)}function Or(){return(Or=(0,N.Z)(function*(k,x,Z){const ue=vo(x);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:Z[Yt],message_name:Z[rn],message_time:Z[Vt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vo(k){switch(k){case et.NOTIFICATION_CLICKED:return"notification_open";case et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Os(){return(Os=(0,N.Z)(function*(k,x){const Z=x.data;if(!Z.isFirebaseMessaging)return;k.onMessageHandler&&Z.messageType===et.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(sn(Z)):k.onMessageHandler.next(sn(Z)));const ue=Z.data;Su(ue)&&"1"===ue[nt]&&(yield ns(k,Z.messageType,ue))})).apply(this,arguments)}const rs="@firebase/messaging",xr=k=>{const x=new Vr(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Pd(k,x){return Os.apply(this,arguments)}(x,Z)),x},Nd=k=>{const x=k.getProvider("messaging").getImmediate();return{getToken:ue=>function mi(k,x){return ts.apply(this,arguments)}(x,ue)}};function Mu(){return Co.apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ei(){(0,te._registerComponent)(new ge.wA("messaging",xr,"PUBLIC")),(0,te._registerComponent)(new ge.wA("messaging-internal",Nd,"PRIVATE")),(0,te.registerVersion)(rs,"0.11.0"),(0,te.registerVersion)(rs,"0.11.0","esm2017")}();var il=O(6148),ua=O(4408),Xf=O(7565);const Xn=new class ca extends Xf.v{}(class wo extends ua.o{constructor(x,Z){super(x,Z),this.scheduler=x,this.work=Z}schedule(x,Z=0){return Z>0?super.schedule(x,Z):(this.delay=Z,this.state=x,this.scheduler.flush(this),this)}execute(x,Z){return Z>0||this.closed?super.execute(x,Z):this._execute(x,Z)}requestAsyncId(x,Z,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(x,Z,ue):x.flush(this)}});var Oi=O(4986),da=O(9751),ha=O(8505),bo=O(9468),fa=O(5363);const is=new u.GfV("7.5.0"),pa="__angularfire_symbol__analyticsIsSupportedValue",ti="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",dr="__angularfire_symbol__remoteConfigIsSupported",xi="__angularfire_symbol__messagingIsSupportedValue",Ir="__angularfire_symbol__messagingIsSupported";function sl(k,x,Z){if(x){if(1===x.length)return x[0];const je=x.filter(at=>at.app===Z);if(1===je.length)return je[0]}return Z.container.getProvider(k).getImmediate({optional:!0})}globalThis[ti]||(globalThis[ti]=(0,il.Gb)().then(k=>globalThis[pa]=k).catch(()=>globalThis[pa]=!1)),globalThis[Ir]||(globalThis[Ir]=Mu().then(k=>globalThis[xi]=k).catch(()=>globalThis[xi]=!1)),globalThis[dr]||(globalThis[dr]=lr().then(k=>globalThis[ga]=k).catch(()=>globalThis[ga]=!1));const Nu=(k,x)=>{const Z=x?[x]:(0,U.C6)(),ue=[];return Z.forEach(ke=>{ke.container.getProvider(k).instances.forEach(at=>{ue.includes(at)||ue.push(at)})}),ue};function $r(){}class hr{constructor(x,Z=Xn){this.zone=x,this.delegate=Z}now(){return this.delegate.now()}schedule(x,Z,ue){const ke=this.zone;return this.delegate.schedule(function(at){ke.runGuarded(()=>{x.apply(this,[at])})},Z,ue)}}class ol{constructor(x){this.zone=x,this.task=null}call(x,Z){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$r,{},$r,$r)),Z.pipe((0,ha.b)({next:ue,complete:ue,error:ue})).subscribe(x).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let os=(()=>{class k{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new hr(Zone.current)),this.insideAngular=Z.run(()=>new hr(Zone.current,Oi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(Z){return new(Z||k)(u.LFG(u.R0b))},k.\u0275prov=u.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function yr(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Jt(k){return yr().ngZone.runOutsideAngular(()=>k())}function yi(k){return yr().ngZone.run(()=>k())}function Br(k){return yr(),function Fs(k){return function(Z){return(Z=Z.lift(new ol(k.ngZone))).pipe((0,bo.R)(k.outsideAngular),(0,fa.Q)(k.insideAngular))}}(yr())(k)}const Ls=(k,x)=>function(){const ue=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),yi(()=>k.apply(void 0,ue))},bt=(k,x)=>function(){let Z;const ue=arguments;for(let je=0;je<arguments.length;je++)"function"==typeof ue[je]&&(x&&(Z||(Z=yi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$r,{},$r,$r)))),ue[je]=Ls(ue[je],Z));const ke=Jt(()=>k.apply(this,ue));if(!x){if(ke instanceof da.y){const je=yr();return ke.pipe((0,bo.R)(je.outsideAngular),(0,fa.Q)(je.insideAngular))}return yi(()=>ke)}return ke instanceof da.y?ke.pipe(Br):ke instanceof Promise?yi(()=>new Promise((je,at)=>ke.then(Nt=>yi(()=>je(Nt)),Nt=>yi(()=>at(Nt))))):"function"==typeof ke&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),ke.apply(this,arguments)}:yi(()=>ke)}},8247:(it,Te,O)=>{O.d(Te,{$:()=>je,A:()=>G,B:()=>Ee,G:()=>ye,H:()=>ln,J:()=>ei,L:()=>$,M:()=>ca,N:()=>da,P:()=>vp,Q:()=>ha,R:()=>T_,T:()=>bo,U:()=>Oi,V:()=>ti,W:()=>ga,X:()=>ep,Y:()=>Fs,Z:()=>bt,_:()=>x,a:()=>us,a0:()=>bn,a1:()=>hn,a2:()=>Li,a3:()=>vi,a4:()=>ma,a5:()=>as,a6:()=>Ln,a7:()=>Ci,a8:()=>ya,a9:()=>ls,aA:()=>B,aB:()=>ai,aC:()=>rr,aD:()=>th,aE:()=>st,aI:()=>To,aL:()=>is,aa:()=>b_,ab:()=>Ou,ac:()=>ku,af:()=>rp,ag:()=>ip,ah:()=>Vd,ak:()=>$r,al:()=>up,an:()=>cp,ao:()=>Hd,ap:()=>_e,aq:()=>De,ar:()=>Pe,as:()=>$e,at:()=>xo,au:()=>li,av:()=>Qe,aw:()=>Re,ax:()=>X,ay:()=>Na,az:()=>Y,b:()=>Bs,c:()=>nr,d:()=>eh,e:()=>Xd,f:()=>Kn,g:()=>nh,h:()=>si,i:()=>yl,j:()=>wi,k:()=>oc,l:()=>Hi,m:()=>bi,n:()=>Dp,o:()=>ce,r:()=>ji,s:()=>ii,u:()=>Yd});var u=O(5861),U=O(2090),N=O(9681),te=O(1877),de=O(655),ge=O(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},we=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ae=new te.Yd("@firebase/auth");function Ye(_,...f){ae.logLevel<=te.in.ERROR&&ae.error(`Auth (${N.SDK_VERSION}): ${_}`,...f)}function $e(_,...f){throw He(_,...f)}function Re(_,...f){return He(_,...f)}function Ae(_,f,g){const C=Object.assign(Object.assign({},we()),{[f]:g});return new U.LL("auth","Firebase",C).create(f,{appName:_.name})}function ve(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&$e(_,"argument-error"),Ae(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(_,...f){if("string"!=typeof _){const g=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=_.name),_._errorFactory.create(g,...C)}return We.create(_,...f)}function X(_,f,...g){if(!_)throw He(f,...g)}function ie(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ye(f),new Error(f)}function _e(_,f){_||ie(f)}const K=new Map;function Y(_){_e(_ instanceof Function,"Expected a class definition");let f=K.get(_);return f?(_e(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,K.set(_,f),f)}function Fe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function xe(){return"http:"===Je()||"https:"===Je()}function Je(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Be{constructor(f,g){this.shortDelay=f,this.longDelay=g,_e(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gt(_,f){_e(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class pn{static initialize(f,g,C){this.fetchImpl=f,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},kt=new Be(3e4,6e4);function It(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function ut(_,f,g,C){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(_,f,g,C,D={}){return ar(_,D,(0,u.Z)(function*(){let P={},ee={};C&&("GET"===f?ee=C:P={body:JSON.stringify(C)});const Se=(0,U.xO)(Object.assign({key:_.config.apiKey},ee)).slice(1),Ke=yield _._getAdditionalHeaders();return Ke["Content-Type"]="application/json",_.languageCode&&(Ke["X-Firebase-Locale"]=_.languageCode),pn.fetch()(Qn(_,_.config.apiHost,g,Se),Object.assign({method:f,headers:Ke,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function ar(_,f,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(_,f,g){_._canInitEmulator=!1;const C=Object.assign(Object.assign({},$t),f);try{const D=new wn(_),P=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const ee=yield P.json();if("needConfirmation"in ee)throw yn(_,"account-exists-with-different-credential",ee);if(P.ok&&!("errorMessage"in ee))return ee;{const Se=P.ok?ee.errorMessage:ee.error.message,[Ke,gt]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw yn(_,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Ke)throw yn(_,"email-already-in-use",ee);if("USER_DISABLED"===Ke)throw yn(_,"user-disabled",ee);const Lt=C[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw Ae(_,Lt,gt);$e(_,Lt)}}catch(D){if(D instanceof U.ZR)throw D;$e(_,"network-request-failed")}})).apply(this,arguments)}function dn(_,f,g,C){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(_,f,g,C,D={}){const P=yield ut(_,f,g,C,D);return"mfaPendingCredential"in P&&$e(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Qn(_,f,g,C){const D=`${f}${g}?${C}`;return _.config.emulator?Gt(_.config,D):`${_.config.apiScheme}://${D}`}class wn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Re(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(_,f,g){const C={appName:_.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const D=Re(_,f,C);return D.customData._tokenResponse=g,D}function lr(){return(lr=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ze(_,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gn(_,f){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function xn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function rn(){return(rn=(0,u.Z)(function*(_,f=!1){const g=(0,U.m9)(_),C=yield g.getIdToken(f),D=nt(C);X(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const P="object"==typeof D.firebase?D.firebase:void 0,ee=P?.sign_in_provider;return{claims:D,token:C,authTime:xn(Vt(D.auth_time)),issuedAtTime:xn(Vt(D.iat)),expirationTime:xn(Vt(D.exp)),signInProvider:ee||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(_){return 1e3*Number(_)}function nt(_){var f;const[g,C,D]=_.split(".");if(void 0===g||void 0===C||void 0===D)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,U.tV)(C);return P?JSON.parse(P):(Ye("Failed to decode base64 JWT payload"),null)}catch(P){return Ye("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function et(_,f){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(C){throw C instanceof U.ZR&&Sn(C)&&_.auth.currentUser===_&&(yield _.auth.signOut()),C}})).apply(this,arguments)}function Sn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class kn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),C)}iteration(){var f=this;return(0,u.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(g=C)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class ft{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(_){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_){var f;const g=_.auth,C=yield _.getIdToken(),D=yield et(_,gn(g,{idToken:C}));X(D?.users.length,g,"internal-error");const P=D.users[0];_._notifyReloadListener(P);const ee=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?on(P.providerUserInfo):[],Se=Mn(_.providerData,ee),Lt=!!_.isAnonymous&&!(_.email&&P.passwordHash||Se?.length),fn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Se,metadata:new ft(P.createdAt,P.lastLoginAt),isAnonymous:Lt};Object.assign(_,fn)})).apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(_){const f=(0,U.m9)(_);yield Fn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Mn(_,f){return[..._.filter(C=>!f.some(D=>D.providerId===C.providerId)),...f]}function on(_){return _.map(f=>{var{providerId:g}=f,C=(0,de._T)(f,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ie(){return(Ie=(0,u.Z)(function*(_,f){const g=yield ar(_,{},(0,u.Z)(function*(){const C=(0,U.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:P}=_.config,ee=Qn(_,D,"/v1/token",`key=${P}`),Se=yield _._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(ee,{method:"POST",headers:Se,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){X(f.idToken,"internal-error"),X(typeof f.idToken<"u","internal-error"),X(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Xe(_){const f=nt(_);return X(f,"internal-error"),X(typeof f.exp<"u","internal-error"),X(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var C=this;return(0,u.Z)(function*(){return X(!C.accessToken||C.refreshToken,f,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var C=this;return(0,u.Z)(function*(){const{accessToken:D,refreshToken:P,expiresIn:ee}=yield function Ge(_,f){return Ie.apply(this,arguments)}(f,g);C.updateTokensAndExpiration(D,P,Number(ee))})()}updateTokensAndExpiration(f,g,C){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,g){const{refreshToken:C,accessToken:D,expirationTime:P}=g,ee=new qe;return C&&(X("string"==typeof C,"internal-error",{appName:f}),ee.refreshToken=C),D&&(X("string"==typeof D,"internal-error",{appName:f}),ee.accessToken=D),P&&(X("number"==typeof P,"internal-error",{appName:f}),ee.expirationTime=P),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return ie("not implemented")}}function ot(_,f){X("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ht{constructor(f){var{uid:g,auth:C,stsTokenManager:D}=f,P=(0,de._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new ft(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const C=yield et(g,g.stsTokenManager.getToken(g.auth,f));return X(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(f){return function Yt(_){return rn.apply(this,arguments)}(this,f)}reload(){return function jn(_){return At.apply(this,arguments)}(this)}_assign(f){this!==f&&(X(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ht(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var C=this;return(0,u.Z)(function*(){let D=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),D=!0),g&&(yield Fn(C)),yield C.auth._persistUserIfCurrent(C),D&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield et(f,function $n(_,f){return lr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var C,D,P,ee,Se,Ke,gt,Lt;const fn=null!==(C=g.displayName)&&void 0!==C?C:void 0,Cr=null!==(D=g.email)&&void 0!==D?D:void 0,Tr=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Js=null!==(ee=g.photoURL)&&void 0!==ee?ee:void 0,uh=null!==(Se=g.tenantId)&&void 0!==Se?Se:void 0,dc=null!==(Ke=g._redirectEventId)&&void 0!==Ke?Ke:void 0,_s=null!==(gt=g.createdAt)&&void 0!==gt?gt:void 0,ch=null!==(Lt=g.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:hc,emailVerified:fc,isAnonymous:dh,providerData:Fo,stsTokenManager:qi}=g;X(hc&&qi,f,"internal-error");const Tp=qe.fromJSON(this.name,qi);X("string"==typeof hc,f,"internal-error"),ot(fn,f.name),ot(Cr,f.name),X("boolean"==typeof fc,f,"internal-error"),X("boolean"==typeof dh,f,"internal-error"),ot(Tr,f.name),ot(Js,f.name),ot(uh,f.name),ot(dc,f.name),ot(_s,f.name),ot(ch,f.name);const Xs=new ht({uid:hc,auth:f,email:Cr,emailVerified:fc,displayName:fn,isAnonymous:dh,photoURL:Js,phoneNumber:Tr,tenantId:uh,stsTokenManager:Tp,createdAt:_s,lastLoginAt:ch});return Fo&&Array.isArray(Fo)&&(Xs.providerData=Fo.map(Ap=>Object.assign({},Ap))),dc&&(Xs._redirectEventId=dc),Xs}static _fromIdTokenResponse(f,g,C=!1){return(0,u.Z)(function*(){const D=new qe;D.updateFromServerResponse(g);const P=new ht({uid:g.localId,auth:f,stsTokenManager:D,isAnonymous:C});return yield Fn(P),P})()}}const $=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,C){var D=this;return(0,u.Z)(function*(){D.storage[g]=C})()}_get(g){var C=this;return(0,u.Z)(function*(){const D=C.storage[g];return void 0===D?null:D})()}_remove(g){var C=this;return(0,u.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return _.type="NONE",_})();function B(_,f,g){return`firebase:${_}:${f}:${g}`}class R{constructor(f,g,C){this.persistence=f,this.auth=g,this.userKey=C;const{config:D,name:P}=this.auth;this.fullUserKey=B(this.userKey,D.apiKey,P),this.fullPersistenceKey=B("persistence",D.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ht._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,C="authUser"){return(0,u.Z)(function*(){if(!g.length)return new R(Y($),f,C);const D=(yield Promise.all(g.map(function(){var gt=(0,u.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let P=D[0]||Y($);const ee=B(C,f.config.apiKey,f.name);let Se=null;for(const gt of g)try{const Lt=yield gt._get(ee);if(Lt){const fn=ht._fromJSON(f,Lt);gt!==P&&(Se=fn),P=gt;break}}catch{}const Ke=D.filter(gt=>gt._shouldAllowMigration);return P._shouldAllowMigration&&Ke.length?(P=Ke[0],Se&&(yield P._set(ee,Se.toJSON())),yield Promise.all(g.map(function(){var gt=(0,u.Z)(function*(Lt){if(Lt!==P)try{yield Lt._remove(ee)}catch{}});return function(Lt){return gt.apply(this,arguments)}}())),new R(P,f,C)):new R(P,f,C)})()}}function S(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(se(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(I(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ve(f))return"Blackberry";if(fe(f))return"Webos";if(M(f))return"Safari";if((f.includes("chrome/")||j(f))&&!f.includes("edge/"))return"Chrome";if(Pe(f))return"Android";{const C=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function I(_=(0,U.z$)()){return/firefox\//i.test(_)}function M(_=(0,U.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function j(_=(0,U.z$)()){return/crios\//i.test(_)}function se(_=(0,U.z$)()){return/iemobile/i.test(_)}function Pe(_=(0,U.z$)()){return/android/i.test(_)}function Ve(_=(0,U.z$)()){return/blackberry/i.test(_)}function fe(_=(0,U.z$)()){return/webos/i.test(_)}function De(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Qe(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Tt(_=(0,U.z$)()){return De(_)||Pe(_)||fe(_)||Ve(_)||/windows phone/i.test(_)||se(_)}function an(_,f=[]){let g;switch(_){case"Browser":g=S((0,U.z$)());break;case"Worker":g=`${S((0,U.z$)())}-${_}`;break;default:g=_}const C=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${C}`}class Qr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const C=P=>new Promise((ee,Se)=>{try{ee(f(P))}catch(Ke){Se(Ke)}});C.onAbort=g,this.queue.push(C);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.Z)(function*(){var C;if(g.auth.currentUser===f)return;const D=[];try{for(const P of g.queue)yield P(f),P.onAbort&&D.push(P.onAbort)}catch(P){D.reverse();for(const ee of D)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=P)||void 0===C?void 0:C.message})}})()}}class Jr{constructor(f,g,C){this.app=f,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J(this),this.idTokenSubscription=new J(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(f,g){var C=this;return g&&(this._popupRedirectResolver=Y(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var D,P;if(!C._deleted&&(C.persistenceManager=yield R.create(C,f),!C._deleted)){if(null!==(D=C._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(P=C.currentUser)||void 0===P?void 0:P.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var C;const D=yield g.assertedPersistence.getCurrentUser();let P=D,ee=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Se=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Ke=P?._redirectEventId,gt=yield g.tryRedirectSignIn(f);(!Se||Se===Ke)&&gt?.user&&(P=gt.user,ee=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(ee)try{yield g.beforeStateQueue.runMiddleware(P)}catch(Se){P=D,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Se))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return X(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){var C;try{yield Fn(f)}catch(D){if("auth/network-request-failed"!==(null===(C=D)||void 0===C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function vt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const C=f?(0,U.m9)(f):null;return C&&X(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(f,g=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return f&&X(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Y(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new U.LL("auth","Firebase",f())}onAuthStateChanged(f,g,C){return this.registerStateListener(this.authStateSubscription,f,g,C)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,C){return this.registerStateListener(this.idTokenSubscription,f,g,C)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var C=this;return(0,u.Z)(function*(){const D=yield C.getOrInitRedirectPersistenceManager(g);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const C=f&&Y(f)||g._popupRedirectResolver;X(C,g,"argument-error"),g.redirectPersistenceManager=yield R.create(g,[Y(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var C,D;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===f?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,C,D){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return X(ee,this,"internal-error"),ee.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,C,D):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=an(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return D&&(C["X-Firebase-Client"]=D),C})()}}function st(_){return(0,U.m9)(_)}class J{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ye(_,f,g){const C=st(_);X(C._canInitEmulator,C,"emulator-config-failed"),X(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const D=!!g?.disableWarnings,P=Le(f),{host:ee,port:Se}=function rt(_){const f=Le(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(C);if(D){const P=D[1];return{host:P,port:Mt(C.substr(P.length+1))}}{const[P,ee]=C.split(":");return{host:P,port:Mt(ee)}}}(f);C.config.emulator={url:`${P}//${ee}${null===Se?"":`:${Se}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ee,port:Se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Wt(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Le(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Mt(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class ln{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ie("not implemented")}_getIdTokenResponse(f){return ie("not implemented")}_linkToIdToken(f,g){return ie("not implemented")}_getReauthenticationResolver(f){return ie("not implemented")}}function sn(_,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:resetPassword",It(_,f))})).apply(this,arguments)}function Jn(_,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Su(_,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:update",It(_,f))})).apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithPassword",It(_,f))})).apply(this,arguments)}function Vr(_,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:sendOobCode",It(_,f))})).apply(this,arguments)}function Xr(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,f){return Vr(_,f)})).apply(this,arguments)}function la(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(_,f){return Vr(_,f)})).apply(this,arguments)}function cr(_,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(_,f){return Vr(_,f)})).apply(this,arguments)}function ts(_,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(_,f){return Vr(_,f)})).apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithEmailLink",It(_,f))})).apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithEmailLink",It(_,f))})).apply(this,arguments)}class rs extends ln{constructor(f,g,C,D=null){super("password",C),this._email=f,this._password=g,this._tenantId=D}static _fromEmailAndPassword(f,g){return new rs(f,g,"password")}static _fromEmailAndCode(f,g,C=null){return new rs(f,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Ns(_,f){return Ni.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Or(_,f){return vo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:$e(f,"internal-error")}})()}_linkToIdToken(f,g){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return Jn(f,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Pd(_,f){return Os.apply(this,arguments)}(f,{idToken:g,email:C._email,oobCode:C._password});default:$e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _i(_,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithIdp",It(_,f))})).apply(this,arguments)}class ei extends ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ei(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):$e("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:D}=g,P=(0,de._T)(g,["providerId","signInMethod"]);if(!C||!D)return null;const ee=new ei(C,D);return ee.idToken=P.idToken||void 0,ee.accessToken=P.accessToken||void 0,ee.secret=P.secret,ee.nonce=P.nonce,ee.pendingToken=P.pendingToken||null,ee}_getIdTokenResponse(f){return _i(f,this.buildRequest())}_linkToIdToken(f,g){const C=this.buildRequest();return C.idToken=g,_i(f,C)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_i(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,U.xO)(g)}return f}}function Mu(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:sendVerificationCode",It(_,f))})).apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithPhoneNumber",It(_,f))})).apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(_,f){const g=yield dn(_,"POST","/v1/accounts:signInWithPhoneNumber",It(_,f));if(g.temporaryProof)throw yn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Jf={USER_NOT_FOUND:"user-not-found"};function Pu(){return(Pu=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithPhoneNumber",It(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Jf)})).apply(this,arguments)}class xs extends ln{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new xs({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new xs({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Od(_,f){return Eo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function xd(_,f){return Ru.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function rl(_,f){return Pu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:C,verificationCode:D}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:C,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:C,phoneNumber:D,temporaryProof:P}=f;return C||g||D||P?new xs({verificationId:g,verificationCode:C,phoneNumber:D,temporaryProof:P}):null}}class wo{constructor(f){var g,C,D,P,ee,Se;const Ke=(0,U.zd)((0,U.pd)(f)),gt=null!==(g=Ke.apiKey)&&void 0!==g?g:null,Lt=null!==(C=Ke.oobCode)&&void 0!==C?C:null,fn=function il(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ke.mode)&&void 0!==D?D:null);X(gt&&Lt&&fn,"argument-error"),this.apiKey=gt,this.operation=fn,this.code=Lt,this.continueUrl=null!==(P=Ke.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ee=Ke.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(Se=Ke.tenantId)&&void 0!==Se?Se:null}static parseLink(f){const g=function ua(_){const f=(0,U.zd)((0,U.pd)(_)).link,g=f?(0,U.zd)((0,U.pd)(f)).deep_link_id:null,C=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(C?(0,U.zd)((0,U.pd)(C)).link:null)||C||g||f||_}(f);try{return new wo(g)}catch{return null}}}let ca=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,C){return rs._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const D=wo.parseLink(C);return X(D,"argument-error"),rs._fromEmailAndCode(g,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Xn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ks extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Oi extends ks{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return X("providerId"in g&&"signInMethod"in g,"argument-error"),ei._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return X(f.idToken||f.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Oi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Oi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:D,pendingToken:P,nonce:ee,providerId:Se}=f;if(!C&&!D&&!g&&!P||!Se)return null;try{return new Oi(Se)._credential({idToken:g,accessToken:C,nonce:ee,pendingToken:P})}catch{return null}}}let da=(()=>{class _ extends ks{constructor(){super("facebook.com")}static credential(g){return ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ha=(()=>{class _ extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:D}=g;if(!C&&!D)return null;try{return _.credential(C,D)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),bo=(()=>{class _ extends ks{constructor(){super("github.com")}static credential(g){return ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class is extends ln{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _i(f,this.buildRequest())}_linkToIdToken(f,g){const C=this.buildRequest();return C.idToken=g,_i(f,C)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_i(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:D,pendingToken:P}=g;return C&&D&&P&&C===D?new is(C,P):null}static _create(f,g){return new is(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ti extends Xn{constructor(f){X(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ti.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ti.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=is.fromJSON(f);return X(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:C}=f;if(!g||!C)return null;try{return is._create(C,g)}catch{return null}}}let ga=(()=>{class _ extends ks{constructor(){super("twitter.com")}static credential(g,C){return ei._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:D}=g;if(!C||!D)return null;try{return _.credential(C,D)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function dr(_,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signUp",It(_,f))})).apply(this,arguments)}class Ir{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,C,D=!1){return(0,u.Z)(function*(){const P=yield ht._fromIdTokenResponse(f,C,D),ee=ss(C);return new Ir({user:P,providerId:ee,_tokenResponse:C,operationType:g})})()}static _forOperation(f,g,C){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const D=ss(C);return new Ir({user:f,providerId:D,_tokenResponse:C,operationType:g})})()}}function ss(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ep(_){return kd.apply(this,arguments)}function kd(){return(kd=(0,u.Z)(function*(_){var f;const g=st(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Ir({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield dr(g,{returnSecureToken:!0}),D=yield Ir._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Rn extends U.ZR{constructor(f,g,C,D){var P;super(g.code,g.message),this.operationType=C,this.user=D,Object.setPrototypeOf(this,Rn.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,g,C,D){return new Rn(f,g,C,D)}}function sl(_,f,g,C){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Rn._fromErrorAndOperation(_,P,f,C):P})}function Nu(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function $r(_,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(_,f){const g=(0,U.m9)(_);yield yr(!0,g,f);const{providerUserInfo:C}=yield ze(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),D=Nu(C||[]);return g.providerData=g.providerData.filter(P=>D.has(P.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ol(_,f){return os.apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(_,f,g=!1){const C=yield et(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Ir._forOperation(_,"link",C)})).apply(this,arguments)}function yr(_,f,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(_,f,g){yield Fn(f);const D=!1===_?"provider-already-linked":"no-such-provider";X(Nu(f.providerData).has(g)===_,f.auth,D)})).apply(this,arguments)}function yi(_,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(_,f,g=!1){var C;const{auth:D}=_,P="reauthenticate";try{const ee=yield et(_,sl(D,P,f,_),g);X(ee.idToken,D,"internal-error");const Se=nt(ee.idToken);X(Se,D,"internal-error");const{sub:Ke}=Se;return X(_.uid===Ke,D,"user-mismatch"),Ir._forOperation(_,P,ee)}catch(ee){throw"auth/user-not-found"===(null===(C=ee)||void 0===C?void 0:C.code)&&$e(D,"user-mismatch"),ee}})).apply(this,arguments)}function Fd(_,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(_,f,g=!1){const C="signIn",D=yield sl(_,C,f),P=yield Ir._fromIdTokenResponse(_,C,D);return g||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Fs(_,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(_,f){return Fd(st(_),f)})).apply(this,arguments)}function bt(_,f){return k.apply(this,arguments)}function k(){return(k=(0,u.Z)(function*(_,f){const g=(0,U.m9)(_);return yield yr(!1,g,f.providerId),ol(g,f)})).apply(this,arguments)}function x(_,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(_,f){return yi((0,U.m9)(_),f)})).apply(this,arguments)}function ue(_,f){return ke.apply(this,arguments)}function ke(){return(ke=(0,u.Z)(function*(_,f){return dn(_,"POST","/v1/accounts:signInWithCustomToken",It(_,f))})).apply(this,arguments)}function je(_,f){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(_,f){const g=st(_),C=yield ue(g,{token:f,returnSecureToken:!0}),D=yield Ir._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class Nt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ce._fromServerResponse(f,g):$e(f,"internal-error")}}class Ce extends Nt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ce(g)}}function Ct(_,f,g){var C;X((null===(C=g.url)||void 0===C?void 0:C.length)>0,_,"invalid-continue-uri"),X(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(X(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(X(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function bn(_,f,g){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_),D={requestType:"PASSWORD_RESET",email:f};g&&Ct(C,D,g),yield la(C,D)})).apply(this,arguments)}function hn(_,f,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(_,f,g){yield sn((0,U.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Li(_,f){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(_,f){yield Su((0,U.m9)(_),{oobCode:f})})).apply(this,arguments)}function vi(_,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(_,f){const g=(0,U.m9)(_),C=yield sn(g,{oobCode:f}),D=C.requestType;switch(X(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(C.mfaInfo,g,"internal-error");default:X(C.email,g,"internal-error")}let P=null;return C.mfaInfo&&(P=Nt._fromServerResponse(st(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:P},operation:D}})).apply(this,arguments)}function ma(_,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(_,f){const{data:g}=yield vi((0,U.m9)(_),f);return g.email})).apply(this,arguments)}function as(_,f,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(_,f,g){const C=st(_),D=yield dr(C,{returnSecureToken:!0,email:f,password:g}),P=yield Ir._fromIdTokenResponse(C,"signIn",D);return yield C._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ln(_,f,g){return Fs((0,U.m9)(_),ca.credential(f,g))}function Ci(_,f,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_),D={requestType:"EMAIL_SIGNIN",email:f};X(g.handleCodeInApp,C,"argument-error"),g&&Ct(C,D,g),yield cr(C,D)})).apply(this,arguments)}function ya(_,f){return"EMAIL_SIGNIN"===wo.parseLink(f)?.operation}function ls(_,f,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_),D=ca.credentialWithLink(f,g||Fe());return X(D._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Fs(C,D)})).apply(this,arguments)}function tp(_,f){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:createAuthUri",It(_,f))})).apply(this,arguments)}function b_(_,f){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(_,f){const C={identifier:f,continueUri:xe()?Fe():"http://localhost"},{signinMethods:D}=yield tp((0,U.m9)(_),C);return D||[]})).apply(this,arguments)}function Ou(_,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,u.Z)(function*(_,f){const g=(0,U.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ct(g.auth,D,f);const{email:P}=yield Xr(g.auth,D);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function ku(_,f,g){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Ct(C.auth,P,g);const{email:ee}=yield ts(C.auth,P);ee!==_.email&&(yield _.reload())})).apply(this,arguments)}function np(_,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(_,f){return ut(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function rp(_,f){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,u.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const C=(0,U.m9)(_),P={idToken:yield C.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},ee=yield et(C,np(C.auth,P));C.displayName=ee.displayName||null,C.photoURL=ee.photoUrl||null;const Se=C.providerData.find(({providerId:Ke})=>"password"===Ke);Se&&(Se.displayName=C.displayName,Se.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ee)})).apply(this,arguments)}function ip(_,f){return Do((0,U.m9)(_),f,null)}function Vd(_,f){return Do((0,U.m9)(_),null,f)}function Do(_,f,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(_,f,g){const{auth:C}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const ee=yield et(_,Jn(C,P));yield _._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Pn{constructor(f,g,C={}){this.isNewUser=f,this.providerId=g,this.profile=C}}class Vi extends Pn{constructor(f,g,C,D){super(f,g,C),this.username=D}}class Nn extends Pn{constructor(f,g){super(f,"facebook.com",g)}}class op extends Vi{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ap extends Pn{constructor(f,g){super(f,"google.com",g)}}class lp extends Vi{constructor(f,g,C){super(f,"twitter.com",g,C)}}function up(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function sp(_){var f,g;if(!_)return null;const{providerId:C}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!C&&_?.idToken){const ee=null===(g=null===(f=nt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(ee)return new Pn(P,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!C)return null;switch(C){case"facebook.com":return new Nn(P,D);case"github.com":return new op(P,D);case"google.com":return new ap(P,D);case"twitter.com":return new lp(P,D,_.screenName||null);case"custom":case"anonymous":return new Pn(P,null);default:return new Pn(P,C,D)}}(g)}class Wr{constructor(f,g,C){this.type=f,this.credential=g,this.auth=C}static _fromIdtoken(f,g){return new Wr("enroll",f,g)}static _fromMfaPendingCredential(f){return new Wr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,C;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Wr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return Wr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Hu{constructor(f,g,C){this.session=f,this.hints=g,this.signInResolver=C}static _fromError(f,g){const C=st(f),D=g.customData._serverResponse,P=(D.mfaInfo||[]).map(Se=>Nt._fromServerResponse(C,Se));X(D.mfaPendingCredential,C,"internal-error");const ee=Wr._fromMfaPendingCredential(D.mfaPendingCredential);return new Hu(ee,P,function(){var Se=(0,u.Z)(function*(Ke){const gt=yield Ke._process(C,ee);delete D.mfaInfo,delete D.mfaPendingCredential;const Lt=Object.assign(Object.assign({},D),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(g.operationType){case"signIn":const fn=yield Ir._fromIdTokenResponse(C,g.operationType,Lt);return yield C._updateCurrentUser(fn.user),fn;case"reauthenticate":return X(g.user,C,"internal-error"),Ir._forOperation(g.user,g.operationType,Lt);default:$e(C,"internal-error")}});return function(Ke){return Se.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function cp(_,f){var g;const C=(0,U.m9)(_),D=f;return X(f.customData.operationType,C,"argument-error"),X(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),Hu._fromError(C,D)}function Ca(_,f){return ut(_,"POST","/v2/accounts/mfaEnrollment:start",It(_,f))}class hl{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Nt._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new hl(f)}getSession(){var f=this;return(0,u.Z)(function*(){return Wr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var C=this;return(0,u.Z)(function*(){const D=f,P=yield C.getSession(),ee=yield et(C.user,D._process(C.user.auth,P,g));return yield C.user._updateTokensIfNecessary(ee),C.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){var C;const D="string"==typeof f?f:f.uid,P=yield g.user.getIdToken(),ee=yield et(g.user,function dl(_,f){return ut(_,"POST","/v2/accounts/mfaEnrollment:withdraw",It(_,f))}(g.user.auth,{idToken:P,mfaEnrollmentId:D}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Se})=>Se!==D),yield g.user._updateTokensIfNecessary(ee);try{yield g.user.reload()}catch(Se){if("auth/user-token-expired"!==(null===(C=Se)||void 0===C?void 0:C.code))throw Se}})()}}const dp=new WeakMap;function Hd(_){const f=(0,U.m9)(_);return dp.has(f)||dp.set(f,hl._fromUser(f)),dp.get(f)}const Bi="__sak";class $u{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bi,"1"),this.storage.removeItem(Bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bs=(()=>{class _ extends $u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wu(){const _=(0,U.z$)();return M(_)||De(_)}()&&function br(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const D=this.storage.getItem(C),P=this.localCache[C];D!==P&&g(C,P,D)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((Se,Ke,gt)=>{this.notifyListeners(Se,gt)});const D=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(D);if(g.newValue!==Se)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!C)return}const P=()=>{const Se=this.storage.getItem(D);!C&&this.localCache[D]===Se||this.notifyListeners(D,Se)},ee=this.storage.getItem(D);!function pt(){return(0,U.w1)()&&10===document.documentMode}()||ee===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,C){this.localCache[g]=C;const D=this.listeners[g];if(D)for(const P of Array.from(D))P(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var D=()=>super._set,P=this;return(0,u.Z)(function*(){yield D().call(P,g,C),P.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,D=this;return(0,u.Z)(function*(){const P=yield C().call(D,g);return D.localCache[g]=JSON.stringify(P),P})()}_remove(g){var C=()=>super._remove,D=this;return(0,u.Z)(function*(){yield C().call(D,g),delete D.localCache[g]})()}}return _.type="LOCAL",_})(),us=(()=>{class _ extends $u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return _.type="SESSION",_})();let fl=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(P=>P.isListeningto(g));if(C)return C;const D=new _(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,u.Z)(function*(){const D=g,{eventId:P,eventType:ee,data:Se}=D.data,Ke=C.handlersMap[ee];if(!Ke?.size)return;D.ports[0].postMessage({status:"ack",eventId:P,eventType:ee});const gt=Array.from(Ke).map(function(){var fn=(0,u.Z)(function*(Cr){return Cr(D.origin,Se)});return function(Cr){return fn.apply(this,arguments)}}()),Lt=yield function Gu(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return f.apply(this,arguments)}}()))}(gt);D.ports[0].postMessage({status:"done",eventId:P,eventType:ee,response:Lt})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function To(_="",f=10){let g="";for(let C=0;C<f;C++)g+=Math.floor(10*Math.random());return _+g}class pp{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,C=50){var D=this;return(0,u.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ee,Se;return new Promise((Ke,gt)=>{const Lt=To("",20);P.port1.start();const fn=setTimeout(()=>{gt(new Error("unsupported_event"))},C);Se={messageChannel:P,onMessage(Cr){const Tr=Cr;if(Tr.data.eventId===Lt)switch(Tr.data.status){case"ack":clearTimeout(fn),ee=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Ke(Tr.data.response);break;default:clearTimeout(fn),clearTimeout(ee),gt(new Error("invalid_response"))}}},D.handlers.add(Se),P.port1.addEventListener("message",Se.onMessage),D.target.postMessage({eventType:f,eventId:Lt,data:g},[P.port2])}).finally(()=>{Se&&D.removeMessageHandler(Se)})})()}}function qn(){return window}function ri(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function Hs(){return(Hs=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wa="firebaseLocalStorageDb",Ia="firebaseLocalStorage",gl="fbase_key";class Ao{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ml(_,f){return _.transaction([Ia],f?"readwrite":"readonly").objectStore(Ia)}function Gd(){const _=indexedDB.open(wa,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const C=_.result;try{C.createObjectStore(Ia,{keyPath:gl})}catch(D){g(D)}}),_.addEventListener("success",(0,u.Z)(function*(){const C=_.result;C.objectStoreNames.contains(Ia)?f(C):(C.close(),yield function Wd(){const _=indexedDB.deleteDatabase(wa);return new Ao(_).toPromise()}(),f(yield Gd()))}))})}function Da(_,f,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(_,f,g){const C=ml(_,!0).put({[gl]:f,value:g});return new Ao(C).toPromise()})).apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(_,f){const g=ml(_,!1).get(f),C=yield new Ao(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function zd(_,f){const g=ml(_,!0).delete(f);return new Ao(g).toPromise()}const yl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Gd()),g.db})()}_withRetries(g){var C=this;return(0,u.Z)(function*(){let D=0;for(;;)try{const P=yield C._openDb();return yield g(P)}catch(P){if(D++>3)throw P;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return ri()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=fl._getInstance(function pl(){return ri()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(D,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(D,P){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(D,P){return["keyChanged"]});return function(D,P){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var C,D;if(g.activeServiceWorker=yield function gp(){return Hs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pp(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(C=P[0])||void 0===C?void 0:C.fulfilled)&&(null===(D=P[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function zu(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Gd();return yield Da(g,Bi,"1"),yield zd(g,Bi),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(P=>Da(P,g,C)),D.localCache[g]=C,D.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,u.Z)(function*(){const D=yield C._withRetries(P=>function mp(_,f){return _l.apply(this,arguments)}(P,g));return C.localCache[g]=D,D})()}_remove(g){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(D=>zd(D,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const C=yield g._withRetries(ee=>{const Se=ml(ee,!1).getAll();return new Ao(Se).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const D=[],P=new Set;for(const{fbase_key:ee,value:Se}of C)P.add(ee),JSON.stringify(g.localCache[ee])!==JSON.stringify(Se)&&(g.notifyListeners(ee,Se),D.push(ee));for(const ee of Object.keys(g.localCache))g.localCache[ee]&&!P.has(ee)&&(g.notifyListeners(ee,null),D.push(ee));return D})()}notifyListeners(g,C){this.localCache[g]=C;const D=this.listeners[g];if(D)for(const P of Array.from(D))P(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function _p(_,f){return ut(_,"POST","/v2/accounts/mfaSignIn:start",It(_,f))}function js(){return(js=(0,u.Z)(function*(_){return(yield ut(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function So(_){return new Promise((f,g)=>{const C=document.createElement("script");C.setAttribute("src",_),C.onload=f,C.onerror=D=>{const P=Re("internal-error");P.customData=D,g(P)},C.type="text/javascript",C.charset="UTF-8",function Aa(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(C)})}function Zu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Kd=1e12;class I_{constructor(f){this.auth=f,this.counter=Kd,this._widgets=new Map}render(f,g){const C=this.counter;return this._widgets.set(C,new mn(f,this.auth.name,g||{})),this.counter++,C}reset(f){var g;const C=f||Kd;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Kd))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var C;return null===(C=g._widgets.get(f||Kd))||void 0===C||C.execute(),""})()}}class mn{constructor(f,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;X(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function D_(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<_;C++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yp=Zu("rcb"),$C=new Be(3e4,6e4);class GC{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=qn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return X(function zC(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(qn().grecaptcha):new Promise((C,D)=>{const P=qn().setTimeout(()=>{D(Re(f,"network-request-failed"))},$C.get());qn()[yp]=()=>{qn().clearTimeout(P),delete qn()[yp];const Se=qn().grecaptcha;if(!Se)return void D(Re(f,"internal-error"));const Ke=Se.render;Se.render=(gt,Lt)=>{const fn=Ke(gt,Lt);return this.counter++,fn},this.hostLanguage=g,C(Se)},So(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:yp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),D(Re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=qn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ZC{load(f){return(0,u.Z)(function*(){return new I_(f)})()}clearedOneInstance(){}}const Ma="recaptcha",qC={theme:"light",type:"image"};class T_{constructor(f,g=Object.assign({},qC),C){this.parameters=g,this.type=Ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=st(C),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;X(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZC:new GC,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(g)||new Promise(P=>{const ee=Se=>{!Se||(f.tokenChangeListeners.delete(ee),P(Se))};f.tokenChangeListeners.add(ee),f.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof f)f(g);else if("string"==typeof f){const C=qn()[f];"function"==typeof C&&C(g)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){X(xe()&&!ri(),f.auth,"internal-error"),yield function tr(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Cl(_){return js.apply(this,arguments)}(f.auth);X(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vn{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=xs._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function ii(_,f,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(_,f,g){const C=st(_),D=yield vr(C,f,(0,U.m9)(g));return new vn(D,P=>Fs(C,P))})).apply(this,arguments)}function Hi(_,f,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_);yield yr(!1,C,"phone");const D=yield vr(C.auth,f,(0,U.m9)(g));return new vn(D,P=>bt(C,P))})).apply(this,arguments)}function ji(_,f,g){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_),D=yield vr(C.auth,f,(0,U.m9)(g));return new vn(D,P=>x(C,P))})).apply(this,arguments)}function vr(_,f,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(_,f,g){var C;const D=yield g.verify();try{let P;if(X("string"==typeof D,_,"argument-error"),X(g.type===Ma,_,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const ee=P.session;if("phoneNumber"in P)return X("enroll"===ee.type,_,"internal-error"),(yield Ca(_,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{X("signin"===ee.type,_,"internal-error");const Se=(null===(C=P.multiFactorHint)||void 0===C?void 0:C.uid)||P.multiFactorUid;return X(Se,_,"missing-multi-factor-info"),(yield _p(_,{mfaPendingCredential:ee.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield Mu(_,{phoneNumber:P.phoneNumber,recaptchaToken:D});return ee}}finally{g._reset()}})).apply(this,arguments)}function Yd(_,f){return qu.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(_,f){yield ol((0,U.m9)(_),f)})).apply(this,arguments)}let vp=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=st(g)}verifyPhoneNumber(g,C){return vr(this.auth,g,(0,U.m9)(C))}static credential(g,C){return xs._fromVerification(g,C)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:D}=g;return C&&D?xs._fromTokenResponse(C,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Gs(_,f){return f?Y(f):(X(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Qd extends ln{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _i(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _i(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _i(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function zs(_){return Fd(_.auth,new Qd(_),_.bypassAuthState)}function ct(_){const{auth:f,user:g}=_;return X(g,f,"internal-error"),yi(g,new Qd(_),_.bypassAuthState)}function Ku(_){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(_){const{auth:f,user:g}=_;return X(g,f,"internal-error"),ol(g,new Qd(_),_.bypassAuthState)})).apply(this,arguments)}class Jd{constructor(f,g,C,D,P=!1){this.auth=f,this.resolver=C,this.user=D,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(C,D){f.pendingPromise={resolve:C,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(C,D){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:D,postBody:P,tenantId:ee,error:Se,type:Ke}=f;if(Se)return void g.reject(Se);const gt={auth:g.auth,requestUri:C,sessionId:D,tenantId:ee||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ke)(gt))}catch(Lt){g.reject(Lt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return zs;case"linkViaPopup":case"linkViaRedirect":return Ku;case"reauthViaPopup":case"reauthViaRedirect":return ct;default:$e(this.auth,"internal-error")}}resolve(f){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yu=new Be(2e3,1e4);function nr(_,f,g){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(_,f,g){const C=st(_);ve(_,f,Xn);const D=Gs(C,g);return new Ra(C,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Xd(_,f,g){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_);ve(C.auth,f,Xn);const D=Gs(C.auth,g);return new Ra(C.auth,"reauthViaPopup",f,D,C).executeNotNull()})).apply(this,arguments)}function eh(_,f,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_);ve(C.auth,f,Xn);const D=Gs(C.auth,g);return new Ra(C.auth,"linkViaPopup",f,D,C).executeNotNull()})).apply(this,arguments)}let Ra=(()=>{class _ extends Jd{constructor(g,C,D,P,ee){super(g,C,P,ee),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const C=yield g.execute();return X(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,u.Z)(function*(){_e(1===g.filter.length,"Popup operations only handle one event");const C=To();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(Re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,D;this.pollId=null!==(D=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Yu.get())};g()}}return _.currentPopupAction=null,_})();const fs=new Map;class Ro extends Jd{constructor(f,g,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let C=fs.get(g.auth._key());if(!C){try{const P=(yield function Xu(_,f){return ps.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;C=()=>Promise.resolve(P)}catch(D){C=()=>Promise.reject(D)}fs.set(g.auth._key(),C)}return g.bypassAuthState||fs.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(C,f);if("unknown"!==f.type){if(f.eventId){const D=yield C.auth._redirectUserForId(f.eventId);if(D)return C.user=D,g().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ps(){return(ps=(0,u.Z)(function*(_,f){const g=ms(f),C=gs(_);if(!(yield C._isAvailable()))return!1;const D="true"===(yield C._get(g));return yield C._remove(g),D})).apply(this,arguments)}function qs(_,f){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(_,f){return gs(_)._set(ms(f),"true")})).apply(this,arguments)}function th(){fs.clear()}function rr(_,f){fs.set(_._key(),f)}function gs(_){return Y(_._redirectPersistence)}function ms(_){return B("pendingRedirect",_.config.apiKey,_.name)}function Kn(_,f,g){return function In(_,f,g){return El.apply(this,arguments)}(_,f,g)}function El(){return(El=(0,u.Z)(function*(_,f,g){const C=st(_);ve(_,f,Xn);const D=Gs(C,g);return yield qs(D,C),D._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function si(_,f,g){return function fr(_,f,g){return Ei.apply(this,arguments)}(_,f,g)}function Ei(){return(Ei=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_);ve(C.auth,f,Xn);const D=Gs(C.auth,g);yield qs(D,C.auth);const P=yield Pa(C);return D._openRedirect(C.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function nh(_,f,g){return function Cp(_,f,g){return oi.apply(this,arguments)}(_,f,g)}function oi(){return(oi=(0,u.Z)(function*(_,f,g){const C=(0,U.m9)(_);ve(C.auth,f,Xn);const D=Gs(C.auth,g);yield yr(!1,C,f.providerId),yield qs(D,C.auth);const P=yield Pa(C);return D._openRedirect(C.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function wi(_,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(_,f){return yield st(_)._initializationPromise,ai(_,f,!1)})).apply(this,arguments)}function ai(_,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(_,f,g=!1){const C=st(_),D=Gs(C,f),ee=yield new Ro(C,D,g).execute();return ee&&!g&&(delete ee.user._redirectEventId,yield C._persistUserIfCurrent(ee.user),yield C._setRedirectUser(null,f)),ee})).apply(this,arguments)}function Pa(_){return Po.apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(_){const f=To(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Na{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(g=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ft(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var C;if(f.error&&!wl(f)){const D=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Re(this.auth,D))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const C=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ec(f))}saveEventToCache(f){this.cachedEventUids.add(ec(f)),this.lastProcessedEventTime=Date.now()}}function ec(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function wl({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function li(_){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(_,f={}){return ut(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A_=/^https?/;function Gr(){return(Gr=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield li(_);for(const g of f)try{if(Ep(g))return}catch{}$e(_,"unauthorized-domain")})).apply(this,arguments)}function Ep(_){const f=Fe(),{protocol:g,hostname:C}=new URL(f);if(_.startsWith("chrome-extension://")){const ee=new URL(_);return""===ee.hostname&&""===C?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&ee.hostname===C}if(!A_.test(g))return!1;if(Oo.test(_))return C===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(C)}const ih=new Be(3e4,6e4);function tc(){const _=qn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let On=null;function Wi(_){return On=On||function S_(_){return new Promise((f,g)=>{var C,D,P;function ee(){tc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{tc(),g(Re(_,"network-request-failed"))},timeout:ih.get()})}if(null!==(D=null===(C=qn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(P=qn().gapi)||void 0===P||!P.load){const Se=Zu("iframefcb");return qn()[Se]=()=>{gapi.load?ee():g(Re(_,"network-request-failed"))},So(`https://apis.google.com/js/api.js?onload=${Se}`).catch(Ke=>g(Ke))}ee()}}).catch(f=>{throw On=null,f})}(_),On}const nc=new Be(5e3,15e3),rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ic(_){const f=_.config;X(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Gt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,C={apiKey:f.apiKey,appName:_.name,v:N.SDK_VERSION},D=wp.get(_.config.apiHost);D&&(C.eid=D);const P=_._getFrameworks();return P.length&&(C.fw=P.join(",")),`${g}?${(0,U.xO)(C).slice(1)}`}function bl(){return bl=(0,u.Z)(function*(_){const f=yield Wi(_),g=qn().gapi;return X(g,_,"internal-error"),f.open({where:document.body,url:ic(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rc,dontclear:!0},C=>new Promise(function(){var D=(0,u.Z)(function*(P,ee){yield C.restyle({setHideOnLeave:!1});const Se=Re(_,"network-request-failed"),Ke=qn().setTimeout(()=>{ee(Se)},nc.get());function gt(){qn().clearTimeout(Ke),P(C)}C.ping(gt).then(gt,()=>{ee(Se)})});return function(P,ee){return D.apply(this,arguments)}}()))}),bl.apply(this,arguments)}const Oa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xa{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xo(_,f,g,C,D,P){X(_.config.authDomain,_,"auth-domain-config-required"),X(_.config.apiKey,_,"invalid-api-key");const ee={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:C,v:N.SDK_VERSION,eventId:D};if(f instanceof Xn){f.setDefaultLanguage(_.languageCode),ee.providerId=f.providerId||"",(0,U.xb)(f.getCustomParameters())||(ee.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ke,gt]of Object.entries(P||{}))ee[Ke]=gt}if(f instanceof ks){const Ke=f.getScopes().filter(gt=>""!==gt);Ke.length>0&&(ee.scopes=Ke.join(","))}_.tenantId&&(ee.tid=_.tenantId);const Se=ee;for(const Ke of Object.keys(Se))void 0===Se[Ke]&&delete Se[Ke];return`${function lh({config:_}){return _.emulator?Gt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,U.xO)(Se).slice(1)}`}const ko="webStorageSupport",oc=class ka{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=ai,this._overrideRedirectResult=rr}_openPopup(f,g,C,D){var P=this;return(0,u.Z)(function*(){var ee;_e(null===(ee=P.eventManagers[f._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const Se=xo(f,g,C,Fe(),D);return function Dl(_,f,g,C=500,D=600){const P=Math.max((window.screen.availHeight-D)/2,0).toString(),ee=Math.max((window.screen.availWidth-C)/2,0).toString();let Se="";const Ke=Object.assign(Object.assign({},Oa),{width:C.toString(),height:D.toString(),top:P,left:ee}),gt=(0,U.z$)().toLowerCase();g&&(Se=j(gt)?"_blank":g),I(gt)&&(f=f||"http://localhost",Ke.scrollbars="yes");const Lt=Object.entries(Ke).reduce((Cr,[Tr,Js])=>`${Cr}${Tr}=${Js},`,"");if(function Rt(_=(0,U.z$)()){var f;return De(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(gt)&&"_self"!==Se)return function zi(_,f){const g=document.createElement("a");g.href=_,g.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(f||"",Se),new xa(null);const fn=window.open(f||"",Se,Lt);X(fn,_,"popup-blocked");try{fn.focus()}catch{}return new xa(fn)}(f,Se,To())})()}_openRedirect(f,g,C,D){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(f),function $d(_){qn().location.href=_}(xo(f,g,C,Fe(),D)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:D,promise:P}=this.eventManagers[g];return D?Promise.resolve(D):(_e(P,"If manager is not set, promise should be"),P)}const C=this.initAndGetManager(f);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const C=yield function oh(_){return bl.apply(this,arguments)}(f),D=new Na(f);return C.register("authEvent",P=>(X(P?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:D},g.iframes[f._key()]=C,D})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ko,{type:ko},D=>{var P;const ee=null===(P=D?.[0])||void 0===P?void 0:P[ko];void 0!==ee&&g(!!ee),$e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rh(_){return Gr.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Tt()||M()||De()}};class ac extends class Tl{constructor(f){this.factorId=f}_process(f,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,C);case"signin":return this._finalizeSignIn(f,g.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ac(f)}_finalizeEnroll(f,g,C){return function ju(_,f){return ut(_,"POST","/v2/accounts/mfaEnrollment:finalize",It(_,f))}(f,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function vl(_,f){return ut(_,"POST","/v2/accounts/mfaSignIn:finalize",It(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bi=(()=>{class _{constructor(){}static assertion(g){return ac._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Zi="@firebase/auth",lc="0.20.11";class bp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(C=>{var D;f((null===(D=C)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uc=(0,U.Pz)("authIdTokenMaxAge")||300;let cc=null;const Ip=_=>function(){var f=(0,u.Z)(function*(g){const C=g&&(yield g.getIdTokenResult()),D=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(D&&D>uc)return;const P=C?.token;cc!==P&&(cc=P,yield fetch(_,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(g){return f.apply(this,arguments)}}();function Dp(_=(0,N.getApp)()){const f=(0,N._getProvider)(_,"auth");if(f.isInitialized())return f.getImmediate();const g=function le(_,f){const g=(0,N._getProvider)(_,"auth");if(g.isInitialized()){const D=g.getImmediate(),P=g.getOptions();if((0,U.vZ)(P,f??{}))return D;$e(D,"already-initialized")}return g.initialize({options:f})}(_,{popupRedirectResolver:oc,persistence:[yl,Bs,us]}),C=(0,U.Pz)("authTokenSyncURL");if(C){const P=Ip(C);(function va(_,f,g){(0,U.m9)(_).beforeAuthStateChanged(f,g)})(g,P,()=>P(g.currentUser)),function ul(_,f,g,C){(0,U.m9)(_).onIdTokenChanged(f,g,C)}(g,ee=>P(ee))}const D=(0,U.q4)("auth");return D&&ye(g,`http://${D}`),g}!function P_(_){(0,N._registerComponent)(new ge.wA("auth",(f,{options:g})=>{const C=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),{apiKey:P,authDomain:ee}=C.options;return((Se,Ke)=>{X(P&&!P.includes(":"),"invalid-api-key",{appName:Se.name}),X(!ee?.includes(":"),"argument-error",{appName:Se.name});const gt={apiKey:P,authDomain:ee,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:an(_)},Lt=new Jr(Se,Ke,gt);return function re(_,f){const g=f?.persistence||[],C=(Array.isArray(g)?g:[g]).map(Y);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(C,f?.popupRedirectResolver)}(Lt,g),Lt})(C,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,C)=>{f.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ge.wA("auth-internal",f=>{const g=st(f.getProvider("auth").getImmediate());return new bp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Zi,lc,function R_(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,N.registerVersion)(Zi,lc,"esm2017")}("Browser")},2090:(it,Te,O)=>{O.d(Te,{$s:()=>qe,BH:()=>vt,DV:()=>yn,Dv:()=>Xt,GJ:()=>Qn,L:()=>ce,LL:()=>$t,P0:()=>xe,Pz:()=>xt,Sg:()=>Be,UG:()=>we,UI:()=>lr,US:()=>ge,Wj:()=>ft,Wl:()=>nn,Yr:()=>Ae,ZB:()=>G,ZR:()=>pn,aH:()=>Je,b$:()=>ae,cI:()=>ut,dS:()=>mt,eu:()=>X,g5:()=>N,gK:()=>Sn,gQ:()=>Yt,h$:()=>oe,hl:()=>He,hu:()=>U,jU:()=>We,lb:()=>Fn,m9:()=>St,ne:()=>rn,p$:()=>W,pd:()=>zn,q4:()=>Fe,r3:()=>wn,ru:()=>me,tV:()=>pe,uI:()=>Ee,ug:()=>jn,vZ:()=>ze,w1:()=>$e,w9:()=>An,xO:()=>Zt,xb:()=>$n,z$:()=>Me,zI:()=>ie,zd:()=>xn});const U=function($,B){if(!$)throw N(B)},N=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},te=function($){const B=[];let R=0;for(let S=0;S<$.length;S++){let I=$.charCodeAt(S);I<128?B[R++]=I:I<2048?(B[R++]=I>>6|192,B[R++]=63&I|128):55296==(64512&I)&&S+1<$.length&&56320==(64512&$.charCodeAt(S+1))?(I=65536+((1023&I)<<10)+(1023&$.charCodeAt(++S)),B[R++]=I>>18|240,B[R++]=I>>12&63|128,B[R++]=I>>6&63|128,B[R++]=63&I|128):(B[R++]=I>>12|224,B[R++]=I>>6&63|128,B[R++]=63&I|128)}return B},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,B){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let I=0;I<$.length;I+=3){const M=$[I],j=I+1<$.length,se=j?$[I+1]:0,Pe=I+2<$.length,Ve=Pe?$[I+2]:0;let Qe=(15&se)<<2|Ve>>6,Rt=63&Ve;Pe||(Rt=64,j||(Qe=64)),S.push(R[M>>2],R[(3&M)<<4|se>>4],R[Qe],R[Rt])}return S.join("")},encodeString($,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa($):this.encodeByteArray(te($),B)},decodeString($,B){return this.HAS_NATIVE_SUPPORT&&!B?atob($):function($){const B=[];let R=0,S=0;for(;R<$.length;){const I=$[R++];if(I<128)B[S++]=String.fromCharCode(I);else if(I>191&&I<224){const M=$[R++];B[S++]=String.fromCharCode((31&I)<<6|63&M)}else if(I>239&&I<365){const Pe=((7&I)<<18|(63&$[R++])<<12|(63&$[R++])<<6|63&$[R++])-65536;B[S++]=String.fromCharCode(55296+(Pe>>10)),B[S++]=String.fromCharCode(56320+(1023&Pe))}else{const M=$[R++],j=$[R++];B[S++]=String.fromCharCode((15&I)<<12|(63&M)<<6|63&j)}}return B.join("")}(this.decodeStringToByteArray($,B))},decodeStringToByteArray($,B){this.init_();const R=B?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let I=0;I<$.length;){const M=R[$.charAt(I++)],se=I<$.length?R[$.charAt(I)]:0;++I;const Ve=I<$.length?R[$.charAt(I)]:64;++I;const De=I<$.length?R[$.charAt(I)]:64;if(++I,null==M||null==se||null==Ve||null==De)throw Error();S.push(M<<2|se>>4),64!==Ve&&(S.push(se<<4&240|Ve>>2),64!==De&&S.push(Ve<<6&192|De))}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},oe=function($){const B=te($);return ge.encodeByteArray(B,!0)},ce=function($){return oe($).replace(/\./g,"")},pe=function($){try{return ge.decodeString($,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function W($){return G(void 0,$)}function G($,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return B}for(const R in B)!B.hasOwnProperty(R)||!q(R)||($[R]=G($[R],B[R]));return $}function q($){return"__proto__"!==$}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){const $=Me();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ae(){return!1}function He(){return"object"==typeof indexedDB}function X(){return new Promise(($,B)=>{try{let R=!0;const S="validate-browser-context-for-indexeddb-analytics-module",I=self.indexedDB.open(S);I.onsuccess=()=>{I.result.close(),R||self.indexedDB.deleteDatabase(S),$(!0)},I.onupgradeneeded=()=>{R=!1},I.onerror=()=>{var M;B((null===(M=I.error)||void 0===M?void 0:M.message)||"")}}catch(R){B(R)}})}function ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=$&&pe($[1]);return B&&JSON.parse(B)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Fe=$=>{var B,R;return null===(R=null===(B=re())||void 0===B?void 0:B.emulatorHosts)||void 0===R?void 0:R[$]},xe=$=>{const B=Fe($);if(!B)return;const R=B.lastIndexOf(":");if(R<=0||R+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const S=parseInt(B.substring(R+1),10);return"["===B[0]?[B.substring(1,R-1),S]:[B.substring(0,R),S]},Je=()=>{var $;return null===($=re())||void 0===$?void 0:$.config},xt=$=>{var B;return null===(B=re())||void 0===B?void 0:B[`_${$}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,R)=>{this.resolve=B,this.reject=R})}wrapCallback(B){return(R,S)=>{R?this.reject(R):this.resolve(S),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(R):B(R,S))}}}function Be($,B){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const S=B||"demo-project",I=$.iat||0,M=$.sub||$.user_id;if(!M)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${S}`,aud:S,iat:I,exp:I+3600,auth_time:I,sub:M,user_id:M,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(j)),""].join(".")}class pn extends Error{constructor(B,R,S){super(R),this.code=B,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(B,R,S){this.service=B,this.serviceName=R,this.errors=S}create(B,...R){const S=R[0]||{},I=`${this.service}/${B}`,M=this.errors[B],j=M?function kt($,B){return $.replace(It,(R,S)=>{const I=B[S];return null!=I?String(I):`<${S}?>`})}(M,S):"Error";return new pn(I,`${this.serviceName}: ${j} (${I}).`,S)}}const It=/\{\$([^}]+)}/g;function ut($){return JSON.parse($)}function nn($){return JSON.stringify($)}const ar=function($){let B={},R={},S={},I="";try{const M=$.split(".");B=ut(pe(M[0])||""),R=ut(pe(M[1])||""),I=M[2],S=R.d||{},delete R.d}catch{}return{header:B,claims:R,data:S,signature:I}},An=function($){const R=ar($).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},Qn=function($){const B=ar($).claims;return"object"==typeof B&&!0===B.admin};function wn($,B){return Object.prototype.hasOwnProperty.call($,B)}function yn($,B){if(Object.prototype.hasOwnProperty.call($,B))return $[B]}function $n($){for(const B in $)if(Object.prototype.hasOwnProperty.call($,B))return!1;return!0}function lr($,B,R){const S={};for(const I in $)Object.prototype.hasOwnProperty.call($,I)&&(S[I]=B.call(R,$[I],I,$));return S}function ze($,B){if($===B)return!0;const R=Object.keys($),S=Object.keys(B);for(const I of R){if(!S.includes(I))return!1;const M=$[I],j=B[I];if(qt(M)&&qt(j)){if(!ze(M,j))return!1}else if(M!==j)return!1}for(const I of S)if(!R.includes(I))return!1;return!0}function qt($){return null!==$&&"object"==typeof $}function Zt($){const B=[];for(const[R,S]of Object.entries($))Array.isArray(S)?S.forEach(I=>{B.push(encodeURIComponent(R)+"="+encodeURIComponent(I))}):B.push(encodeURIComponent(R)+"="+encodeURIComponent(S));return B.length?"&"+B.join("&"):""}function xn($){const B={};return $.replace(/^\?/,"").split("&").forEach(S=>{if(S){const[I,M]=S.split("=");B[decodeURIComponent(I)]=decodeURIComponent(M)}}),B}function zn($){const B=$.indexOf("?");if(!B)return"";const R=$.indexOf("#",B);return $.substring(B,R>0?R:void 0)}class Yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,R){R||(R=0);const S=this.W_;if("string"==typeof B)for(let De=0;De<16;De++)S[De]=B.charCodeAt(R)<<24|B.charCodeAt(R+1)<<16|B.charCodeAt(R+2)<<8|B.charCodeAt(R+3),R+=4;else for(let De=0;De<16;De++)S[De]=B[R]<<24|B[R+1]<<16|B[R+2]<<8|B[R+3],R+=4;for(let De=16;De<80;De++){const Qe=S[De-3]^S[De-8]^S[De-14]^S[De-16];S[De]=4294967295&(Qe<<1|Qe>>>31)}let Ve,fe,I=this.chain_[0],M=this.chain_[1],j=this.chain_[2],se=this.chain_[3],Pe=this.chain_[4];for(let De=0;De<80;De++){De<40?De<20?(Ve=se^M&(j^se),fe=1518500249):(Ve=M^j^se,fe=1859775393):De<60?(Ve=M&j|se&(M|j),fe=2400959708):(Ve=M^j^se,fe=3395469782);const Qe=(I<<5|I>>>27)+Ve+Pe+fe+S[De]&4294967295;Pe=se,se=j,j=4294967295&(M<<30|M>>>2),M=I,I=Qe}this.chain_[0]=this.chain_[0]+I&4294967295,this.chain_[1]=this.chain_[1]+M&4294967295,this.chain_[2]=this.chain_[2]+j&4294967295,this.chain_[3]=this.chain_[3]+se&4294967295,this.chain_[4]=this.chain_[4]+Pe&4294967295}update(B,R){if(null==B)return;void 0===R&&(R=B.length);const S=R-this.blockSize;let I=0;const M=this.buf_;let j=this.inbuf_;for(;I<R;){if(0===j)for(;I<=S;)this.compress_(B,I),I+=this.blockSize;if("string"==typeof B){for(;I<R;)if(M[j]=B.charCodeAt(I),++j,++I,j===this.blockSize){this.compress_(M),j=0;break}}else for(;I<R;)if(M[j]=B[I],++j,++I,j===this.blockSize){this.compress_(M),j=0;break}}this.inbuf_=j,this.total_+=R}digest(){const B=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let I=this.blockSize-1;I>=56;I--)this.buf_[I]=255&R,R/=256;this.compress_(this.buf_);let S=0;for(let I=0;I<5;I++)for(let M=24;M>=0;M-=8)B[S]=this.chain_[I]>>M&255,++S;return B}}function rn($,B){const R=new Vt($,B);return R.subscribe.bind(R)}class Vt{constructor(B,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{B(this)}).catch(S=>{this.error(S)})}next(B){this.forEachObserver(R=>{R.next(B)})}error(B){this.forEachObserver(R=>{R.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,R,S){let I;if(void 0===B&&void 0===R&&void 0===S)throw new Error("Missing Observer.");I=function Xe($,B){if("object"!=typeof $||null===$)return!1;for(const R of B)if(R in $&&"function"==typeof $[R])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:R,complete:S},void 0===I.next&&(I.next=et),void 0===I.error&&(I.error=et),void 0===I.complete&&(I.complete=et);const M=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?I.error(this.finalError):I.complete()}catch{}}),this.observers.push(I),M}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,B)}sendOne(B,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{R(this.observers[B])}catch(S){typeof console<"u"&&console.error&&console.error(S)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function et(){}const Xt=function($,B,R,S){let I;if(S<B?I="at least "+B:S>R&&(I=0===R?"none":"no more than "+R),I)throw new Error($+" failed: Was called with "+S+(1===S?" argument.":" arguments.")+" Expects "+I+".")};function Sn($,B){return`${$} failed: ${B} argument `}function ft($,B,R,S){if((!S||R)&&"function"!=typeof R)throw new Error(Sn($,B)+"must be a valid function.")}function Fn($,B,R,S){if((!S||R)&&("object"!=typeof R||null===R))throw new Error(Sn($,B)+"must be a valid context object.")}const mt=function($){const B=[];let R=0;for(let S=0;S<$.length;S++){let I=$.charCodeAt(S);if(I>=55296&&I<=56319){const M=I-55296;S++,U(S<$.length,"Surrogate pair missing trail surrogate."),I=65536+(M<<10)+($.charCodeAt(S)-56320)}I<128?B[R++]=I:I<2048?(B[R++]=I>>6|192,B[R++]=63&I|128):I<65536?(B[R++]=I>>12|224,B[R++]=I>>6&63|128,B[R++]=63&I|128):(B[R++]=I>>18|240,B[R++]=I>>12&63|128,B[R++]=I>>6&63|128,B[R++]=63&I|128)}return B},jn=function($){let B=0;for(let R=0;R<$.length;R++){const S=$.charCodeAt(R);S<128?B++:S<2048?B+=2:S>=55296&&S<=56319?(B+=4,R++):B+=3}return B};function qe($,B=1e3,R=2){const S=B*Math.pow(R,$),I=Math.round(.5*S*(Math.random()-.5)*2);return Math.min(144e5,S+I)}function St($){return $&&$._delegate?$._delegate:$}},7628:(it,Te,O)=>{var u=O(4650);let U=null;function N(){return U}const oe=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function pe(){return(0,u.LFG)(G)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let G=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const s=N().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=N().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){q()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){q()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Me(){return new G((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function we(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ye)},providedIn:"root"}),n})();const ae=new u.OlP("appBaseHref");let Ye=(()=>{class n extends me{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+We(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const p=this.prepareExternalUrl(a+We(d));this._platformLocation.pushState(e,s,p)}replaceState(e,s,a,d){const p=this.prepareExternalUrl(a+We(d));this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$e=(()=>{class n extends me{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Ee(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let p=this.prepareExternalUrl(a+We(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,s,p)}replaceState(e,s,a,d){let p=this.prepareExternalUrl(a+We(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._baseHref=we(He(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+We(s))}normalize(e){return n.stripTrailingSlash(function ve(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._locationStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(s)),a)}replaceState(e,s="",a=null){this._locationStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=We,n.joinWithSlash=Ee,n.stripTrailingSlash=we,n.\u0275fac=function(e){return new(e||n)(u.LFG(me))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return new Re((0,u.LFG)(me))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}function Jn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}class Ni{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,d,p)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new Ni(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)s.remove(null===d?void 0:d);else if(null!==d){const y=s.get(d);s.move(y,p),gi(y,a)}});for(let a=0,d=s.length;a<d;a++){const y=s.get(a).context;y.index=a,y.count=d,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{gi(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gi(n,t){n.context.$implicit=t.item}let ca=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Xn}transform(e,s=Xn){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const a=this.differ.diff(e),d=s!==this.compareFn;return a&&(this.keyValues=[],a.forEachItem(p=>{this.keyValues.push(function Xf(n,t){return{key:n,value:t}}(p.key,p.currentValue))})),(a||d)&&(this.keyValues.sort(s),this.compareFn=s),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.aQg,16))},n.\u0275pipe=u.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Xn(n,t){const e=n.key,s=t.key;if(e===s)return 0;if(void 0===e)return 1;if(void 0===s)return-1;if(null===e)return 1;if(null===s)return-1;if("string"==typeof e&&"string"==typeof s)return e<s?-1:1;if("number"==typeof e&&"number"==typeof s)return e-s;if("boolean"==typeof e&&"boolean"==typeof s)return e<s?-1:1;const a=String(e),d=String(s);return a==d?0:a<d?-1:1}let pa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let sl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Nu((0,u.LFG)(oe),window)}),n})();class Nu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function hr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$r(this.window.history)||$r(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $r(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class os{}class Do extends class Vd extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){U||(U=n)}(new Do)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function sp(){return Us=Us||document.querySelector("base"),Us?Us.getAttribute("href"):null}();return null==e?null:function Vi(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const t=Pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Us=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Jn(document.cookie,t)}}let Pn,Us=null;const Nn=new u.OlP("TRANSITION_ID"),ap=[{provide:u.ip1,useFactory:function op(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const s=N(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[Nn,oe,u.zs3],multi:!0}];let up=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Uu=new u.OlP("EventManagerPlugins");let ul=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Uu),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class va{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=N().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let cl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Vs=(()=>{class n extends cl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(s.appendChild(p))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Vu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Vu))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Vu(n){N().remove(n)}const Bu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bd=/%COMP%/g;function dl(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?dl(n,a,e):(a=a.replace(Bd,n),e.push(a))}return e}function hl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hd=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Bi(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new jd(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case u.ifc.ShadowDom:return new hp(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=dl(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ul),u.LFG(Vs),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Bi{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Bu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ea(t)?t.content:t).appendChild(e)}insertBefore(t,e,s){t&&(Ea(t)?t.content:t).insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const d=Bu[a];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=Bu[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,s,a&u.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,hl(s)):this.eventManager.addEventListener(t,e,hl(s))}}function Ea(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class jd extends Bi{constructor(t,e,s,a){super(t),this.component=s;const d=dl(a+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr=function Ca(n){return"_ngcontent-%COMP%".replace(Bd,n)}(a+"-"+s.id),this.hostAttr=function ju(n){return"_nghost-%COMP%".replace(Bd,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class hp extends Bi{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=dl(a.id,a.styles,[]);for(let p=0;p<d.length;p++){const y=document.createElement("style");y.textContent=d[p],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bs=(()=>{class n extends va{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fp=["alt","control","meta","shift"],us={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fl=(()=>{class n extends va{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const d=n.parseEventName(s),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let p="",y=s.indexOf("code");if(y>-1&&(s.splice(y,1),p="code."),fp.forEach(T=>{const H=s.indexOf(T);H>-1&&(s.splice(H,1),p+=T+".")}),p+=d,0!=s.length||0===d.length)return null;const w={};return w.domEventName=a,w.fullKey=p,w}static matchEventFullKeyCode(e,s){let a=us[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),fp.forEach(p=>{p!==a&&(0,Gu[p])(e)&&(d+=p+".")}),d+=a,d===s)}static eventCallback(e,s,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function gp(){Do.makeCurrent()},multi:!0},{provide:oe,useFactory:function zu(){return(0,u.RDi)(document),document},deps:[]}]),ba=new u.OlP(""),Ia=[{provide:u.rWj,useClass:class lp{addToWindow(t){u.dqk.getAngularTestability=(s,a=!0)=>{const d=t.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(s=>{const a=u.dqk.getAllAngularTestabilities();let d=a.length,p=!1;const y=function(w){p=p||w,d--,0==d&&s(p)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(t,e,s){return null==e?null:t.getTestability(e)??(s?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],gl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Hs(){return new u.qLn},deps:[]},{provide:Uu,useClass:Bs,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:Uu,useClass:fl,multi:!0,deps:[oe]},{provide:Hd,useClass:Hd,deps:[ul,Vs,u.AFp]},{provide:u.FYo,useExisting:Hd},{provide:cl,useExisting:Vs},{provide:Vs,useClass:Vs,deps:[oe]},{provide:ul,useClass:ul,deps:[Uu,u.R0b]},{provide:os,useClass:up,deps:[]},[]];let Ao=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Nn,useExisting:u.AFp},ap]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ba,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...gl,...Ia],imports:[pa,u.hGG]}),n})(),cs=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let s=null;return s=e?new e:function Da(){return new cs((0,u.LFG)(oe))}(),s},providedIn:"root"}),n})();typeof window<"u"&&window;var vn=O(8996),ii=O(7669);function lt(...n){const t=(0,ii.yG)(n);return(0,vn.D)(n,t)}var Hi=O(7579);class Cn extends Hi.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}const $s=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vr=O(9751);const{isArray:Ws}=Array,{getPrototypeOf:Yd,prototype:qu,keys:vp}=Object;function Gs(n){if(1===n.length){const t=n[0];if(Ws(t))return{args:t,keys:null};if(function Qd(n){return n&&"object"==typeof n&&Yd(n)===qu}(t)){const e=vp(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var zs=O(4671),ct=O(4004);const{isArray:Ku}=Array;function Jd(n){return(0,ct.U)(t=>function hs(n,t){return Ku(t)?n(...t):n(t)}(n,t))}function Yu(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}var nr=O(5403),Qu=O(9672);function Xd(...n){const t=(0,ii.yG)(n),e=(0,ii.jO)(n),{args:s,keys:a}=Gs(n);if(0===s.length)return(0,vn.D)([],t);const d=new vr.y(function Ju(n,t,e=zs.y){return s=>{eh(t,()=>{const{length:a}=n,d=new Array(a);let p=a,y=a;for(let w=0;w<a;w++)eh(t,()=>{const T=(0,vn.D)(n[w],t);let H=!1;T.subscribe((0,nr.x)(s,V=>{d[w]=V,H||(H=!0,y--),y||s.next(e(d.slice()))},()=>{--p||s.complete()}))},s)},s)}}(s,t,a?p=>Yu(a,p):zs.y));return e?d.pipe(Jd(e)):d}function eh(n,t,e){n?(0,Qu.f)(e,n,t):t()}var Zs=O(8189);function Mo(...n){return function Ra(){return(0,Zs.J)(1)}()((0,vn.D)(n,(0,ii.yG)(n)))}var fs=O(8421);function Ro(n){return new vr.y(t=>{(0,fs.Xf)(n()).subscribe(t)})}var Xu=O(9635),ps=O(576);function qs(n,t){const e=(0,ps.m)(n)?n:()=>n,s=a=>a.error(e());return new vr.y(t?a=>t.schedule(s,0,a):s)}var $i=O(515),th=O(727),rr=O(4482);function gs(){return(0,rr.e)((n,t)=>{let e=null;n._refCount++;const s=(0,nr.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class ms extends vr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,rr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new th.w0;const e=this.getSubject();t.add(this.source.subscribe((0,nr.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=th.w0.EMPTY)}return t}refCount(){return gs()(this)}}function Kn(n,t){return(0,rr.e)((e,s)=>{let a=null,d=0,p=!1;const y=()=>p&&!a&&s.complete();e.subscribe((0,nr.x)(s,w=>{a?.unsubscribe();let T=0;const H=d++;(0,fs.Xf)(n(w,H)).subscribe(a=(0,nr.x)(s,V=>s.next(t?t(w,V,H,T++):V),()=>{a=null,y()}))},()=>{p=!0,y()}))})}function In(n){return n<=0?()=>$i.E:(0,rr.e)((t,e)=>{let s=0;t.subscribe((0,nr.x)(e,a=>{++s<=n&&(e.next(a),n<=s&&e.complete())}))})}function si(n,t){return(0,rr.e)((e,s)=>{let a=0;e.subscribe((0,nr.x)(s,d=>n.call(t,d,a++)&&s.next(d)))})}var fr=O(5577);function Ei(n){return(0,rr.e)((t,e)=>{let s=!1;t.subscribe((0,nr.x)(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function nh(n=Cp){return(0,rr.e)((t,e)=>{let s=!1;t.subscribe((0,nr.x)(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function Cp(){return new $s}function oi(n,t){const e=arguments.length>=2;return s=>s.pipe(n?si((a,d)=>n(a,d,s)):zs.y,In(1),e?Ei(t):nh(()=>new $s))}function wi(n,t){return(0,ps.m)(t)?(0,fr.z)(n,t,1):(0,fr.z)(n,1)}var Un=O(8505);function ai(n){return(0,rr.e)((t,e)=>{let d,s=null,a=!1;s=t.subscribe((0,nr.x)(e,void 0,void 0,p=>{d=(0,fs.Xf)(n(p,ai(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,d.subscribe(e))})}function Ks(n,t,e,s,a){return(d,p)=>{let y=e,w=t,T=0;d.subscribe((0,nr.x)(p,H=>{const V=T++;w=y?n(w,H,V):(y=!0,H),s&&p.next(w)},a&&(()=>{y&&p.next(w),p.complete()})))}}function Pa(n,t){return(0,rr.e)(Ks(n,t,arguments.length>=2,!0))}function Po(n){return n<=0?()=>$i.E:(0,rr.e)((t,e)=>{let s=[];t.subscribe((0,nr.x)(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}function No(n,t){const e=arguments.length>=2;return s=>s.pipe(n?si((a,d)=>n(a,d,s)):zs.y,Po(1),e?Ei(t):nh(()=>new $s))}function wl(n){return(0,rr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Ft="primary",li=Symbol("RouteTitle");class Ys{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Oo(n){return new Ys(n)}function A_(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const p=s[d],y=n[d];if(p.startsWith(":"))a[p.substring(1)]=y;else if(p!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Gr(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!Ep(n[a],t[a]))return!1;return!0}function Ep(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,d)=>s[d]===a)}return n===t}function ih(n){return Array.prototype.concat.apply([],n)}function tc(n){return n.length>0?n[n.length-1]:null}function On(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wi(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,vn.D)(Promise.resolve(n)):lt(n)}const M_={exact:function oh(n,t,e){if(!zi(n.segments,t.segments)||!Gi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!oh(n.children[s],t.children[s],e))return!1;return!0},subset:Oa},rc={exact:function ic(n,t){return Gr(n,t)},subset:function bl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ep(n[e],t[e]))},ignored:()=>!0};function wp(n,t,e){return M_[e.paths](n.root,t.root,e.matrixParams)&&rc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Oa(n,t,e){return Il(n,t,t.segments,e)}function Il(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!zi(a,e)||t.hasChildren()||!Gi(a,e,s))}if(n.segments.length===e.length){if(!zi(n.segments,e)||!Gi(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Oa(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(zi(n.segments,a)&&Gi(n.segments,a,s)&&n.children[Ft])&&Il(n.children[Ft],t,d,s)}}function Gi(n,t,e){return t.every((s,a)=>rc[e](n[a].parameters,s.parameters))}class Qs{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oo(this.queryParams)),this._queryParamMap}toString(){return lh.serialize(this)}}class Bt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,On(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ko(this)}}class xa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Oo(this.parameters)),this._parameterMap}toString(){return bp(this)}}function zi(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}let sc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new xo},providedIn:"root"}),n})();class xo{parse(t){const e=new f(t);return new Qs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ka(t.root,!0)}`,s=function P_(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${Tl(e)}=${Tl(a)}`).join("&"):`${Tl(e)}=${Tl(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function ac(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lh=new xo;function ko(n){return n.segments.map(t=>bp(t)).join("/")}function ka(n,t){if(!n.hasChildren())return ko(n);if(t){const e=n.children[Ft]?ka(n.children[Ft],!1):"",s=[];return On(n.children,(a,d)=>{d!==Ft&&s.push(`${d}:${ka(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function ah(n,t){let e=[];return On(n.children,(s,a)=>{a===Ft&&(e=e.concat(t(s,a)))}),On(n.children,(s,a)=>{a!==Ft&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===Ft?[ka(n.children[Ft],!1)]:[`${a}:${ka(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${ko(n)}/${e[0]}`:`${ko(n)}/(${e.join("//")})`}}function oc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(n){return oc(n).replace(/%3B/gi,";")}function bi(n){return oc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zi(n){return decodeURIComponent(n)}function lc(n){return Zi(n.replace(/\+/g,"%20"))}function bp(n){return`${bi(n.path)}${function R_(n){return Object.keys(n).map(t=>`;${bi(t)}=${bi(n[t])}`).join("")}(n.parameters)}`}const N_=/^[^\/()?;=#]+/;function uc(n){const t=n.match(N_);return t?t[0]:""}const cc=/^[^=?&#]+/,Dp=/^[^&#]+/;class f{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Ft]=new Bt(t,e)),s}parseSegment(){const t=uc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new xa(Zi(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=uc(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=uc(this.remaining);a&&(s=a,this.capture(s))}t[Zi(e)]=Zi(s)}parseQueryParam(t){const e=function Ip(n){const t=n.match(cc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const p=function _(n){const t=n.match(Dp);return t?t[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=lc(e),d=lc(s);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=uc(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Ft);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[Ft]:new Bt([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function g(n){return n.segments.length>0?new Bt([],{[Ft]:n}):n}function C(n){const t={};for(const s of Object.keys(n.children)){const d=C(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function D(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new Bt(n.segments.concat(t.segments),t.children)}return n}(new Bt(n.segments,t))}function P(n){return n instanceof Qs}function Lt(n,t,e,s,a){if(0===e.length)return Tr(t.root,t.root,t.root,s,a);const d=function dc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uh(!0,0,n);let t=0,e=!1;const s=n.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return On(d.outlets,(w,T)=>{y[T]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,d]},[]);return new uh(e,t,s)}(e);return d.toRoot()?Tr(t.root,t.root,new Bt([],{}),s,a):function p(w){const T=function hc(n,t,e,s){if(n.isAbsolute)return new _s(t.root,!0,0);if(-1===s)return new _s(e,e===t.root,0);return function fc(n,t,e){let s=n,a=t,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new u.vHH(4005,!1);a=s.segments.length}return new _s(s,!1,a-d)}(e,s+(fn(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,w),H=T.processChildren?qi(T.segmentGroup,T.index,d.commands):Fo(T.segmentGroup,T.index,d.commands);return Tr(t.root,T.segmentGroup,H,s,a)}(n.snapshot?._lastPathIndex)}function fn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cr(n){return"object"==typeof n&&null!=n&&n.outlets}function Tr(n,t,e,s,a){let p,d={};s&&On(s,(w,T)=>{d[T]=Array.isArray(w)?w.map(H=>`${H}`):`${w}`}),p=n===t?e:Js(n,t,e);const y=g(C(p));return new Qs(y,d,a)}function Js(n,t,e){const s={};return On(n.children,(a,d)=>{s[d]=a===t?e:Js(a,t,e)}),new Bt(n.segments,s)}class uh{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&fn(s[0]))throw new u.vHH(4003,!1);const a=s.find(Cr);if(a&&a!==tc(s))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _s{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Fo(n,t,e){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return qi(n,t,e);const s=function Tp(n,t,e){let s=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return d;const p=n.segments[a],y=e[s];if(Cr(y))break;const w=`${y}`,T=s<e.length-1?e[s+1]:null;if(a>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!O_(w,T,p))return d;s+=2}else{if(!O_(w,{},p))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new Bt(n.segments.slice(0,s.pathIndex),{});return d.children[Ft]=new Bt(n.segments.slice(s.pathIndex),n.children),qi(d,0,a)}return s.match&&0===a.length?new Bt(n.segments,{}):s.match&&!n.hasChildren()?Xs(n,t,e):s.match?qi(n,0,a):Xs(n,t,e)}function qi(n,t,e){if(0===e.length)return new Bt(n.segments,{});{const s=function dh(n){return Cr(n[0])?n[0].outlets:{[Ft]:n}}(e),a={};return On(s,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=Fo(n.children[p],t,d))}),On(n.children,(d,p)=>{void 0===s[p]&&(a[p]=d)}),new Bt(n.segments,a)}}function Xs(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(Cr(d)){const w=Ap(d.outlets);return new Bt(s,w)}if(0===a&&fn(e[0])){s.push(new xa(n.segments[t].path,Yn(e[0]))),a++;continue}const p=Cr(d)?d.outlets[Ft]:`${d}`,y=a<e.length-1?e[a+1]:null;p&&y&&fn(y)?(s.push(new xa(p,Yn(y))),a+=2):(s.push(new xa(p,{})),a++)}return new Bt(s,{})}function Ap(n){const t={};return On(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=Xs(new Bt([],{}),0,e))}),t}function Yn(n){const t={};return On(n,(e,s)=>t[s]=`${e}`),t}function O_(n,t,e){return n==e.path&&Gr(t,e.parameters)}class eo{constructor(t,e){this.id=t,this.url=e}}class pc extends eo{constructor(t,e,s="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends eo{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hh extends eo{constructor(t,e,s,a){super(t,e),this.reason=s,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class x_ extends eo{constructor(t,e,s,a){super(t,e),this.error=s,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KC extends eo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YC extends eo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends eo{constructor(t,e,s,a,d){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JI extends eo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XI extends eo{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gc{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class k_{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F_{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JC{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mp{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=V_(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=V_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Rp(t,this._root).map(e=>e.value)}}function V_(n,t){if(n===t.value)return t;for(const e of t.children){const s=V_(n,e);if(s)return s}return null}function Rp(n,t){if(n===t.value)return[t];for(const e of t.children){const s=Rp(n,e);if(s.length)return s.unshift(t),s}return[]}class Ki{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Pp extends fh{constructor(t,e){super(t),this.snapshot=e,no(this,t)}toString(){return this.snapshot.toString()}}function Uo(n,t){const e=function XC(n,t){const p=new Al([],{},{},"",{},Ft,t,null,n.root,-1,{});return new _c("",new Ki(p,[]))}(n,t),s=new Cn([new xa("",{})]),a=new Cn({}),d=new Cn({}),p=new Cn({}),y=new Cn(""),w=new to(s,a,p,y,d,Ft,t,e.root);return w.snapshot=e.root,new Pp(new Ki(w,[]),e)}class to{constructor(t,e,s,a,d,p,y,w){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=p,this.component=y,this.title=this.data?.pipe((0,ct.U)(T=>T[li]))??lt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(t=>Oo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(t=>Oo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mc(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function eE(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Al{constructor(t,e,s,a,d,p,y,w,T,H,V,Q){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=p,this.component=y,this.title=this.data?.[li],this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=H,this._correctedLastPathIndex=Q??H,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _c extends fh{constructor(t,e){super(e),this.url=t,no(this,e)}toString(){return Np(this._root)}}function no(n,t){t.value._routerState=n,t.children.forEach(e=>no(n,e))}function Np(n){const t=n.children.length>0?` { ${n.children.map(Np).join(", ")} } `:"";return`${n.value}${t}`}function yc(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Gr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Gr(t.params,e.params)||n.params.next(e.params),function rh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Gr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Gr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Op(n,t){const e=Gr(n.params,t.params)&&function Dl(n,t){return zi(n,t)&&n.every((e,s)=>Gr(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Op(n.parent,t.parent))}function Sl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function Ml(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Sl(n,s,a);return Sl(n,s)})}(n,t,e);return new Ki(s,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(y=>Sl(n,y)),p}}const s=function nE(n){return new to(new Cn(n.url),new Cn(n.params),new Cn(n.queryParams),new Cn(n.fragment),new Cn(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Sl(n,d));return new Ki(s,a)}}const xp="ngNavigationCancelingError";function B_(n,t){const{redirectTo:e,navigationBehaviorOptions:s}=P(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=H_(!1,0,t);return a.url=e,a.navigationBehaviorOptions=s,a}function H_(n,t,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[xp]=!0,s.cancellationCode=t,e&&(s.url=e),s}function ph(n){return j_(n)&&P(n.url)}function j_(n){return n&&n[xp]}class $_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vc,this.attachRef=null}}let vc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const a=this.getOrCreateContext(e);a.outlet=s,this.contexts.set(e,a)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new $_,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cc=!1;let W_=(()=>{class n{constructor(e,s,a,d,p){this.parentContexts=e,this.location=s,this.changeDetector=d,this.environmentInjector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Cc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Cc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Cc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new u.vHH(4013,Cc);this._activatedRoute=e;const a=this.location,p=e._futureSnapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new rE(e,y,a.injector);if(s&&function Ec(n){return!!n.resolveComponentFactory}(s)){const T=s.resolveComponentFactory(p);this.activated=a.createComponent(T,a.length,w)}else this.activated=a.createComponent(p,{index:a.length,injector:w,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(vc),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class rE{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===to?this.route:t===vc?this.childContexts:this.parent.get(t,e)}}let kp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,s){1&e&&u._UZ(0,"router-outlet")},dependencies:[W_],encapsulation:2}),n})();function La(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function mh(n){const t=n.children&&n.children.map(mh),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=kp),e}function zr(n){return n.outlet||Ft}function z_(n,t){const e=n.filter(s=>zr(s)===t);return e.push(...n.filter(s=>zr(s)!==t)),e}function wc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class tD{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),yc(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=Fa(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],s),delete a[p]}),On(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=Fa(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(s&&s.outlet){const p=s.outlet.detach(),y=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=Fa(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=Fa(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new JC(d.value.snapshot))}),t.children.length&&this.forwardEvent(new F_(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(yc(a),a===d)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),yc(y.route.value),this.activateChildRoutes(t,null,p.children)}else{const y=wc(a.snapshot),w=y?.get(u._Vd)??null;p.attachRef=null,p.route=a,p.resolver=w,p.injector=y,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,s)}}class aE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rl{constructor(t,e){this.component=t,this.route=e}}function nD(n,t,e){const s=n._root;return _h(s,t?t._root:null,e,[s.value])}function bc(n,t){const e=Symbol(),s=t.get(n,e);return s===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:s}function _h(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Fa(t);return n.children.forEach(p=>{(function iD(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const w=function lE(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!zi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zi(n.url,t.url)||!Gr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(n,t)||!Gr(n.queryParams,t.queryParams);default:return!Op(n,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new aE(s)):(d.data=p.data,d._resolvedData=p._resolvedData),_h(n,t,d.component?y?y.children:null:e,s,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new Rl(y.outlet.component,p))}else p&&Pl(t,y,a),a.canActivateChecks.push(new aE(s)),_h(n,null,d.component?y?y.children:null:e,s,a)})(p,d[p.value.outlet],e,s.concat([p.value]),a),delete d[p.value.outlet]}),On(d,(p,y)=>Pl(p,e.getContext(y),a)),a}function Pl(n,t,e){const s=Fa(n),a=n.value;On(s,(d,p)=>{Pl(d,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Rl(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Ua(n){return"function"==typeof n}function Bp(n){return n instanceof $s||"EmptyError"===n?.name}const vh=Symbol("INITIAL_VALUE");function Va(){return Kn(n=>Xd(n.map(t=>t.pipe(In(1),function El(...n){const t=(0,ii.yG)(n);return(0,rr.e)((e,s)=>{(t?Mo(n,e,t):Mo(n,e)).subscribe(s)})}(vh)))).pipe((0,ct.U)(t=>{for(const e of t)if(!0!==e){if(e===vh)return vh;if(!1===e||e instanceof Qs)return e}return!0}),si(t=>t!==vh),In(1)))}function Q_(n){return(0,Xu.z)((0,Un.b)(t=>{if(P(t))throw B_(0,t)}),(0,ct.U)(t=>!0===t))}const Ar={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ch(n,t,e,s,a){const d=Eh(n,t,e);return d.matched?function yE(n,t,e,s){const a=t.canMatch;return a&&0!==a.length?lt(a.map(p=>{const y=bc(p,n);return Wi(function Vp(n){return n&&Ua(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))})).pipe(Va(),Q_()):lt(!0)}(s=La(t,s),t,e).pipe((0,ct.U)(p=>!0===p?d:{...Ar})):lt(d)}function Eh(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ar}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||A_)(e,n,t);if(!a)return{...Ar};const d={};On(a.posParams,(y,w)=>{d[w]=y.path});const p=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function Nl(n,t,e,s,a="corrected"){if(e.length>0&&function jp(n,t,e){return e.some(s=>wh(n,t,s)&&zr(s)!==Ft)}(n,e,s)){const p=new Bt(t,function Ic(n,t,e,s){const a={};a[Ft]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&zr(d)!==Ft){const p=new Bt([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[zr(d)]=p}return a}(n,t,s,new Bt(e,n.children)));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function vE(n,t,e){return e.some(s=>wh(n,t,s))}(n,e,s)){const p=new Bt(n.segments,function kr(n,t,e,s,a,d){const p={};for(const y of s)if(wh(n,e,y)&&!a[zr(y)]){const w=new Bt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===d?n.segments.length:t.length,p[zr(y)]=w}return{...a,...p}}(n,t,e,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const d=new Bt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function wh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function $p(n,t,e,s){return!!(zr(n)===s||s!==Ft&&wh(t,e,n))&&("**"===n.path||Eh(t,n,e).matched)}function J_(n,t,e){return 0===t.length&&!n.children[e]}const Dc=!1;class bh{constructor(t){this.segmentGroup=t||null}}class Wp{constructor(t){this.urlTree=t}}function Tc(n){return qs(new bh(n))}function X_(n){return qs(new Wp(n))}class Ol{constructor(t,e,s,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=Nl(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ft).pipe((0,ct.U)(d=>this.createUrlTree(C(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ai(d=>{if(d instanceof Wp)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof bh?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ft).pipe((0,ct.U)(a=>this.createUrlTree(C(a),t.queryParams,t.fragment))).pipe(ai(a=>{throw a instanceof bh?this.noMatchError(a):a}))}noMatchError(t){return new u.vHH(4002,Dc)}createUrlTree(t,e,s){const a=g(t);return new Qs(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,ct.U)(d=>new Bt([],d))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,vn.D)(a).pipe(wi(d=>{const p=s.children[d],y=z_(e,d);return this.expandSegmentGroup(t,y,p,d).pipe((0,ct.U)(w=>({segment:w,outlet:d})))}),Pa((d,p)=>(d[p.outlet]=p.segment,d),{}),No())}expandSegment(t,e,s,a,d,p){return(0,vn.D)(s).pipe(wi(y=>this.expandSegmentAgainstRoute(t,e,s,y,a,d,p).pipe(ai(T=>{if(T instanceof bh)return lt(null);throw T}))),oi(y=>!!y),ai((y,w)=>{if(Bp(y))return J_(e,a,d)?lt(new Bt([],{})):Tc(e);throw y}))}expandSegmentAgainstRoute(t,e,s,a,d,p,y){return $p(a,e,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,p):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,p):Tc(e):Tc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?X_(d):this.lineralizeSegments(s,d).pipe((0,fr.z)(p=>{const y=new Bt(p,{});return this.expandSegment(t,y,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,p){const{matched:y,consumedSegments:w,remainingSegments:T,positionalParamSegments:H}=Eh(e,a,d);if(!y)return Tc(e);const V=this.applyRedirectCommands(w,a.redirectTo,H);return a.redirectTo.startsWith("/")?X_(V):this.lineralizeSegments(a,V).pipe((0,fr.z)(Q=>this.expandSegment(t,e,s,Q.concat(T),p,!1)))}matchSegmentAgainstRoute(t,e,s,a,d){return"**"===s.path?(t=La(s,t),s.loadChildren?(s._loadedRoutes?lt({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(t,s)).pipe((0,ct.U)(y=>(s._loadedRoutes=y.routes,s._loadedInjector=y.injector,new Bt(a,{})))):lt(new Bt(a,{}))):Ch(e,s,a,t).pipe(Kn(({matched:p,consumedSegments:y,remainingSegments:w})=>p?this.getChildConfig(t=s._injector??t,s,a).pipe((0,fr.z)(H=>{const V=H.injector??t,Q=H.routes,{segmentGroup:he,slicedSegments:Ne}=Nl(e,y,w,Q),dt=new Bt(he.segments,he.children);if(0===Ne.length&&dt.hasChildren())return this.expandChildren(V,Q,dt).pipe((0,ct.U)(Nr=>new Bt(y,Nr)));if(0===Q.length&&0===Ne.length)return lt(new Bt(y,{}));const Dt=zr(s)===d;return this.expandSegment(V,dt,Q,Ne,Dt?Ft:d,!0).pipe((0,ct.U)(cn=>new Bt(y.concat(cn.segments),cn.children)))})):Tc(e)))}getChildConfig(t,e,s){return e.children?lt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?lt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Y_(n,t,e,s){const a=t.canLoad;return void 0===a||0===a.length?lt(!0):lt(a.map(p=>{const y=bc(p,n);return Wi(function q_(n){return n&&Ua(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))})).pipe(Va(),Q_())}(t,e,s).pipe((0,fr.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Un.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function EE(n){return qs(H_(Dc,3))}())):lt({routes:[],injector:t})}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return lt(s);if(a.numberOfChildren>1||!a.children[Ft])return qs(new u.vHH(4e3,Dc));a=a.children[Ft]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreateUrlTree(t,e,s,a){const d=this.createSegmentGroup(t,e.root,s,a);return new Qs(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return On(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[d]=e[y]}else s[d]=a}),s}createSegmentGroup(t,e,s,a){const d=this.createSegments(t,e.segments,s,a);let p={};return On(e.children,(y,w)=>{p[w]=this.createSegmentGroup(t,y,s,a)}),new Bt(d,p)}createSegments(t,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new u.vHH(4001,Dc);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}class bE{}class ey{constructor(t,e,s,a,d,p,y,w){this.injector=t,this.rootComponentType=e,this.config=s,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=y,this.urlSerializer=w}recognize(){const t=Nl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ft).pipe((0,ct.U)(e=>{if(null===e)return null;const s=new Al([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ki(s,e),d=new _c(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,s=mc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.processChildren(t,e,s):this.processSegment(t,e,s,s.segments,a)}processChildren(t,e,s){return(0,vn.D)(Object.keys(s.children)).pipe(wi(a=>{const d=s.children[a],p=z_(e,a);return this.processSegmentGroup(t,p,d,a)}),Pa((a,d)=>a&&d?(a.push(...d),a):null),function Na(n,t=!1){return(0,rr.e)((e,s)=>{let a=0;e.subscribe((0,nr.x)(s,d=>{const p=n(d,a++);(p||t)&&s.next(d),!p&&s.complete()}))})}(a=>null!==a),Ei(null),No(),(0,ct.U)(a=>{if(null===a)return null;const d=Dh(a);return function aD(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,s,a,d){return(0,vn.D)(e).pipe(wi(p=>this.processSegmentAgainstRoute(p._injector??t,p,s,a,d)),oi(p=>!!p),ai(p=>{if(Bp(p))return J_(s,a,d)?lt([]):lt(null);throw p}))}processSegmentAgainstRoute(t,e,s,a,d){if(e.redirectTo||!$p(e,s,a,d))return lt(null);let p;if("**"===e.path){const y=a.length>0?tc(a).parameters:{},w=ty(s)+a.length;p=lt({snapshot:new Al(a,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ny(e),zr(e),e.component??e._loadedComponent??null,e,zp(s),w,ry(e),w),consumedSegments:[],remainingSegments:[]})}else p=Ch(s,e,a,t).pipe((0,ct.U)(({matched:y,consumedSegments:w,remainingSegments:T,parameters:H})=>{if(!y)return null;const V=ty(s)+w.length;return{snapshot:new Al(w,H,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ny(e),zr(e),e.component??e._loadedComponent??null,e,zp(s),V,ry(e),V),consumedSegments:w,remainingSegments:T}}));return p.pipe(Kn(y=>{if(null===y)return lt(null);const{snapshot:w,consumedSegments:T,remainingSegments:H}=y;t=e._injector??t;const V=e._loadedInjector??t,Q=function ys(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:he,slicedSegments:Ne}=Nl(s,T,H,Q.filter(Dt=>void 0===Dt.redirectTo),this.relativeLinkResolution);if(0===Ne.length&&he.hasChildren())return this.processChildren(V,Q,he).pipe((0,ct.U)(Dt=>null===Dt?null:[new Ki(w,Dt)]));if(0===Q.length&&0===Ne.length)return lt([new Ki(w,[])]);const dt=zr(e)===d;return this.processSegment(V,Q,he,Ne,dt?Ft:d).pipe((0,ct.U)(Dt=>null===Dt?null:[new Ki(w,Dt)]))}))}}function Gp(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Dh(n){const t=[],e=new Set;for(const s of n){if(!Gp(s)){t.push(s);continue}const a=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=Dh(s.children);t.push(new Ki(s.value,a))}return t.filter(s=>!e.has(s))}function zp(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ty(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ny(n){return n.data||{}}function ry(n){return n.resolve||{}}function Yp(n){return"string"==typeof n.title||null===n.title}function Qp(n){return Kn(t=>{const e=n(t);return e?(0,vn.D)(e).pipe((0,ct.U)(()=>t)):lt(t)})}let Th=(()=>{class n{buildTitle(e){let s,a=e.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(d=>d.outlet===Ft);return s}getResolvedTitleForRoute(e){return e.data[li]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(sy)},providedIn:"root"}),n})(),sy=(()=>{class n extends Th{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(cs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DE{}class AE extends class TE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ac=new u.OlP("",{providedIn:"root",factory:()=>({})}),Sh=new u.OlP("ROUTES");let Sc=(()=>{class n{constructor(e,s){this.injector=e,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return lt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Wi(e.loadComponent()).pipe((0,Un.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),wl(()=>{this.componentLoaders.delete(e)})),a=new ms(s,()=>new Hi.x).pipe(gs());return this.componentLoaders.set(e,a),a}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return lt({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe((0,ct.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(s);let w,T,H=!1;Array.isArray(y)?T=y:(w=y.create(e).injector,T=ih(w.get(Sh,[],u.XFs.Self|u.XFs.Optional)));return{routes:T.map(mh),injector:w}}),wl(()=>{this.childrenLoaders.delete(s)})),p=new ms(d,()=>new Hi.x).pipe(gs());return this.childrenLoaders.set(s,p),p}loadModuleFactoryOrRoutes(e){return Wi(e()).pipe((0,fr.z)(s=>s instanceof u.YKP||Array.isArray(s)?lt(s):(0,vn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ME{}class RE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oy(n){throw n}function Ba(n,t,e){return t.parse("/")}const ay={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ly={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function NE(){const n=(0,u.f3M)(sc),t=(0,u.f3M)(vc),e=(0,u.f3M)(Re),s=(0,u.f3M)(u.zs3),a=(0,u.f3M)(u.Sil),d=(0,u.f3M)(Sh,{optional:!0})??[],p=(0,u.f3M)(Ac,{optional:!0})??{},y=(0,u.f3M)(sy),w=(0,u.f3M)(Th,{optional:!0}),T=(0,u.f3M)(ME,{optional:!0}),H=(0,u.f3M)(DE,{optional:!0}),V=new ir(null,n,t,e,s,a,ih(d));return T&&(V.urlHandlingStrategy=T),H&&(V.routeReuseStrategy=H),V.titleStrategy=w??y,function PE(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(p,V),V}let ir=(()=>{class n{constructor(e,s,a,d,p,y,w){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Hi.x,this.errorHandler=oy,this.malformedUriErrorHandler=Ba,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new RE,this.routeReuseStrategy=new AE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=p.get(Sc),this.configLoader.onLoadEndListener=Q=>this.triggerEvent(new Sp(Q)),this.configLoader.onLoadStartListener=Q=>this.triggerEvent(new gc(Q)),this.ngModule=p.get(u.h0i),this.console=p.get(u.c2e);const V=p.get(u.R0b);this.isNgZoneEnabled=V instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function sh(){return new Qs(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Uo(this.currentUrlTree,this.rootComponentType),this.transitions=new Cn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(si(a=>0!==a.id),(0,ct.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Kn(a=>{let d=!1,p=!1;return lt(a).pipe((0,Un.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kn(y=>{const w=this.browserUrlTree.toString(),T=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Jp(y.source)&&(this.browserUrlTree=y.extractedUrl),lt(y).pipe(Kn(V=>{const Q=this.transitions.getValue();return s.next(new pc(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),Q!==this.transitions.getValue()?$i.E:Promise.resolve(V)}),function ro(n,t,e,s){return Kn(a=>function wE(n,t,e,s,a){return new Ol(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,ct.U)(d=>({...a,urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Un.b)(V=>{this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects},a.urlAfterRedirects=V.urlAfterRedirects}),function Zp(n,t,e,s,a,d){return(0,fr.z)(p=>function oD(n,t,e,s,a,d,p="emptyOnly",y="legacy"){return new ey(n,t,e,s,a,p,y,d).recognize().pipe(Kn(w=>null===w?function sD(n){return new vr.y(t=>t.error(n))}(new bE):lt(w)))}(n,t,e,p.urlAfterRedirects,s.serialize(p.urlAfterRedirects),s,a,d).pipe((0,ct.U)(y=>({...p,targetSnapshot:y}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Un.b)(V=>{if(a.targetSnapshot=V.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const he=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(he,V)}this.browserUrlTree=V.urlAfterRedirects}const Q=new KC(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);s.next(Q)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:he,source:Ne,restoredState:dt,extras:Dt}=y,jt=new pc(Q,this.serializeUrl(he),Ne,dt);s.next(jt);const cn=Uo(he,this.rootComponentType).snapshot;return lt(a={...y,targetSnapshot:cn,urlAfterRedirects:he,extras:{...Dt,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=y.rawUrl,y.resolve(null),$i.E}),(0,Un.b)(y=>{const w=new YC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,ct.U)(y=>a={...y,guards:nD(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),function dE(n,t){return(0,fr.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?lt({...e,guardsResult:!0}):function hE(n,t,e,s){return(0,vn.D)(n).pipe((0,fr.z)(a=>function _E(n,t,e,s,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?lt(d.map(y=>{const w=wc(t)??a,T=bc(y,w);return Wi(function uE(n){return n&&Ua(n.canDeactivate)}(T)?T.canDeactivate(n,t,e,s):w.runInContext(()=>T(n,t,e,s))).pipe(oi())})).pipe(Va()):lt(!0)}(a.component,a.route,e,t,s)),oi(a=>!0!==a,!0))}(p,s,a,n).pipe((0,fr.z)(y=>y&&function Z_(n){return"boolean"==typeof n}(y)?function fE(n,t,e,s){return(0,vn.D)(t).pipe(wi(a=>Mo(function Hp(n,t){return null!==n&&t&&t(new k_(n)),lt(!0)}(a.route.parent,s),function pE(n,t){return null!==n&&t&&t(new L_(n)),lt(!0)}(a.route,s),function mE(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function rD(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Ro(()=>lt(p.guards.map(w=>{const T=wc(p.node)??e,H=bc(w,T);return Wi(function Up(n){return n&&Ua(n.canActivateChild)}(H)?H.canActivateChild(s,n):T.runInContext(()=>H(s,n))).pipe(oi())})).pipe(Va())));return lt(d).pipe(Va())}(n,a.path,e),function gE(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return lt(!0);const a=s.map(d=>Ro(()=>{const p=wc(t)??e,y=bc(d,p);return Wi(function K_(n){return n&&Ua(n.canActivate)}(y)?y.canActivate(t,n):p.runInContext(()=>y(t,n))).pipe(oi())}));return lt(a).pipe(Va())}(n,a.route,e))),oi(a=>!0!==a,!0))}(s,d,n,t):lt(y)),(0,ct.U)(y=>({...e,guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Un.b)(y=>{if(a.guardsResult=y.guardsResult,P(y.guardsResult))throw B_(0,y.guardsResult);const w=new QC(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),si(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",3),!1)),Qp(y=>{if(y.guards.canActivateChecks.length)return lt(y).pipe((0,Un.b)(w=>{const T=new JI(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),Kn(w=>{let T=!1;return lt(w).pipe(function qp(n,t){return(0,fr.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return lt(e);let d=0;return(0,vn.D)(a).pipe(wi(p=>function iy(n,t,e,s){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!Yp(a)&&(d[li]=a.title),function lD(n,t,e,s){const a=function kl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return lt({});const d={};return(0,vn.D)(a).pipe((0,fr.z)(p=>function Kp(n,t,e,s){const a=wc(t)??s,d=bc(n,a);return Wi(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[p],t,e,s).pipe(oi(),(0,Un.b)(y=>{d[p]=y}))),Po(1),function ec(n){return(0,ct.U)(()=>n)}(d),ai(p=>Bp(p)?$i.E:qs(p)))}(d,n,t,s).pipe((0,ct.U)(p=>(n._resolvedData=p,n.data=mc(n,e).resolve,a&&Yp(a)&&(n.data[li]=a.title),null)))}(p.route,s,n,t)),(0,Un.b)(()=>d++),Po(1),(0,fr.z)(p=>d===a.length?lt(e):$i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Un.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,Un.b)(w=>{const T=new XI(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),Qp(y=>{const w=T=>{const H=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent(T.routeConfig).pipe((0,Un.b)(V=>{T.component=V}),(0,ct.U)(()=>{})));for(const V of T.children)H.push(...w(V));return H};return Xd(w(y.targetSnapshot.root)).pipe(Ei(),In(1))}),Qp(()=>this.afterPreactivation()),(0,ct.U)(y=>{const w=function tE(n,t,e){const s=Sl(n,t._root,e?e._root:void 0);return new Pp(s,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return a={...y,targetRouterState:w}}),(0,Un.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,ct.U)(s=>(new tD(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Un.b)({next(){d=!0},complete(){d=!0}}),wl(()=>{d||p||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),ai(y=>{if(p=!0,j_(y)){ph(y)||(this.navigated=!0,this.restoreHistory(a,!0));const w=new hh(a.id,this.serializeUrl(a.extractedUrl),y.message,y.cancellationCode);if(s.next(w),ph(y)){const T=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),H={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jp(a.source)};this.scheduleNavigation(T,"imperative",null,H,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new x_(a.id,this.serializeUrl(a.extractedUrl),y,a.targetSnapshot??void 0);s.next(w);try{a.resolve(this.errorHandler(y))}catch(T){a.reject(T)}}return $i.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},d=e.state?.navigationId?e.state:null;if(d){const y={...d};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,s,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(mh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:y,preserveFragment:w}=s,T=a||this.routerState.root,H=w?this.currentUrlTree.fragment:p;let V=null;switch(y){case"merge":V={...this.currentUrlTree.queryParams,...d};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=d||null}return null!==V&&(V=this.removeEmptyProps(V)),Lt(T,this.currentUrlTree,e,V,H??null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=P(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function OE(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?{...ay}:!1===s?{...ly}:s,P(e))return wp(this.currentUrlTree,e,a);const d=this.parseUrl(e);return wp(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Lo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,d,p){if(this.disposed)return Promise.resolve(!1);let y,w,T;p?(y=p.resolve,w=p.reject,T=p.promise):T=new Promise((Q,he)=>{y=Q,w=he});const H=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),V=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):V=0,this.setTransition({id:H,targetPageId:V,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:y,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(Q=>Promise.reject(Q))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s,a){const d=new hh(e.id,this.serializeUrl(e.extractedUrl),s,a);this.triggerEvent(d),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return NE()},providedIn:"root"}),n})();function Jp(n){return"imperative"!==n}let Ha=(()=>{class n{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Hi.x,this.subscription=e.events.subscribe(d=>{d instanceof Lo&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,d,p){return!!(0!==e||s||a||d||p||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ir),u.Y36(to),u.Y36(me))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&u.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&u.uIk("target",s.target)("href",s.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class Rc{}let tg=(()=>{class n{constructor(e,s,a,d,p){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(si(e=>e instanceof Lo),wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,u.MMx)(d.providers,e,`Route: ${d.path}`));const p=d._injector??e,y=d._loadedInjector??p;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(p,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(y,d.children??d._loadedRoutes))}return(0,vn.D)(a).pipe((0,Zs.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):lt(null);const d=a.pipe((0,fr.z)(p=>null===p?lt(void 0):(s._loadedRoutes=p.routes,s._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(s.loadComponent&&!s._loadedComponent){const p=this.loader.loadComponent(s);return(0,vn.D)([d,p]).pipe((0,Zs.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ir),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Rc),u.LFG(Sc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rh=new u.OlP("");let Ph=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new Mp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fl(n,t){return{\u0275kind:n,\u0275providers:t}}function rg(n){return[{provide:Sh,multi:!0,useValue:n}]}function Nh(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const s=n.get(ir),a=n.get(ig);1===n.get(cy)&&s.initialNavigation(),n.get(fy,null,u.XFs.Optional)?.setUpPreloading(),n.get(Rh,null,u.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),a.next(),a.complete()}}const ig=new u.OlP("",{factory:()=>new Hi.x}),cy=new u.OlP("",{providedIn:"root",factory:()=>1});const fy=new u.OlP("");function LE(n){return Fl(0,[{provide:fy,useExisting:tg},{provide:Rc,useExisting:n}])}const py=new u.OlP("ROUTER_FORROOT_GUARD"),VE=[Re,{provide:sc,useClass:xo},{provide:ir,useFactory:NE},vc,{provide:to,useFactory:function ng(n){return n.routerState.root},deps:[ir]},Sc];function BE(){return new u.PXZ("Router",ir)}let gy=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[VE,[],rg(e),{provide:py,useFactory:$E,deps:[[ir,new u.FiY,new u.tp0]]},{provide:Ac,useValue:s||{}},s?.useHash?{provide:me,useClass:$e}:{provide:me,useClass:Ye},{provide:Rh,useFactory:()=>{const n=(0,u.f3M)(ir),t=(0,u.f3M)(sl),e=(0,u.f3M)(Ac);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ph(n,t,e)}},s?.preloadingStrategy?LE(s.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:BE},s?.initialNavigation?Pt(s):[],[{provide:sg,useFactory:Nh},{provide:u.tb,multi:!0,useExisting:sg}]]}}static forChild(e){return{ngModule:n,providers:[rg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(py,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[kp]}),n})();function $E(n){return"guarded"}function Pt(n){return["disabled"===n.initialNavigation?Fl(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(ir);return()=>{t.setUpLocationChangeListener()}}},{provide:cy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fl(2,[{provide:cy,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve(null));let s=!1;return()=>e.then(()=>new Promise(d=>{const p=t.get(ir),y=t.get(ig);(function a(d){t.get(ir).events.pipe(si(y=>y instanceof Lo||y instanceof hh||y instanceof x_),(0,ct.U)(y=>y instanceof Lo||y instanceof hh&&(0===y.code||1===y.code)&&null),si(y=>null!==y),In(1)).subscribe(()=>{d()})})(()=>{d(!0),s=!0}),p.afterPreactivation=()=>(d(!0),s||y.closed?lt(void 0):y),p.initialNavigation()}))}}]).\u0275providers:[]]}const sg=new u.OlP("");let GE=(()=>{class n{constructor(){this.img="",this.cardTitle=""}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forum-layout"]],inputs:{img:"img",cardTitle:"cardTitle"},decls:53,vars:0,consts:[[1,"container","my-3"],[1,"breadcrumb",2,"color","#9c9cf0"],[1,"breadcrumb-item","active",2,"color","aliceblue"],[1,"row",2,"color","#ffffff"],[1,"col-10","col-xl-9"],[1,"h4","category","mb-0","p-4","rounded-top","text-light"],[1,"table","table-striped","table-bordered","table-responsive"],[1,"thead-light"],["scope","col",1,"forum-col"],["scope","col"],[1,"h5","mb=0"],["routerLink","bugs","href","#"],[1,"mb-0"],[1,"h5","mb-0"],["routerLink","lft","href","#"],["routerLink","general","href","#"]],template:function(e,s){1&e&&(u.TgZ(0,"div",0)(1,"nav",1)(2,"h5",2),u._uU(3,"Index "),u.qZA()(),u.TgZ(4,"div",3)(5,"div",4),u._UZ(6,"h3",5),u.TgZ(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8),u._uU(11,"Forum"),u.qZA(),u.TgZ(12,"th",9),u._uU(13,"Topic"),u.qZA(),u.TgZ(14,"th",9),u._uU(15,"Posts"),u.qZA()()(),u.TgZ(16,"tbody")(17,"tr")(18,"td")(19,"h4",10)(20,"a",11),u._uU(21,"Bug/User Report"),u.qZA()(),u.TgZ(22,"p",12),u._uU(23,"Use this forum to post any bugs or toxic users"),u.qZA()(),u.TgZ(24,"td")(25,"div"),u._uU(26,"0"),u.qZA()(),u.TgZ(27,"td"),u._uU(28,"0"),u.qZA()(),u.TgZ(29,"tr")(30,"td")(31,"h4",13)(32,"a",14),u._uU(33,"Looking for Teammates"),u.qZA()(),u.TgZ(34,"p",12),u._uU(35,"Teammate applications "),u.qZA()(),u.TgZ(36,"td")(37,"div"),u._uU(38," 0 "),u.qZA()(),u.TgZ(39,"td"),u._uU(40,"0"),u.qZA()(),u.TgZ(41,"tr")(42,"td")(43,"h4",13)(44,"a",15),u._uU(45,"General Chat"),u.qZA()(),u.TgZ(46,"p",12),u._uU(47,"Talk about anything, be it games or irl stuff! No politics. "),u.qZA()(),u.TgZ(48,"td")(49,"div"),u._uU(50," 0 "),u.qZA()(),u.TgZ(51,"td"),u._uU(52,"0"),u.qZA()()()()()()())},dependencies:[Ha],styles:['.h3[_ngcontent-%COMP%]{font-size:32px}.breadcrumb-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none}a.text-white[_ngcontent-%COMP%]:after{content:">";color:#fff;font-size:14px}a.text-white[_ngcontent-%COMP%]:hover{text-decoration:underline}ol[_ngcontent-%COMP%]{padding-top:1rem;padding-left:9rem}.category[_ngcontent-%COMP%]{background-color:#a3a8f8}.forum-col[_ngcontent-%COMP%]{min-width:256px}.last-post-col[_ngcontent-%COMP%]{min-width:192px}']}),n})(),yy=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-homepage-layout"]],decls:60,vars:0,consts:[[1,"homepage",2,"background-color","rgb(15, 15, 61)"],[1,"card"],["src","https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4bdd888b-fe5c-4358-8c46-5362c7ce3154/dehn7hz-56d75669-c27f-4d2b-8e30-91dc2c542e4c.jpg/v1/fill/w_1280,h_720,q_75,strp/cool_gaming_background_4k_by_skullbreaker000_dehn7hz-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9NzIwIiwicGF0aCI6IlwvZlwvNGJkZDg4OGItZmU1Yy00MzU4LThjNDYtNTM2MmM3Y2UzMTU0XC9kZWhuN2h6LTU2ZDc1NjY5LWMyN2YtNGQyYi04ZTMwLTkxZGMyYzU0MmU0Yy5qcGciLCJ3aWR0aCI6Ijw9MTI4MCJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.oV9fk5Nb0ps6-6_Omk6AfhkNvdqDyQRvV_hLyys1S6Q","alt","...",1,"card-img-top",2,"background-color","rgb(15, 15, 61)"],[1,"title"],[1,"News","Title","text-center"],[1,"card-text",2,"color","white"],[1,"d-flex","flex-row","text-center"],[1,"d-flex","flex-column"],[1,"card","m-3","bg-dark",2,"width","840px","height","143px"],[1,"row","g-0"],[1,"col-md-3"],["src","https://www.gameinformer.com/sites/default/files/styles/full/public/2022/10/27/3a96ef0f/silent_hill_2_remake_pyramid_head.jpg","role","button","alt","...",1,"img-fluid","rounded-start",2,"height","143px"],[1,"col-md-7"],[1,"card-body"],[1,"card-title",2,"color","white"],["src","https://www.reuters.com/resizer/g4MGR86VLjFMATTUnO4kEzJgrjc=/960x0/filters:quality(80)/cloudfront-us-east-2.images.arcpublishing.com/reuters/Y4VCLENXTBOT3MDXIRZCH545ZI.jpg","role","button","alt","...",1,"img-fluid","rounded-start",2,"height","143px"],["src","hdata:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==","role","button","alt","...",1,"img-fluid","rounded-start",2,"height","143px"],[1,"card","m-3","bg-dark",2,"width","1000px","height","180px"],["src","https://store-images.s-microsoft.com/image/apps.30809.65170969132831011.6c6c3131-3fae-40e0-b990-333548e1d2f9.00d6a418-ec0a-4ed4-aaf3-cf5e243cf52e?q=90&w=480&h=270","role","button","alt","...",1,"img-fluid","rounded-start",2,"height","180px"]],template:function(e,s){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"div",3)(4,"h1"),u._uU(5,"Mul-T"),u.qZA()()(),u.TgZ(6,"div",4)(7,"h2",5),u._uU(8," Featured News "),u.qZA()(),u.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),u._UZ(14,"img",11),u.qZA(),u.TgZ(15,"div",12)(16,"div",13)(17,"h5",14),u._uU(18,"The Big List Of Upcoming Video Game Remakes"),u.qZA(),u.TgZ(19,"p",5),u._uU(20,"The remake boom has been in full swing in recent years to the point that it\u2019s starting to get tough to keep track of all the projects in the works. "),u.qZA()()()()()()(),u.TgZ(21,"div",6)(22,"div",7)(23,"div",8)(24,"div",9)(25,"div",10),u._UZ(26,"img",15),u.qZA(),u.TgZ(27,"div",12)(28,"div",13)(29,"h5",14),u._uU(30,"Poland's CD Projekt announces remake of Witcher video game"),u.qZA(),u.TgZ(31,"p",5),u._uU(32,'GDANSK, Oct 26 (Reuters) - Poland\'s biggest video game maker CD Projekt (CDR.WA) said on Wednesday that work was in progress on a remake of the first game in its flagship medieval fantasy series "The Witcher".'),u.qZA()()()()()()(),u.TgZ(33,"div",6)(34,"div",7)(35,"div",8)(36,"div",9)(37,"div",10),u._UZ(38,"img",16),u.qZA(),u.TgZ(39,"div",12)(40,"div",13)(41,"h5",14),u._uU(42,"God of War Ragnar\xf6k Leaks Early, Spoilers Are Everywhere"),u.qZA(),u.TgZ(43,"p",5),u._uU(44,"The developers are asking everyone to 'please be considerate' of fans who don't want see the story early"),u.qZA()()()()()()(),u.TgZ(45,"div",4)(46,"h2",5),u._uU(47," Featured Forum of the Day "),u.qZA()(),u.TgZ(48,"div",6)(49,"div",7)(50,"div",17)(51,"div",9)(52,"div",10),u._UZ(53,"img",18),u.qZA(),u.TgZ(54,"div",12)(55,"div",13)(56,"h4",14),u._uU(57,"Tom Clancy's Rainbow Six Siege"),u.qZA(),u.TgZ(58,"p",5),u._uU(59,"Rainbow Six Siege is a high-precision, tactical shooter that prioritises careful planning teamwork and finely tuned tactical play. Each player assumes control of an attacker or a defender in different gameplay modes such as rescuing a hostage, defusing a bomb, and taking control of an objective within a room."),u.qZA()()()()()()()())},styles:[".h3[_ngcontent-%COMP%]{font-size:32px}.breadcrumb-item[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.Home[_ngcontent-%COMP%]:hover{text-decoration:underline}ol[_ngcontent-%COMP%]{padding-top:1rem;padding-left:9rem}h4[_ngcontent-%COMP%]{color:#fff}.link-light-m[_ngcontent-%COMP%]:hover{text-decoration:underline}ul[_ngcontent-%COMP%]{list-style:none}h4.text-white-h[_ngcontent-%COMP%]{padding-top:5rem}.title[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})();var Pc=O(8247),L=O(2090),Cs=O(9681),xh=O(1877),ja=O(4859),dD=O(4986),kh=O(6451),og=O(3099);function zE(n,t){return n===t}var ag=O(5032),Gn=O(880),Es=O(2011),qE=(O(5881),O(3942)),Bo=O(5861);const KE="@firebase/database",vy="0.13.10";let Ho="";function Cy(n){Ho=n}class Ey{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Fh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const wy=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ey(t)}}catch{}return new Fh},jo=wy("localStorage"),ug=wy("sessionStorage"),Ll=new xh.Yd("@firebase/database"),by=function(){let n=1;return function(){return n++}}(),Iy=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const s=e.digest();return L.US.encodeByteArray(s)},Nc=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Nc.apply(null,s):t+="object"==typeof s?(0,L.Wl)(s):s,t+=" "}return t};let $o=null,Dy=!0;const cg=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ll.logLevel=xh.in.VERBOSE,$o=Ll.log.bind(Ll),t&&ug.set("logging_enabled",!0)):"function"==typeof n?$o=n:($o=null,ug.remove("logging_enabled"))},pr=function(...n){if(!0===Dy&&(Dy=!1,null===$o&&!0===ug.get("logging_enabled")&&cg(!0)),$o){const t=Nc.apply(null,n);$o(t)}},Wa=function(n){return function(...t){pr(n,...t)}},Ty=function(...n){const t="FIREBASE INTERNAL ERROR: "+Nc(...n);Ll.error(t)},Ii=function(...n){const t=`FIREBASE FATAL ERROR: ${Nc(...n)}`;throw Ll.error(t),new Error(t)},Fr=function(...n){const t="FIREBASE WARNING: "+Nc(...n);Ll.warn(t)},io=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ws="[MIN_NAME]",ui="[MAX_NAME]",Sr=function(n,t){if(n===t)return 0;if(n===ws||t===ui)return-1;if(t===ws||n===ui)return 1;{const e=Vl(n),s=Vl(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},Sy=function(n,t){return n===t?0:n<t?-1:1},Oc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Wl)(t))},xc=function(n){if("object"!=typeof n||null===n)return(0,L.Wl)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,L.Wl)(t[s]),e+=":",e+=xc(n[t[s]]);return e+="}",e},bs=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function sr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const dg=function(n){(0,L.hu)(!io(n),"Invalid JSON number");const s=1023;let a,d,p,y,w;0===n?(d=0,p=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=y+s,p=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(d=0,p=Math.round(n/Math.pow(2,-1074))));const T=[];for(w=52;w;w-=1)T.push(p%2?1:0),p=Math.floor(p/2);for(w=11;w;w-=1)T.push(d%2?1:0),d=Math.floor(d/2);T.push(a?1:0),T.reverse();const H=T.join("");let V="";for(w=0;w<64;w+=8){let Q=parseInt(H.substr(w,8),2).toString(16);1===Q.length&&(Q="0"+Q),V+=Q}return V.toLowerCase()},pD=new RegExp("^-?(0*)\\d{1,10}$"),kc=-2147483648,Ul=2147483647,Vl=function(n){if(pD.test(n)){const t=Number(n);if(t>=kc&&t<=Ul)return t}return null},Wo=function(n){try{n()}catch(t){setTimeout(()=>{throw Fr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Lh=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class YE{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class QE{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fr(t)}}let Fc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const gg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ew="websocket",tw="long_polling";class Ny{constructor(t,e,s,a,d=!1,p="",y=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&jo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nw(n,t,e){let s;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===ew)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==tw)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function gD(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return sr(e,(d,p)=>{a.push(d+"="+p)}),s+a.join("&")}class mD{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const Oy={},xy={};function ky(n){const t=n.toString();return Oy[t]||(Oy[t]=new mD),Oy[t]}class Go{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Wo(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ci{constructor(t,e,s,a,d,p,y){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=p,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wa(t),this.stats_=ky(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),nw(e,tw,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Go(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hl((...d)=>{const[p,y,w,T,H]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=y,this.password=w;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,y)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&gg.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ci.forceAllow_=!0}static forceDisallow(){ci.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!ci.forceAllow_&&(ci.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,L.h$)(e),a=bs(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Hl{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=by(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Hl.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(y){pr("frame writing exception"),y.stack&&pr(y.stack),pr(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||pr("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const p=this.pendingSegs.shift();s=s+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{pr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Vc=null;typeof MozWebSocket<"u"?Vc=MozWebSocket:typeof WebSocket<"u"&&(Vc=WebSocket);let Ga=(()=>{class n{constructor(e,s,a,d,p,y,w){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wa(this.connId),this.stats_=ky(s),this.connURL=n.connectionURL_(s,y,w,d,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d,p){const y={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&gg.test(location.hostname)&&(y.r="f"),s&&(y.s=s),a&&(y.ls=a),d&&(y.ac=d),p&&(y.p=p),nw(e,ew,y)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jo.set("previous_websocket_failure",!0);try{let a;if((0,L.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Ho}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,y=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new Vc(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Vc&&!n.forceDisallow_}static previouslyFailed(){return jo.isInMemoryStorage||!0===jo.get("previous_websocket_failure")}markConnectionHealthy(){jo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,L.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,L.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=bs(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),jh=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ci,Ga]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Ga&&Ga.isAvailable();let a=s&&!Ga.previouslyFailed();if(e.webSocketOnly&&(s||Fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ga];else{const d=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&d.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class uw{constructor(t,e,s,a,d,p,y,w,T,H){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=p,this.onReady_=y,this.onDisconnect_=w,this.onKill_=T,this.lastSessionId=H,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wa("c:"+this.id+":"),this.transportManager_=new jh(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Lh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Oc("t",t),s=Oc("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Oc("t",t),s=Oc("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Oc("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Ty("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ty("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),Lh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ky{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class $h{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Bc extends $h{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bc}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class un{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function en(){return new un("")}function Ht(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function so(n){return n.pieces_.length-n.pieceNum_}function En(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new un(n.pieces_,t)}function Ig(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Xy(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new un(t,0)}function tn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof un)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new un(e,0)}function Ut(n){return n.pieceNum_>=n.pieces_.length}function Hr(n,t){const e=Ht(n),s=Ht(t);if(null===e)return t;if(e===s)return Hr(En(n),En(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function cw(n,t){const e=jl(n,0),s=jl(t,0);for(let a=0;a<e.length&&a<s.length;a++){const d=Sr(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function ev(n,t){if(so(n)!==so(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function di(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(so(n)>so(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class dw{constructor(t,e){this.errorPrefix_=e,this.parts_=jl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,L.ug)(this.parts_[s]);Wh(this)}}function Wh(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+za(n))}function za(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Dg extends $h{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Dg}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Zo=1e3;let jc,oo=(()=>{class n extends Ky{constructor(e,s,a,d,p,y,w,T){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=y,this.appCheckTokenProvider_=w,this.authOverride_=T,this.id=n.nextPersistentConnectionId_++,this.log_=Wa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,p={r:d,a:e,b:s};this.log_((0,L.Wl)(p)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new L.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:y=>{const w=y.d;"ok"===y.s?s.resolve(w):s.reject(w)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,a,d){this.initConnection_();const p=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+p),this.listens.has(y)||this.listens.set(y,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(y).has(p),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(y).set(p,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const p={p:a};e.tag&&(p.q=s._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,w=>{const T=w.d,H=w.s;n.warnOnListenWarnings_(T,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",w),"ok"!==H&&this.removeListen_(a,d),e.onComplete&&e.onComplete(H,T))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const a=(0,L.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',p=s._path.toString();Fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,L.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const p=d.s,y=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const p={p:e};d&&(p.q=a,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const p={p:s,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,y=>{d&&setTimeout(()=>{d(y.s,y.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,p){this.initConnection_();const y={p:s,d:a};void 0!==p&&(y.h=p),this.outstandingPuts_.push({action:e,request:y,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,p=>{this.log_(s+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Wl)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Ty("Unrecognized action received from server: "+(0,L.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Bo.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let w=!1,T=null;const H=function(){T?T.close():(w=!0,d())};e.realtime_={close:H,sendRequest:function(he){(0,L.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(he)}};const Q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[he,Ne]=yield Promise.all([e.authTokenProvider_.getToken(Q),e.appCheckTokenProvider_.getToken(Q)]);w?pr("getToken() completed but was canceled"):(pr("getToken() completed. Creating connection."),e.authToken_=he&&he.accessToken,e.appCheckToken_=Ne&&Ne.token,T=new uw(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,dt=>{Fr(dt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(he){e.log_("Failed to get token: "+he),w||(e.repoInfo_.nodeAdmin&&Fr(he),H())}}})()}interrupt(e){pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(p=>xc(p)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new un(e).toString();let d;if(this.listens.has(a)){const p=this.listens.get(a);d=p.get(s),p.delete(s),0===p.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){pr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){pr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,L.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Ho.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bc.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class zt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new zt(t,e)}}class Hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new zt(ws,t),a=new zt(ws,e);return 0!==this.compare(s,a)}minPost(){return zt.MIN}}class Sg extends Hc{static get __EMPTY_NODE(){return jc}static set __EMPTY_NODE(t){jc=t}compare(t,e){return Sr(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return zt.MIN}maxPost(){return new zt(ui,jc)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new zt(t,jc)}toString(){return".key"}}const Yi=new Sg;class $l{constructor(t,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(p=e?s(t.key,e):1,a&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Wc,gr=(()=>{class n{constructor(e,s,a,d,p){this.key=e,this.value=s,this.color=a??n.RED,this.left=d??Mr.EMPTY_NODE,this.right=p??Mr.EMPTY_NODE}copy(e,s,a,d,p){return new n(e??this.key,s??this.value,a??this.color,d??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const p=a(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===p?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return Mr.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Mr{constructor(t,e=Mr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Mr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,gr.BLACK,null,null))}remove(t){return new Mr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,gr.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $l(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new $l(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new $l(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new $l(this.root_,null,this.comparator_,!0,t)}}function $c(n,t){return Sr(n.name,t.name)}function Mg(n,t){return Sr(n,t)}Mr.EMPTY_NODE=new class Gh{copy(t,e,s,a,d){return this}insert(t,e,s){return new gr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const iv=function(n){return"number"==typeof n?"number:"+dg(n):"string:"+n},sv=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===Wc||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===Wc||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Wl,gw,ov,Gl=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sv(this.priorityNode_)}static set __childrenNodeConstructor(e){Wl=e}static get __childrenNodeConstructor(){return Wl}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ut(e)?this:".priority"===Ht(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Ht(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,L.hu)(".priority"!==a||1===so(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(En(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iv(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?dg(this.value_):this.value_,this.lazyHash_=Iy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),p=n.VALUE_TYPE_ORDER.indexOf(a);return(0,L.hu)(d>=0,"Unknown leaf type: "+s),(0,L.hu)(p>=0,"Unknown leaf type: "+a),d===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Dn=new class _w extends Hc{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?Sr(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return zt.MIN}maxPost(){return new zt(ui,new Gl("[PRIORITY-POST]",ov))}makePost(t,e){const s=gw(t);return new zt(e,new Gl("[PRIORITY-POST]",s))}toString(){return".priority"}},yw=Math.log(2);class av{constructor(t){this.count=parseInt(Math.log(t+1)/yw,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const zl=function(n,t,e,s){n.sort(t);const a=function(w,T){const H=T-w;let V,Q;if(0===H)return null;if(1===H)return V=n[w],Q=e?e(V):V,new gr(Q,V.node,gr.BLACK,null,null);{const he=parseInt(H/2,10)+w,Ne=a(w,he),dt=a(he+1,T);return V=n[he],Q=e?e(V):V,new gr(Q,V.node,gr.BLACK,Ne,dt)}},y=function(w){let T=null,H=null,V=n.length;const Q=function(Ne,dt){const Dt=V-Ne,jt=V;V-=Ne;const cn=a(Dt+1,jt),Nr=n[Dt],Hn=e?e(Nr):Nr;he(new gr(Hn,Nr.node,dt,null,cn))},he=function(Ne){T?(T.left=Ne,T=Ne):(H=Ne,T=Ne)};for(let Ne=0;Ne<w.count;++Ne){const dt=w.nextBitIsOne(),Dt=Math.pow(2,w.count-(Ne+1));dt?Q(Dt,gr.BLACK):(Q(Dt,gr.BLACK),Q(Dt,gr.RED))}return H}(new av(n.length));return new Mr(s||t,y)};let Rg;const qo={};class ao{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(qo&&Dn,"ChildrenNode.ts has not been loaded"),Rg=Rg||new ao({".priority":qo},{".priority":Dn}),Rg}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mr?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==Yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(zt.Wrap);let y,p=d.getNext();for(;p;)a=a||t.isDefinedOn(p.node),s.push(p),p=d.getNext();y=a?zl(s,t.getCompare()):qo;const w=t.toString(),T=Object.assign({},this.indexSet_);T[w]=t;const H=Object.assign({},this.indexes_);return H[w]=y,new ao(H,T)}addToIndexes(t,e){const s=(0,L.UI)(this.indexes_,(a,d)=>{const p=(0,L.DV)(this.indexSet_,d);if((0,L.hu)(p,"Missing index implementation for "+d),a===qo){if(p.isDefinedOn(t.node)){const y=[],w=e.getIterator(zt.Wrap);let T=w.getNext();for(;T;)T.name!==t.name&&y.push(T),T=w.getNext();return y.push(t),zl(y,p.getCompare())}return qo}{const y=e.get(t.name);let w=a;return y&&(w=w.remove(new zt(t.name,y))),w.insert(t,t.node)}});return new ao(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,L.UI)(this.indexes_,a=>{if(a===qo)return a;{const d=e.get(t.name);return d?a.remove(new zt(t.name,d)):a}});return new ao(s,this.indexSet_)}}let Gc,Ot=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&sv(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gc||(Gc=new n(new Mr(Mg),null,ao.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Gc:s}}getChild(e){const s=Ht(e);return null===s?this:this.getImmediateChild(s).getChild(En(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,L.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new zt(e,s);let d,p;s.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),p=this.indexMap_.addToIndexes(a,this.children_));const y=d.isEmpty()?Gc:this.priorityNode_;return new n(d,y,p)}}updateChild(e,s){const a=Ht(e);if(null===a)return s;{(0,L.hu)(".priority"!==Ht(e)||1===so(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(En(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,p=!0;if(this.forEachChild(Dn,(y,w)=>{s[y]=w.val(e),a++,p&&n.INTEGER_REGEXP_.test(y)?d=Math.max(d,Number(y)):p=!1}),!e&&p&&d<2*a){const y=[];for(const w in s)y[w]=s[w];return y}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+iv(this.getPriority().val())+":"),this.forEachChild(Dn,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":Iy(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const p=d.getPredecessorKey(new zt(e,s));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new zt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new zt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,zt.Wrap);let p=d.peek();for(;null!=p&&s.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,zt.Wrap);let p=d.peek();for(;null!=p&&s.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zc?-1:0}withIndex(e){if(e===Yi||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Yi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(Dn),d=s.getIterator(Dn);let p=a.getNext(),y=d.getNext();for(;p&&y;){if(p.name!==y.name||!p.node.equals(y.node))return!1;p=a.getNext(),y=d.getNext()}return null===p&&null===y}return!1}return!1}}resolveIndex_(e){return e===Yi?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zc=new class vw extends Ot{constructor(){super(new Mr(Mg),Ot.EMPTY_NODE,ao.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ot.EMPTY_NODE}isEmpty(){return!1}};function Tn(n,t=null){if(null===n)return Ot.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Gl(n,Tn(t));if(n instanceof Array){let e=Ot.EMPTY_NODE;return sr(n,(s,a)=>{if((0,L.r3)(n,s)&&"."!==s.substring(0,1)){const d=Tn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(Tn(t))}{const e=[];let s=!1;if(sr(n,(p,y)=>{if("."!==p.substring(0,1)){const w=Tn(y);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new zt(p,w)))}}),0===e.length)return Ot.EMPTY_NODE;const d=zl(e,$c,p=>p.name,Mg);if(s){const p=zl(e,Dn.getCompare());return new Ot(d,Tn(t),new ao({".priority":p},{".priority":Dn}))}return new Ot(d,Tn(t),ao.Default)}}Object.defineProperties(zt,{MIN:{value:new zt(ws,Ot.EMPTY_NODE)},MAX:{value:new zt(ui,zc)}}),Sg.__EMPTY_NODE=Ot.EMPTY_NODE,Gl.__childrenNodeConstructor=Ot,function rv(n){Wc=n}(zc),function mw(n){ov=n}(zc),function vD(n){gw=n}(Tn);class lo extends Hc{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!Ut(t)&&".priority"!==Ht(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?Sr(t.name,e.name):d}makePost(t,e){const s=Tn(t),a=Ot.EMPTY_NODE.updateChild(this.indexPath_,s);return new zt(e,a)}maxPost(){const t=Ot.EMPTY_NODE.updateChild(this.indexPath_,zc);return new zt(ui,t)}toString(){return jl(this.indexPath_,0).join("/")}}const Za=new class CD extends Hc{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Sr(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return zt.MIN}maxPost(){return zt.MAX}makePost(t,e){const s=Tn(t);return new zt(e,s)}toString(){return".value"}},Zl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Is=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Zl.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=Zl.charAt(t[a]);return(0,L.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),ql=function(n){if(n===""+Ul)return"-";const t=Vl(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let p=0;p<e.length;p++)e[p]=n.charAt(p);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return ui;const d=Zl.charAt(Zl.indexOf(e[s])+1);return e[s]=d,e.slice(0,s+1).join("")},Rr=function(n){if(n===""+kc)return ws;const t=Vl(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Ul:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zl.charAt(Zl.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Ko(n){return{type:"value",snapshotNode:n}}function uo(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Lr(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function qa(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Yo{constructor(t){this.index_=t}updateChild(t,e,s,a,d,p){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(s.getChild(a))&&y.isEmpty()===s.isEmpty()||(null!=p&&(s.isEmpty()?t.hasChild(e)?p.trackChildChange(Lr(e,y)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?p.trackChildChange(uo(e,s)):p.trackChildChange(qa(e,s,y))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(Dn,(a,d)=>{e.hasChild(a)||s.trackChildChange(Lr(a,d))}),e.isLeafNode()||e.forEachChild(Dn,(a,d)=>{if(t.hasChild(a)){const p=t.getImmediateChild(a);p.equals(d)||s.trackChildChange(qa(a,d,p))}else s.trackChildChange(uo(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ot.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ds{constructor(t){this.indexedFilter_=new Yo(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ds.getStartPost_(t),this.endPost_=Ds.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,d,p){return this.matches(new zt(e,s))||(s=Ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,d,p)}updateFullNode(t,e,s){e.isLeafNode()&&(e=Ot.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Ot.EMPTY_NODE);const d=this;return e.forEachChild(Dn,(p,y)=>{d.matches(new zt(p,y))||(a=a.updateImmediateChild(p,Ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Yl{constructor(t){this.rangedFilter_=new Ds(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,d,p){return this.rangedFilter_.matches(new zt(e,s))||(s=Ot.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,d,p):this.fullLimitUpdateChild_(t,e,s,d,p)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=Ot.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=Ot.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const y=d.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(y.name,y.node),p++}}else{let d,p,y,w;if(a=e.withIndex(this.index_),a=a.updatePriority(Ot.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const V=this.index_.getCompare();y=(Q,he)=>V(he,Q)}else w=a.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let T=0,H=!1;for(;w.hasNext();){const V=w.getNext();!H&&y(d,V)<=0&&(H=!0),H&&T<this.limit_&&y(V,p)<=0?T++:a=a.updateImmediateChild(V.name,Ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,d){let p;if(this.reverse_){const V=this.index_.getCompare();p=(Q,he)=>V(he,Q)}else p=this.index_.getCompare();const y=t;(0,L.hu)(y.numChildren()===this.limit_,"");const w=new zt(e,s),T=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),H=this.rangedFilter_.matches(w);if(y.hasChild(e)){const V=y.getImmediateChild(e);let Q=a.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=Q&&(Q.name===e||y.hasChild(Q.name));)Q=a.getChildAfterChild(this.index_,Q,this.reverse_);const he=null==Q?1:p(Q,w);if(H&&!s.isEmpty()&&he>=0)return d?.trackChildChange(qa(e,s,V)),y.updateImmediateChild(e,s);{d?.trackChildChange(Lr(e,V));const dt=y.updateImmediateChild(e,Ot.EMPTY_NODE);return null!=Q&&this.rangedFilter_.matches(Q)?(d?.trackChildChange(uo(Q.name,Q.node)),dt.updateImmediateChild(Q.name,Q.node)):dt}}return s.isEmpty()?t:H&&p(T,w)>=0?(null!=d&&(d.trackChildChange(Lr(T.name,T.node)),d.trackChildChange(uo(e,s))),y.updateImmediateChild(e,s).updateImmediateChild(T.name,Ot.EMPTY_NODE)):t}}class co{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ws}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dn}copy(){const t=new co;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Qo(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Zh(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Zc(n,t){const e=n.copy();return e.index_=t,e}function Ng(n){const t={};if(n.isDefault())return t;let e;return n.index_===Dn?e="$priority":n.index_===Za?e="$value":n.index_===Yi?e="$key":((0,L.hu)(n.index_ instanceof lo,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Wl)(e),n.startSet_&&(t.startAt=(0,L.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Og(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Dn&&(t.i=n.index_.toString()),t}class qc extends Ky{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Wa("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=qc.getListenId_(t,s),y={};this.listens_[p]=y;const w=Ng(t._queryParams);this.restRequest_(d+".json",w,(T,H)=>{let V=H;if(404===T&&(V=null,T=null),null===T&&this.onDataUpdate_(d,V,!1,s),(0,L.DV)(this.listens_,p)===y){let Q;Q=T?401===T?"permission_denied":"rest_error:"+T:"ok",a(Q,null)}})}unlisten(t,e){const s=qc.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Ng(t._queryParams),s=t._path.toString(),a=new L.BH;return this.restRequest_(s+".json",e,(d,p)=>{let y=p;404===d&&(y=null,d=null),null===d?(this.onDataUpdate_(s,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+p);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(s&&4===y.readyState){this.log_("REST Response for "+p+" received. status:",y.status,"response:",y.responseText);let w=null;if(y.status>=200&&y.status<300){try{w=(0,L.cI)(y.responseText)}catch{Fr("Failed to parse JSON response for "+p+": "+y.responseText)}s(null,w)}else 401!==y.status&&404!==y.status&&Fr("Got unsuccessful REST response for "+p+" Status: "+y.status),s(y.status);s=null}},y.open("GET",p,!0),y.send()})}}class dv{constructor(){this.rootNode_=Ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Kc(){return{value:null,children:new Map}}function eu(n,t,e){if(Ut(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Ht(t);n.children.has(s)||n.children.set(s,Kc()),eu(n.children.get(s),t=En(t),e)}}function xg(n,t){if(Ut(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Dn,(s,a)=>{eu(n,new un(s),a)}),xg(n,t)}}if(n.children.size>0){const e=Ht(t);return t=En(t),n.children.has(e)&&xg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function qh(n,t,e){null!==n.value?e(t,n.value):function Ew(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{qh(a,new un(t.toString()+"/"+s),e)})}class hv{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&sr(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class Yh{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new hv(t);const s=1e4+2e4*Math.random();Lh(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;sr(t,(a,d)=>{d>0&&(0,L.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),Lh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var jr=(()=>{return(n=jr||(jr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",jr;var n})();function Qc(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tu{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=jr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ut(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new un(t));return new tu(en(),e,this.revert)}}return(0,L.hu)(Ht(this.path)===t,"operationForChild called for unrelated child."),new tu(En(this.path),this.affectedTree,this.revert)}}class nu{constructor(t,e){this.source=t,this.path=e,this.type=jr.LISTEN_COMPLETE}operationForChild(t){return Ut(this.path)?new nu(this.source,en()):new nu(this.source,En(this.path))}}class Jo{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=jr.OVERWRITE}operationForChild(t){return Ut(this.path)?new Jo(this.source,en(),this.snap.getImmediateChild(t)):new Jo(this.source,En(this.path),this.snap)}}class Xo{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=jr.MERGE}operationForChild(t){if(Ut(this.path)){const e=this.children.subtree(new un(t));return e.isEmpty()?null:e.value?new Jo(this.source,en(),e.value):new Xo(this.source,en(),e)}return(0,L.hu)(Ht(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Xo(this.source,En(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ho{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ut(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ht(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class fv{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ru(n,t,e,s,a,d){const p=s.filter(y=>y.type===e);p.sort((y,w)=>function pv(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const s=new zt(t.childName,t.snapshotNode),a=new zt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,y,w)),p.forEach(y=>{const w=function bw(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,d);a.forEach(T=>{T.respondsTo(y.type)&&t.push(T.createEvent(w,n.query_))})})}function Jc(n,t){return{eventCache:n,serverCache:t}}function iu(n,t,e,s){return Jc(new ho(t,e,s),n.serverCache)}function gv(n,t,e,s){return Jc(n.eventCache,new ho(t,e,s))}function Qh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ka(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Ug;class _n{constructor(t,e=(()=>(Ug||(Ug=new Mr(Sy)),Ug))()){this.value=t,this.children=e}static fromObject(t){let e=new _n(null);return sr(t,(s,a)=>{e=e.set(new un(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:en(),value:this.value};if(Ut(t))return null;{const s=Ht(t),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(En(t),e);return null!=d?{path:tn(new un(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ut(t))return this;{const e=Ht(t),s=this.children.get(e);return null!==s?s.subtree(En(t)):new _n(null)}}set(t,e){if(Ut(t))return new _n(e,this.children);{const s=Ht(t),d=(this.children.get(s)||new _n(null)).set(En(t),e),p=this.children.insert(s,d);return new _n(this.value,p)}}remove(t){if(Ut(t))return this.children.isEmpty()?new _n(null):new _n(null,this.children);{const e=Ht(t),s=this.children.get(e);if(s){const a=s.remove(En(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new _n(null):new _n(this.value,d)}return this}}get(t){if(Ut(t))return this.value;{const e=Ht(t),s=this.children.get(e);return s?s.get(En(t)):null}}setTree(t,e){if(Ut(t))return e;{const s=Ht(t),d=(this.children.get(s)||new _n(null)).setTree(En(t),e);let p;return p=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new _n(this.value,p)}}fold(t){return this.fold_(en(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(tn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,en(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Ut(t))return null;{const d=Ht(t),p=this.children.get(d);return p?p.findOnPath_(En(t),tn(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,en(),e)}foreachOnPath_(t,e,s){if(Ut(t))return this;{this.value&&s(e,this.value);const a=Ht(t),d=this.children.get(a);return d?d.foreachOnPath_(En(t),tn(e,a),s):new _n(null)}}foreach(t){this.foreach_(en(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(tn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Di{constructor(t){this.writeTree_=t}static empty(){return new Di(new _n(null))}}function su(n,t,e){if(Ut(t))return new Di(new _n(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let d=s.value;const p=Hr(a,t);return d=d.updateChild(p,e),new Di(n.writeTree_.set(a,d))}{const a=new _n(e),d=n.writeTree_.setTree(t,a);return new Di(d)}}}function Jh(n,t,e){let s=n;return sr(e,(a,d)=>{s=su(s,tn(t,a),d)}),s}function Bg(n,t){if(Ut(t))return Di.empty();{const e=n.writeTree_.setTree(t,new _n(null));return new Di(e)}}function Xh(n,t){return null!=ea(n,t)}function ea(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Hr(e.path,t)):null}function Hg(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Dn,(s,a)=>{t.push(new zt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new zt(s,a.value))}),t}function fo(n,t){if(Ut(t))return n;{const e=ea(n,t);return new Di(null!=e?new _n(e):n.writeTree_.subtree(t))}}function mv(n){return n.writeTree_.isEmpty()}function ou(n,t){return _v(en(),n.writeTree_,t)}function _v(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,L.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=_v(tn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(tn(n,".priority"),s)),e}}function Xc(n,t){return Ti(t,n)}function Tw(n,t){if(n.snap)return di(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&di(tn(n.path,e),t))return!0;return!1}function Aw(n){return n.visible}function jg(n,t,e){let s=Di.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const p=d.path;let y;if(d.snap)di(e,p)?(y=Hr(e,p),s=su(s,y,d.snap)):di(p,e)&&(y=Hr(p,e),s=su(s,en(),d.snap.getChild(y)));else{if(!d.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(di(e,p))y=Hr(e,p),s=Jh(s,y,d.children);else if(di(p,e))if(y=Hr(p,e),Ut(y))s=Jh(s,en(),d.children);else{const w=(0,L.DV)(d.children,Ht(y));if(w){const T=w.getChild(En(y));s=su(s,en(),T)}}}}}return s}function $g(n,t,e,s,a){if(s||a){const d=fo(n.visibleWrites,t);return!a&&mv(d)?e:a||null!=e||Xh(d,en())?ou(jg(n.allWrites,function(T){return(T.visible||a)&&(!s||!~s.indexOf(T.writeId))&&(di(T.path,t)||di(t,T.path))},t),e||Ot.EMPTY_NODE):null}{const d=ea(n.visibleWrites,t);if(null!=d)return d;{const p=fo(n.visibleWrites,t);return mv(p)?e:null!=e||Xh(p,en())?ou(p,e||Ot.EMPTY_NODE):null}}}function Wg(n,t,e,s){return $g(n.writeTree,n.treePath,t,e,s)}function ef(n,t){return function au(n,t,e){let s=Ot.EMPTY_NODE;const a=ea(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Dn,(d,p)=>{s=s.updateImmediateChild(d,p)}),s;if(e){const d=fo(n.visibleWrites,t);return e.forEachChild(Dn,(p,y)=>{const w=ou(fo(d,new un(p)),y);s=s.updateImmediateChild(p,w)}),Hg(d).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}return Hg(fo(n.visibleWrites,t)).forEach(p=>{s=s.updateImmediateChild(p.name,p.node)}),s}(n.writeTree,n.treePath,t)}function tf(n,t,e,s){return function Sw(n,t,e,s,a){(0,L.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=tn(t,e);if(Xh(n.visibleWrites,d))return null;{const p=fo(n.visibleWrites,d);return mv(p)?a.getChild(e):ou(p,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function hi(n,t){return function Cv(n,t){return ea(n.visibleWrites,t)}(n.writeTree,tn(n.treePath,t))}function Gg(n,t,e){return function Mw(n,t,e,s){const a=tn(t,e),d=ea(n.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?ou(fo(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Qi(n,t){return Ti(tn(n.treePath,t),n.writeTree)}function Ti(n,t){return{treePath:n,writeTree:t}}class Ji{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,qa(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,Lr(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,uo(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,qa(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const zg=new class wv{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Zg{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new ho(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gg(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ka(this.viewCache_),d=function Pw(n,t,e,s,a,d){return function Rw(n,t,e,s,a,d,p){let y;const w=fo(n.visibleWrites,t),T=ea(w,en());if(null!=T)y=T;else{if(null==e)return[];y=ou(w,e)}if(y=y.withIndex(p),y.isEmpty()||y.isLeafNode())return[];{const H=[],V=p.getCompare(),Q=d?y.getReverseIteratorFrom(s,p):y.getIteratorFrom(s,p);let he=Q.getNext();for(;he&&H.length<a;)0!==V(he,s)&&H.push(he),he=Q.getNext();return H}}(n.writeTree,n.treePath,t,e,s,a,d)}(this.writes_,a,e,1,s,t);return 0===d.length?null:d[0]}}function lu(n,t,e,s,a,d){const p=t.eventCache;if(null!=hi(s,e))return t;{let y,w;if(Ut(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const T=Ka(t),V=ef(s,T instanceof Ot?T:Ot.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),V,d)}else{const T=Wg(s,Ka(t));y=n.filter.updateFullNode(t.eventCache.getNode(),T,d)}else{const T=Ht(e);if(".priority"===T){(0,L.hu)(1===so(e),"Can't have a priority with additional path components");const H=p.getNode();w=t.serverCache.getNode();const V=tf(s,e,H,w);y=null!=V?n.filter.updatePriority(H,V):p.getNode()}else{const H=En(e);let V;if(p.isCompleteForChild(T)){w=t.serverCache.getNode();const Q=tf(s,e,p.getNode(),w);V=null!=Q?p.getNode().getImmediateChild(T).updateChild(H,Q):p.getNode().getImmediateChild(T)}else V=Gg(s,T,t.serverCache);y=null!=V?n.filter.updateChild(p.getNode(),T,V,H,a,d):p.getNode()}}return iu(t,y,p.isFullyInitialized()||Ut(e),n.filter.filtersNodes())}}function nf(n,t,e,s,a,d,p,y){const w=t.serverCache;let T;const H=p?n.filter:n.filter.getIndexedFilter();if(Ut(e))T=H.updateFullNode(w.getNode(),s,null);else if(H.filtersNodes()&&!w.isFiltered()){const he=w.getNode().updateChild(e,s);T=H.updateFullNode(w.getNode(),he,null)}else{const he=Ht(e);if(!w.isCompleteForPath(e)&&so(e)>1)return t;const Ne=En(e),Dt=w.getNode().getImmediateChild(he).updateChild(Ne,s);T=".priority"===he?H.updatePriority(w.getNode(),Dt):H.updateChild(w.getNode(),he,Dt,Ne,zg,null)}const V=gv(t,T,w.isFullyInitialized()||Ut(e),H.filtersNodes());return lu(n,V,e,a,new Zg(a,V,d),y)}function rf(n,t,e,s,a,d,p){const y=t.eventCache;let w,T;const H=new Zg(a,t,d);if(Ut(e))T=n.filter.updateFullNode(t.eventCache.getNode(),s,p),w=iu(t,T,!0,n.filter.filtersNodes());else{const V=Ht(e);if(".priority"===V)T=n.filter.updatePriority(t.eventCache.getNode(),s),w=iu(t,T,y.isFullyInitialized(),y.isFiltered());else{const Q=En(e),he=y.getNode().getImmediateChild(V);let Ne;if(Ut(Q))Ne=s;else{const dt=H.getCompleteChild(V);Ne=null!=dt?".priority"===Ig(Q)&&dt.getChild(Xy(Q)).isEmpty()?dt:dt.updateChild(Q,s):Ot.EMPTY_NODE}w=he.equals(Ne)?t:iu(t,n.filter.updateChild(y.getNode(),V,Ne,Q,H,p),y.isFullyInitialized(),n.filter.filtersNodes())}}return w}function bv(n,t){return n.eventCache.isCompleteForChild(t)}function Kg(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function uu(n,t,e,s,a,d,p,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let T,w=t;T=Ut(e)?s:new _n(null).setTree(e,s);const H=t.serverCache.getNode();return T.children.inorderTraversal((V,Q)=>{if(H.hasChild(V)){const Ne=Kg(0,t.serverCache.getNode().getImmediateChild(V),Q);w=nf(n,w,new un(V),Ne,a,d,p,y)}}),T.children.inorderTraversal((V,Q)=>{const he=!t.serverCache.isCompleteForChild(V)&&null===Q.value;if(!H.hasChild(V)&&!he){const dt=Kg(0,t.serverCache.getNode().getImmediateChild(V),Q);w=nf(n,w,new un(V),dt,a,d,p,y)}}),w}class Yg{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new Yo(s.getIndex()),d=function Ql(n){return n.loadsAllData()?new Yo(n.getIndex()):n.hasLimit()?new Yl(n):new Ds(n)}(s);this.processor_=function Nw(n){return{filter:n}}(d);const p=e.serverCache,y=e.eventCache,w=a.updateFullNode(Ot.EMPTY_NODE,p.getNode(),null),T=d.updateFullNode(Ot.EMPTY_NODE,y.getNode(),null),H=new ho(w,p.isFullyInitialized(),a.filtersNodes()),V=new ho(T,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=Jc(V,H),this.eventGenerator_=new fv(this.query_)}get query(){return this.query_}}function Sv(n,t){const e=Ka(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ut(t)&&!e.getImmediateChild(Ht(t)).isEmpty())?e.getChild(t):null}function Qg(n){return 0===n.eventRegistrations_.length}function Jg(n,t,e){const s=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,a);p&&s.push(p)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const p=n.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(p)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function Xg(n,t,e,s){t.type===jr.MERGE&&null!==t.source.queryId&&((0,L.hu)(Ka(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(Qh(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function xw(n,t,e,s,a){const d=new Ji;let p,y;if(e.type===jr.OVERWRITE){const T=e;T.source.fromUser?p=rf(n,t,T.path,T.snap,s,a,d):((0,L.hu)(T.source.fromServer,"Unknown source."),y=T.source.tagged||t.serverCache.isFiltered()&&!Ut(T.path),p=nf(n,t,T.path,T.snap,s,a,y,d))}else if(e.type===jr.MERGE){const T=e;T.source.fromUser?p=function Iv(n,t,e,s,a,d,p){let y=t;return s.foreach((w,T)=>{const H=tn(e,w);bv(t,Ht(H))&&(y=rf(n,y,H,T,a,d,p))}),s.foreach((w,T)=>{const H=tn(e,w);bv(t,Ht(H))||(y=rf(n,y,H,T,a,d,p))}),y}(n,t,T.path,T.children,s,a,d):((0,L.hu)(T.source.fromServer,"Unknown source."),y=T.source.tagged||t.serverCache.isFiltered(),p=uu(n,t,T.path,T.children,s,a,y,d))}else if(e.type===jr.ACK_USER_WRITE){const T=e;p=T.revert?function Tv(n,t,e,s,a,d){let p;if(null!=hi(s,e))return t;{const y=new Zg(s,t,a),w=t.eventCache.getNode();let T;if(Ut(e)||".priority"===Ht(e)){let H;if(t.serverCache.isFullyInitialized())H=Wg(s,Ka(t));else{const V=t.serverCache.getNode();(0,L.hu)(V instanceof Ot,"serverChildren would be complete if leaf node"),H=ef(s,V)}T=n.filter.updateFullNode(w,H,d)}else{const H=Ht(e);let V=Gg(s,H,t.serverCache);null==V&&t.serverCache.isCompleteForChild(H)&&(V=w.getImmediateChild(H)),T=null!=V?n.filter.updateChild(w,H,V,En(e),y,d):t.eventCache.getNode().hasChild(H)?n.filter.updateChild(w,H,Ot.EMPTY_NODE,En(e),y,d):w,T.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=Wg(s,Ka(t)),p.isLeafNode()&&(T=n.filter.updateFullNode(T,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=hi(s,en()),iu(t,T,p,n.filter.filtersNodes())}}(n,t,T.path,s,a,d):function kw(n,t,e,s,a,d,p){if(null!=hi(a,e))return t;const y=t.serverCache.isFiltered(),w=t.serverCache;if(null!=s.value){if(Ut(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return nf(n,t,e,w.getNode().getChild(e),a,d,y,p);if(Ut(e)){let T=new _n(null);return w.getNode().forEachChild(Yi,(H,V)=>{T=T.set(new un(H),V)}),uu(n,t,e,T,a,d,y,p)}return t}{let T=new _n(null);return s.foreach((H,V)=>{const Q=tn(e,H);w.isCompleteForPath(Q)&&(T=T.set(H,w.getNode().getChild(Q)))}),uu(n,t,e,T,a,d,y,p)}}(n,t,T.path,T.affectedTree,s,a,d)}else{if(e.type!==jr.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);p=function Dv(n,t,e,s,a){const d=t.serverCache;return lu(n,gv(t,d.getNode(),d.isFullyInitialized()||Ut(e),d.isFiltered()),e,s,zg,a)}(n,t,e.path,s,d)}const w=d.getChanges();return function qg(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=Qh(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(Ko(Qh(t)))}}(t,p,w),{viewCache:p,changes:w}}(n.processor_,a,t,e,s);return function Ow(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,L.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,em(n,d.changes,d.viewCache.eventCache.getNode(),null)}function em(n,t,e,s){return function Lg(n,t,e,s){const a=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function Kl(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),ru(n,a,"child_removed",t,s,e),ru(n,a,"child_added",t,s,e),ru(n,a,"child_moved",d,s,e),ru(n,a,"child_changed",t,s,e),ru(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let af,uf;class Pv{constructor(){this.views=new Map}}function tm(n,t,e,s){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,L.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Xg(d,t,e,s)}{let d=[];for(const p of n.views.values())d=d.concat(Xg(p,t,e,s));return d}}function Nv(n,t,e,s,a){const p=n.views.get(t._queryIdentifier);if(!p){let y=Wg(e,a?s:null),w=!1;y?w=!0:s instanceof Ot?(y=ef(e,s),w=!1):(y=Ot.EMPTY_NODE,w=!1);const T=Jc(new ho(y,w,!1),new ho(s,a,!1));return new Yg(t,T)}return p}function Ov(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ta(n,t){let e=null;for(const s of n.views.values())e=e||Sv(s,t);return e}function xv(n,t){return t._queryParams.loadsAllData()?lf(n):n.views.get(t._queryIdentifier)}function kv(n,t){return null!=xv(n,t)}function na(n){return null!=lf(n)}function lf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Fv=1;class nm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _n(null),this.pendingWriteTree_=function Ev(){return{visibleWrites:Di.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cf(n,t,e,s,a){return function Iw(n,t,e,s,a){(0,L.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=su(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?td(n,new Jo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function po(n,t,e=!1){const s=function yv(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function Dw(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,d=!1,p=n.allWrites.length-1;for(;a&&p>=0;){const y=n.allWrites[p];y.visible&&(p>=e&&Tw(y,s.path)?a=!1:di(s.path,y.path)&&(d=!0)),p--}return!!a&&(d?(function vv(n){n.visibleWrites=jg(n.allWrites,Aw,en()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Bg(n.visibleWrites,s.path):sr(s.children,w=>{n.visibleWrites=Bg(n.visibleWrites,tn(s.path,w))}),!0))}(n.pendingWriteTree_,t)){let d=new _n(null);return null!=s.snap?d=d.set(en(),!0):sr(s.children,p=>{d=d.set(new un(p),!0)}),td(n,new tu(s.path,d,e))}return[]}function cu(n,t,e){return td(n,new Jo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ed(n,t,e,s,a=!1){const d=t._path,p=n.syncPointTree_.get(d);let y=[];if(p&&("default"===t._queryIdentifier||kv(p,t))){const w=function Bw(n,t,e,s){const a=t._queryIdentifier,d=[];let p=[];const y=na(n);if("default"===a)for(const[w,T]of n.views.entries())p=p.concat(Jg(T,e,s)),Qg(T)&&(n.views.delete(w),T.query._queryParams.loadsAllData()||d.push(T.query));else{const w=n.views.get(a);w&&(p=p.concat(Jg(w,e,s)),Qg(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||d.push(w.query)))}return y&&!na(n)&&d.push(new(function Lw(){return(0,L.hu)(af,"Reference.ts has not been loaded"),af}())(t._repo,t._path)),{removed:d,events:p}}(p,t,e,s);(function Uw(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const T=w.removed;if(y=w.events,!a){const H=-1!==T.findIndex(Q=>Q._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(d,(Q,he)=>na(he));if(H&&!V){const Q=n.syncPointTree_.subtree(d);if(!Q.isEmpty()){const he=function Ww(n){return n.fold((t,e,s)=>{if(e&&na(e))return[lf(e)];{let a=[];return e&&(a=Ov(e)),sr(s,(d,p)=>{a=a.concat(p)}),a}})}(Q);for(let Ne=0;Ne<he.length;++Ne){const dt=he[Ne],Dt=dt.query,jt=sm(n,dt);n.listenProvider_.startListening(Ts(Dt),hu(n,Dt),jt.hashFn,jt.onComplete)}}}!V&&T.length>0&&!s&&(H?n.listenProvider_.stopListening(Ts(t),null):T.forEach(Q=>{const he=n.queryToTagMap.get(om(Q));n.listenProvider_.stopListening(Ts(Q),he)}))}!function Gw(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=om(s),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,T)}return y}function rm(n,t,e,s){const a=_t(n,s);if(null!=a){const d=am(a),p=d.path,y=d.queryId,w=Hr(p,t);return lm(n,p,new Jo(Qc(y),w,e))}return[]}function im(n,t,e,s=!1){const a=t._path;let d=null,p=!1;n.syncPointTree_.foreachOnPath(a,(Q,he)=>{const Ne=Hr(Q,a);d=d||ta(he,Ne),p=p||na(he)});let w,y=n.syncPointTree_.get(a);y?(p=p||na(y),d=d||ta(y,en())):(y=new Pv,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=d?w=!0:(w=!1,d=Ot.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((he,Ne)=>{const dt=ta(Ne,en());dt&&(d=d.updateImmediateChild(he,dt))}));const T=kv(y,t);if(!T&&!t._queryParams.loadsAllData()){const Q=om(t);(0,L.hu)(!n.queryToTagMap.has(Q),"View does not exist, but we have a tag");const he=function ff(){return Fv++}();n.queryToTagMap.set(Q,he),n.tagToQueryMap.set(he,Q)}let V=function Vw(n,t,e,s,a,d){const p=Nv(n,t,s,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function Mv(n,t){n.eventRegistrations_.push(t)}(p,e),function Rv(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Dn,(d,p)=>{s.push(uo(d,p))}),e.isFullyInitialized()&&s.push(Ko(e.getNode())),em(n,s,e.getNode(),t)}(p,e)}(y,t,e,Xc(n.pendingWriteTree_,a),d,w);if(!T&&!p&&!s){const Q=xv(y,t);V=V.concat(function pf(n,t,e){const s=t._path,a=hu(n,t),d=sm(n,e),p=n.listenProvider_.startListening(Ts(t),a,d.hashFn,d.onComplete),y=n.syncPointTree_.subtree(s);if(a)(0,L.hu)(!na(y.value),"If we're adding a query, it shouldn't be shadowed");else{const w=y.fold((T,H,V)=>{if(!Ut(T)&&H&&na(H))return[lf(H).query];{let Q=[];return H&&(Q=Q.concat(Ov(H).map(he=>he.query))),sr(V,(he,Ne)=>{Q=Q.concat(Ne)}),Q}});for(let T=0;T<w.length;++T){const H=w[T];n.listenProvider_.stopListening(Ts(H),hu(n,H))}}return p}(n,t,Q))}return V}function df(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(p,y)=>{const T=ta(y,Hr(p,t));if(T)return T});return $g(a,t,d,e,!0)}function td(n,t){return hf(t,n.syncPointTree_,null,Xc(n.pendingWriteTree_,en()))}function hf(n,t,e,s){if(Ut(n.path))return $w(n,t,e,s);{const a=t.get(en());null==e&&null!=a&&(e=ta(a,en()));let d=[];const p=Ht(n.path),y=n.operationForChild(p),w=t.children.get(p);if(w&&y){const T=e?e.getImmediateChild(p):null,H=Qi(s,p);d=d.concat(hf(y,w,T,H))}return a&&(d=d.concat(tm(a,n,s,e))),d}}function $w(n,t,e,s){const a=t.get(en());null==e&&null!=a&&(e=ta(a,en()));let d=[];return t.children.inorderTraversal((p,y)=>{const w=e?e.getImmediateChild(p):null,T=Qi(s,p),H=n.operationForChild(p);H&&(d=d.concat($w(H,y,w,T)))}),a&&(d=d.concat(tm(a,n,s,e))),d}function sm(n,t){const e=t.query,s=hu(n,e);return{hashFn:()=>(function sf(n){return n.viewCache_.serverCache.getNode()}(t)||Ot.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function Bv(n,t,e){const s=_t(n,e);if(s){const a=am(s),d=a.path,p=a.queryId,y=Hr(d,t);return lm(n,d,new nu(Qc(p),y))}return[]}(n,e._path,s):function Vv(n,t){return td(n,new nu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function My(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return ed(n,e,null,d)}}}}function hu(n,t){const e=om(t);return n.queryToTagMap.get(e)}function om(n){return n._path.toString()+"$"+n._queryIdentifier}function _t(n,t){return n.tagToQueryMap.get(t)}function am(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new un(n.substr(0,t))}}function lm(n,t,e){const s=n.syncPointTree_.get(t);return(0,L.hu)(s,"Missing sync point for query tag that we're tracking"),tm(s,e,Xc(n.pendingWriteTree_,t),null)}function Ts(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function jw(){return(0,L.hu)(uf,"Reference.ts has not been loaded"),uf}())(n._repo,n._path):n}class Vn{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Vn(e)}node(){return this.node_}}class Hv{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=tn(this.path_,t);return new Hv(this.syncTree_,e)}node(){return df(this.syncTree_,this.path_)}}const um=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?zw(n[".sv"],t,e):"object"==typeof n[".sv"]?$v(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},zw=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},$v=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,L.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,L.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const p=a.getValue();return"number"!=typeof p?s:p+s},cm=function(n,t,e,s){return mf(t,new Hv(e,n),s)},gf=function(n,t,e){return mf(n,new Vn(t),e)};function mf(n,t,e){const s=n.getPriority().val(),a=um(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const p=n,y=um(p.getValue(),t,e);return y!==p.getValue()||a!==p.getPriority().val()?new Gl(y,Tn(a)):n}{const p=n;return d=p,a!==p.getPriority().val()&&(d=d.updatePriority(new Gl(a))),p.forEachChild(Dn,(y,w)=>{const T=mf(w,t.getImmediateChild(y),e);T!==w&&(d=d.updateImmediateChild(y,T))}),d}}class dm{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function _f(n,t){let e=t instanceof un?t:new un(t),s=n,a=Ht(e);for(;null!==a;){const d=(0,L.DV)(s.node.children,a)||{children:{},childCount:0};s=new dm(a,s,d),e=En(e),a=Ht(e)}return s}function Qa(n){return n.node.value}function Ja(n,t){n.node.value=t,vf(n)}function Wv(n){return n.node.childCount>0}function yf(n,t){sr(n.node.children,(e,s)=>{t(new dm(e,n,s))})}function nd(n,t,e,s){e&&!s&&t(n),yf(n,a=>{nd(a,t,!0,s)}),e&&s&&t(n)}function fu(n){return new un(null===n.parent?n.name:fu(n.parent)+"/"+n.name)}function vf(n){null!==n.parent&&function qw(n,t,e){const s=function Zw(n){return void 0===Qa(n)&&!Wv(n)}(e),a=(0,L.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,vf(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,vf(n))}(n.parent,n.name,n)}const rd=/[\[\].#$\/\u0000-\u001F\u007F]/,id=/[\[\].#$\u0000-\u001F\u007F]/,hm=10485760,Cf=function(n){return"string"==typeof n&&0!==n.length&&!rd.test(n)},zv=function(n){return"string"==typeof n&&0!==n.length&&!id.test(n)},pu=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!io(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Xi=function(n,t,e,s){s&&void 0===t||sd((0,L.gK)(n,"value"),t,e)},sd=function(n,t,e){const s=e instanceof un?new dw(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+za(s));if("function"==typeof t)throw new Error(n+"contains a function "+za(s)+" with contents = "+t.toString());if(io(t))throw new Error(n+"contains "+t.toString()+" "+za(s));if("string"==typeof t&&t.length>hm/3&&(0,L.ug)(t)>hm)throw new Error(n+"contains a string greater than "+hm+" utf8 bytes "+za(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(sr(t,(p,y)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!Cf(p)))throw new Error(n+" contains an invalid key ("+p+") "+za(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function hw(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),Wh(n)})(s,p),sd(n,y,s),function fw(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&d)throw new Error(n+' contains ".value" child '+za(s)+" in addition to actual children.")}},Kv=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];sr(t,(p,y)=>{const w=new un(p);if(sd(a,y,tn(e,w)),".priority"===Ig(w)&&!pu(y))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(w)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=jl(s);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!Cf(d[p]))throw new Error(n+"contains an invalid key ("+d[p]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(cw);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&di(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},fm=function(n,t,e){if(!e||void 0!==t){if(io(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pu(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ef=function(n,t,e,s){if(!(s&&void 0===e||Cf(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wf=function(n,t,e,s){if(!(s&&void 0===e||zv(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},es=function(n,t){if(".info"===Ht(t))throw new Error(n+" failed = Can't modify data under /.info/")},pm=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Cf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zv(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function If(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],d=a.getPath();null!==e&&!ev(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function Yv(n,t,e){If(n,e),gu(n,s=>ev(s,t))}function qr(n,t,e){If(n,e),gu(n,s=>di(s,t)||di(t,s))}function gu(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(Kw(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Kw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();$o&&pr("event: "+e.toString()),Wo(s)}}}const Qv="repo_interrupt";class Qw{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kc(),this.transactionQueueTree_=new dm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gm(n){const e=n.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function od(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:gm(n)})}function Jv(n,t,e,s,a){n.dataUpdateCount++;const d=new un(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(a)if(s){const w=(0,L.UI)(e,T=>Tn(T));p=function Ya(n,t,e,s){const a=_t(n,s);if(a){const d=am(a),p=d.path,y=d.queryId,w=Hr(p,t),T=_n.fromObject(e);return lm(n,p,new Xo(Qc(y),w,T))}return[]}(n.serverSyncTree_,d,w,a)}else{const w=Tn(e);p=rm(n.serverSyncTree_,d,w,a)}else if(s){const w=(0,L.UI)(e,T=>Tn(T));p=function Uv(n,t,e){const s=_n.fromObject(e);return td(n,new Xo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,w)}else{const w=Tn(e);p=cu(n.serverSyncTree_,d,w)}let y=d;p.length>0&&(y=_u(n,d)),qr(n.eventQueue_,y,p)}function Xa(n,t){Df(n,"connected",t),!1===t&&function eb(n){mu(n,"onDisconnectEvents");const t=od(n),e=Kc();qh(n.onDisconnect_,en(),(a,d)=>{const p=cm(a,d,n.serverSyncTree_,t);eu(e,a,p)});let s=[];qh(e,en(),(a,d)=>{s=s.concat(cu(n.serverSyncTree_,a,d));const p=wm(n,a);_u(n,p)}),n.onDisconnect_=Kc(),qr(n.eventQueue_,en(),s)}(n)}function Df(n,t,e){const s=new un("/.info/"+t),a=Tn(e);n.infoData_.updateSnapshot(s,a);const d=cu(n.infoSyncTree_,s,a);qr(n.eventQueue_,s,d)}function Tf(n){return n.nextWriteId_++}function mm(n,t,e,s,a){mu(n,"set",{path:t.toString(),value:e,priority:s});const d=od(n),p=Tn(e,s),y=df(n.serverSyncTree_,t),w=gf(p,y,d),T=Tf(n),H=cf(n.serverSyncTree_,t,w,T,!0);If(n.eventQueue_,H),n.server_.put(t.toString(),p.val(!0),(Q,he)=>{const Ne="ok"===Q;Ne||Fr("set at "+t+" failed: "+Q);const dt=po(n.serverSyncTree_,T,!Ne);qr(n.eventQueue_,t,dt),go(0,a,Q,he)});const V=wm(n,t);_u(n,V),qr(n.eventQueue_,V,[])}function _m(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&xg(n.onDisconnect_,t),go(0,e,s,a)})}function t0(n,t,e,s){const a=Tn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,p)=>{"ok"===d&&eu(n.onDisconnect_,t,a),go(0,s,d,p)})}function ym(n,t,e){let s;s=".info"===Ht(t._path)?ed(n.infoSyncTree_,t,e):ed(n.serverSyncTree_,t,e),Yv(n.eventQueue_,t._path,s)}function s0(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Qv)}function mu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),pr(e,...t)}function go(n,t,e,s){t&&Wo(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const p=new Error(d);p.code=a,t(p)}})}function Cm(n,t,e){return df(n.serverSyncTree_,t,e)||Ot.EMPTY_NODE}function Af(n,t=n.transactionQueueTree_){if(t||ad(n,t),Qa(t)){const e=a0(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function rb(n,t,e){const s=e.map(T=>T.currentWriteId),a=Cm(n,t,s);let d=a;const p=a.hash();for(let T=0;T<e.length;T++){const H=e[T];(0,L.hu)(0===H.status,"tryToSendTransactionQueue_: items in queue should all be run."),H.status=1,H.retryCount++;const V=Hr(t,H.path);d=d.updateChild(V,H.currentOutputSnapshotRaw)}const y=d.val(!0),w=t;n.server_.put(w.toString(),y,T=>{mu(n,"transaction put response",{path:w.toString(),status:T});let H=[];if("ok"===T){const V=[];for(let Q=0;Q<e.length;Q++)e[Q].status=2,H=H.concat(po(n.serverSyncTree_,e[Q].currentWriteId)),e[Q].onComplete&&V.push(()=>e[Q].onComplete(null,!0,e[Q].currentOutputSnapshotResolved)),e[Q].unwatcher();ad(n,_f(n.transactionQueueTree_,t)),Af(n,n.transactionQueueTree_),qr(n.eventQueue_,t,H);for(let Q=0;Q<V.length;Q++)Wo(V[Q])}else{if("datastale"===T)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{Fr("transaction at "+w.toString()+" failed: "+T);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=T}_u(n,t)}},p)}(n,fu(t),e)}else Wv(t)&&yf(t,e=>{Af(n,e)})}function _u(n,t){const e=o0(n,t),s=fu(e);return function ib(n,t,e){if(0===t.length)return;const s=[];let a=[];const p=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const w=t[y],T=Hr(e,w.path);let V,H=!1;if((0,L.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)H=!0,V=w.abortReason,a=a.concat(po(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)H=!0,V="maxretry",a=a.concat(po(n.serverSyncTree_,w.currentWriteId,!0));else{const Q=Cm(n,w.path,p);w.currentInputSnapshot=Q;const he=t[y].update(Q.val());if(void 0!==he){sd("transaction failed: Data returned ",he,w.path);let Ne=Tn(he);"object"==typeof he&&null!=he&&(0,L.r3)(he,".priority")||(Ne=Ne.updatePriority(Q.getPriority()));const Dt=w.currentWriteId,jt=od(n),cn=gf(Ne,Q,jt);w.currentOutputSnapshotRaw=Ne,w.currentOutputSnapshotResolved=cn,w.currentWriteId=Tf(n),p.splice(p.indexOf(Dt),1),a=a.concat(cf(n.serverSyncTree_,w.path,cn,w.currentWriteId,w.applyLocally)),a=a.concat(po(n.serverSyncTree_,Dt,!0))}else H=!0,V="nodata",a=a.concat(po(n.serverSyncTree_,w.currentWriteId,!0))}qr(n.eventQueue_,e,a),a=[],H&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&s.push("nodata"===V?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(V),!1,null)))}ad(n,n.transactionQueueTree_);for(let y=0;y<s.length;y++)Wo(s[y]);Af(n,n.transactionQueueTree_)}(n,a0(n,e),s),s}function o0(n,t){let e,s=n.transactionQueueTree_;for(e=Ht(t);null!==e&&void 0===Qa(s);)s=_f(s,e),e=Ht(t=En(t));return s}function a0(n,t){const e=[];return Em(n,t,e),e.sort((s,a)=>s.order-a.order),e}function Em(n,t,e){const s=Qa(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);yf(t,a=>{Em(n,a,e)})}function ad(n,t){const e=Qa(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,Ja(t,e.length>0?e:void 0)}yf(t,s=>{ad(n,s)})}function wm(n,t){const e=fu(o0(n,t)),s=_f(n.transactionQueueTree_,t);return function Gv(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{bm(n,a)}),bm(n,s),nd(s,a=>{bm(n,a)}),e}function bm(n,t){const e=Qa(t);if(e){const s=[];let a=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,L.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,L.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(po(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&s.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Ja(t,void 0):e.length=d+1,qr(n.eventQueue_,fu(t),a);for(let p=0;p<s.length;p++)Wo(s[p])}}const Im=function(n,t){const e=ob(n),s=e.namespace;return"firebase.com"===e.domain&&Ii(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ny(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new un(e.pathString)}},ob=function(n){let t="",e="",s="",a="",d="",p=!0,y="https",w=443;if("string"==typeof n){let T=n.indexOf("//");T>=0&&(y=n.substring(0,T-1),n=n.substring(T+2));let H=n.indexOf("/");-1===H&&(H=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(H,V)),H<V&&(a=function l0(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(H,V)));const Q=function sb(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Fr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));T=t.indexOf(":"),T>=0?(p="https"===y||"wss"===y,w=parseInt(t.substring(T+1),10)):T=t.length;const he=t.slice(0,T);if("localhost"===he.toLowerCase())e="localhost";else if(he.split(".").length<=2)e=he;else{const Ne=t.indexOf(".");s=t.substring(0,Ne).toLowerCase(),e=t.substring(Ne+1),d=s}"ns"in Q&&(d=Q.ns)}return{host:t,port:w,domain:e,subdomain:s,secure:p,scheme:y,pathString:a,namespace:d}};class Sf{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class Mf{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Rf{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Pf{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return _m(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){es("OnDisconnect.remove",this._path);const t=new L.BH;return t0(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){es("OnDisconnect.set",this._path),Xi("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return t0(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){es("OnDisconnect.setWithPriority",this._path),Xi("OnDisconnect.setWithPriority",t,this._path,!1),fm("OnDisconnect.setWithPriority",e,!1);const s=new L.BH;return function n0(n,t,e,s,a){const d=Tn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(p,y)=>{"ok"===p&&eu(n.onDisconnect_,t,d),go(0,a,p,y)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){es("OnDisconnect.update",this._path),Kv("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function r0(n,t,e,s){if((0,L.xb)(e))return pr("onDisconnect().update() called with empty data.  Don't do anything."),void go(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&sr(e,(p,y)=>{const w=Tn(y);eu(n.onDisconnect_,tn(t,p),w)}),go(0,s,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Kr{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Ut(this._path)?null:Ig(this._path)}get ref(){return new fi(this._repo,this._path)}get _queryIdentifier(){const t=Og(this._queryParams),e=xc(t);return"{}"===e?"default":e}get _queryObject(){return Og(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof Kr))return!1;const e=this._repo===t._repo,s=ev(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Jy(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Nf(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function As(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Yi){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ws)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ui)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===Dn){if(null!=t&&!pu(t)||null!=e&&!pu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof lo||n.getIndex()===Za,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Of(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fi extends Kr{constructor(t,e){super(t,e,new co,!1)}get parent(){const t=Xy(this._path);return null===t?null:new fi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ai{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new un(t),s=yu(this.ref,t);return new Ai(this._node.getChild(e),s,Dn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new Ai(a,yu(this.ref,s),Dn)))}hasChild(t){const e=new un(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dm(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?yu(n._root,t):n._root}function u0(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=Im(t,n._repo.repoInfo_.nodeAdmin);pm("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Ii("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),Dm(n,e.path.toString())}function yu(n,t){return null===Ht((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wf("child","path",e,!1)):wf("child","path",t,!1),new fi(n._repo,tn(n._path,t));var e}function ld(n,t){n=(0,L.m9)(n),es("set",n._path),Xi("set",t,n._path,!1);const e=new L.BH;return mm(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Am(n,t){Kv("update",t,n._path,!1);const e=new L.BH;return function e0(n,t,e,s){mu(n,"update",{path:t.toString(),value:e});let a=!0;const d=od(n),p={};if(sr(e,(y,w)=>{a=!1,p[y]=cm(tn(t,y),Tn(w),n.serverSyncTree_,d)}),a)pr("update() called with empty data.  Don't do anything."),go(0,s,"ok",void 0);else{const y=Tf(n),w=function Lv(n,t,e,s){!function mr(n,t,e,s){(0,L.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Jh(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=_n.fromObject(e);return td(n,new Xo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,p,y);If(n.eventQueue_,w),n.server_.merge(t.toString(),e,(T,H)=>{const V="ok"===T;V||Fr("update at "+t+" failed: "+T);const Q=po(n.serverSyncTree_,y,!V),he=Q.length>0?_u(n,t):t;qr(n.eventQueue_,he,Q),go(0,s,T,H)}),sr(e,T=>{const H=wm(n,tn(t,T));_u(n,H)}),qr(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function d0(n){n=(0,L.m9)(n);const t=new Rf(()=>{}),e=new vu(t);return function Xv(n,t,e){const s=function du(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(T,H)=>{const V=Hr(T,e);s=s||ta(H,V)});let a=n.syncPointTree_.get(e);a?s=s||ta(a,en()):(a=new Pv,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=s,p=d?new ho(s,!0,!1):null;return function Av(n){return Qh(n.viewCache_)}(Nv(a,t,Xc(n.pendingWriteTree_,t._path),d?p.getNode():Ot.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=s?Promise.resolve(s):n.server_.get(t).then(a=>{const d=Tn(a).withIndex(t._queryParams.getIndex());let p;if(im(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())p=cu(n.serverSyncTree_,t._path,d);else{const y=hu(n.serverSyncTree_,t);p=rm(n.serverSyncTree_,t._path,d,y)}return qr(n.eventQueue_,t._path,p),ed(n.serverSyncTree_,t,e,null,!0),d},a=>(mu(n,"get for query "+(0,L.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(s=>new Ai(s,new fi(n._repo,n._path),n._queryParams.getIndex()))}class vu{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new Sf("value",this,new Ai(t.snapshotNode,new fi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Mf(this,t,e):null}matches(t){return t instanceof vu&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ud{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Mf(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const s=yu(new fi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Sf(t.type,this,new Ai(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ud&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cu(n,t,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const w=e,T=(H,V)=>{ym(n._repo,n,y),w(H,V)};T.userCallback=e.userCallback,T.context=e.context,e=T}const p=new Rf(e,d||void 0),y="value"===t?new vu(p):new ud(t,p);return function tb(n,t,e){let s;s=".info"===Ht(t._path)?im(n.infoSyncTree_,t,e):im(n.serverSyncTree_,t,e),Yv(n.eventQueue_,t._path,s)}(n._repo,n,y),()=>ym(n._repo,n,y)}function Sm(n,t,e,s){return Cu(n,"value",t,e,s)}function h0(n,t,e,s){return Cu(n,"child_added",t,e,s)}function f0(n,t,e,s){return Cu(n,"child_changed",t,e,s)}function p0(n,t,e,s){return Cu(n,"child_moved",t,e,s)}function Mm(n,t,e,s){return Cu(n,"child_removed",t,e,s)}function cb(n,t,e){let s=null;const a=e?new Rf(e):null;"value"===t?s=new vu(a):t&&(s=new ud(t,a)),ym(n._repo,n,s)}class Si{}class g0 extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xi("endAt",this._value,t._path,!0);const e=Zh(t._queryParams,this._value,this._key);if(Of(e),As(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class wD extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xi("endBefore",this._value,t._path,!1);const e=function cv(n,t,e){let s,a;return n.index_===Yi?("string"==typeof t&&(t=Rr(t)),a=Zh(n,t,e)):(s=null==e?ws:Rr(e),a=Zh(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Of(e),As(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class m0 extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xi("startAt",this._value,t._path,!0);const e=Qo(t._queryParams,this._value,this._key);if(Of(e),As(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class fb extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xi("startAfter",this._value,t._path,!1);const e=function uv(n,t,e){let s;if(n.index_===Yi)"string"==typeof t&&(t=ql(t)),s=Qo(n,t,e);else{let a;a=null==e?ui:ql(e),s=Qo(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Of(e),As(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kr(t._repo,t._path,e,t._orderByCalled)}}class gb extends Si{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(t._repo,t._path,function Jl(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class _b extends Si{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(t._repo,t._path,function Xl(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class vb extends Si{constructor(t){super(),this._path=t}_apply(t){Nf(t,"orderByChild");const e=new un(this._path);if(Ut(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new lo(e),a=Zc(t._queryParams,s);return As(a),new Kr(t._repo,t._path,a,!0)}}class Eb extends Si{_apply(t){Nf(t,"orderByKey");const e=Zc(t._queryParams,Yi);return As(e),new Kr(t._repo,t._path,e,!0)}}class cd extends Si{_apply(t){Nf(t,"orderByPriority");const e=Zc(t._queryParams,Dn);return As(e),new Kr(t._repo,t._path,e,!0)}}class y0 extends Si{_apply(t){Nf(t,"orderByValue");const e=Zc(t._queryParams,Za);return As(e),new Kr(t._repo,t._path,e,!0)}}class C0 extends Si{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Xi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new g0(this._value,this._key)._apply(new m0(this._value,this._key)._apply(t))}}function Mi(n,...t){let e=(0,L.m9)(n);for(const s of t)e=s._apply(e);return e}(function Fw(n){(0,L.hu)(!af,"__referenceConstructor has already been defined"),af=n})(fi),function Hw(n){(0,L.hu)(!uf,"__referenceConstructor has already been defined"),uf=n}(fi);const w0={};function b0(n,t,e,s,a){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||Ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pr("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,T,p=Im(d,a),y=p.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(w=!0,d=`http://${T}?ns=${y.namespace}`,p=Im(d,a),y=p.repoInfo):w=!p.repoInfo.secure;const H=a&&w?new Fc(Fc.OWNER):new QE(n.name,n.options,t);pm("Invalid Firebase Database URL",p),Ut(p.path)||Ii("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function Tb(n,t,e,s){let a=w0[t.name];a||(a={},w0[t.name]=a);let d=a[n.toURLString()];return d&&Ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Qw(n,false,e,s),a[n.toURLString()]=d,d}(y,n,H,new YE(n.name,e));return new Ab(V,n)}class Ab{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jw(n,t,e){if(n.stats_=ky(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new qc(n.repoInfo_,(s,a,d,p)=>{Jv(n,s,a,d,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Xa(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new oo(n.repoInfo_,t,(s,a,d,p)=>{Jv(n,s,a,d,p)},s=>{Xa(n,s)},s=>{!function Xw(n,t){sr(t,(e,s)=>{Df(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function _D(n,t){const e=n.toString();return xy[e]||(xy[e]=t()),xy[e]}(n.repoInfo_,()=>new Yh(n.stats_,n.server_)),n.infoData_=new dv,n.infoSyncTree_=new nm({startListening:(s,a,d,p)=>{let y=[];const w=n.infoData_.getNode(s._path);return w.isEmpty()||(y=cu(n.infoSyncTree_,s._path,w),setTimeout(()=>{p("ok")},0)),y},stopListening:()=>{}}),Df(n,"connected",!1),n.serverSyncTree_=new nm({startListening:(s,a,d,p)=>(n.server_.listen(s,d,a,(y,w)=>{const T=p(y,w);qr(n.eventQueue_,s._path,T)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fi(this._repo,en())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Db(n,t){const e=w0[t];(!e||e[n.key]!==n)&&Ii(`Database ${t}(${n.repoInfo_}) has already been deleted.`),s0(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ii("Cannot call "+t+" on a deleted database.")}}function xf(){jh.IS_TRANSPORT_INITIALIZED&&Fr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ss(){xf(),ci.forceDisallow()}function Sb(){xf(),Ga.forceDisallow(),ci.forceAllow()}function Pm(n=(0,Cs.getApp)(),t){const e=(0,Cs._getProvider)(n,"database").getImmediate({identifier:t}),s=(0,L.P0)("database");return s&&Eu(e,...s),e}function Eu(n,t,e,s={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ii("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Fc(Fc.OWNER);else if(s.mockUserToken){const p="string"==typeof s.mockUserToken?s.mockUserToken:(0,L.Sg)(s.mockUserToken,n.app.options.projectId);d=new Fc(p)}!function Ib(n,t,e,s){n.repoInfo_=new Ny(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,d)}function Pb(n,t){cg(n,t)}const Ff={".sv":"timestamp"};class I0{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}oo.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},oo.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function kf(n){Cy(Cs.SDK_VERSION),(0,Cs._registerComponent)(new ja.wA("database",(t,{instanceIdentifier:e})=>b0(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Cs.registerVersion)(KE,vy,n),(0,Cs.registerVersion)(KE,vy,"esm2017")}();const ID=new xh.Yd("@firebase/database-compat"),Lf=function(n){ID.warn("FIREBASE WARNING: "+n)};class Om{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,Lf("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class xm{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ra{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),wf("DataSnapshot.child","path",t,!1),new ra(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ra(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new pi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Pr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var d;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const p=Pr.getCancelAndContextArgs_("Query.on",s,a),y=(T,H)=>{e.call(p.context,new ra(this.database,T),H)};y.userCallback=e,y.context=p.context;const w=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return Sm(this._delegate,y,w),e;case"child_added":return h0(this._delegate,y,w),e;case"child_removed":return Mm(this._delegate,y,w),e;case"child_changed":return f0(this._delegate,y,w),e;case"child_moved":return p0(this._delegate,y,w),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,cb(this._delegate,t,a)}else cb(this._delegate,t)}get(){return d0(this._delegate).then(t=>new ra(this.database,t))}once(t,e,s,a){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const d=Pr.getCancelAndContextArgs_("Query.once",s,a),p=new L.BH,y=(T,H)=>{const V=new ra(this.database,T);e&&e.call(d.context,V,H),p.resolve(V)};y.userCallback=e,y.context=d.context;const w=T=>{d.cancel&&d.cancel.call(d.context,T),p.reject(T)};switch(t){case"value":Sm(this._delegate,y,w,{onlyOnce:!0});break;case"child_added":h0(this._delegate,y,w,{onlyOnce:!0});break;case"child_removed":Mm(this._delegate,y,w,{onlyOnce:!0});break;case"child_changed":f0(this._delegate,y,w,{onlyOnce:!0});break;case"child_moved":p0(this._delegate,y,w,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Pr(this.database,Mi(this._delegate,function mb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gb(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Pr(this.database,Mi(this._delegate,function yb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _b(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Pr(this.database,Mi(this._delegate,function Cb(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wf("orderByChild","path",n,!1),new vb(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Pr(this.database,Mi(this._delegate,function wb(){return new Eb}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Pr(this.database,Mi(this._delegate,function _0(){return new cd}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Pr(this.database,Mi(this._delegate,function v0(){return new y0}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Pr(this.database,Mi(this._delegate,function hb(n=null,t){return Ef("startAt","key",t,!0),new m0(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Pr(this.database,Mi(this._delegate,function pb(n,t){return Ef("startAfter","key",t,!0),new fb(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Pr(this.database,Mi(this._delegate,function db(n,t){return Ef("endAt","key",t,!0),new g0(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Pr(this.database,Mi(this._delegate,function bD(n,t){return Ef("endBefore","key",t,!0),new wD(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Pr(this.database,Mi(this._delegate,function E0(n,t){return Ef("equalTo","key",t,!0),new C0(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Pr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,L.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,L.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new pi(this.database,new fi(this._delegate._repo,this._delegate._path))}}class pi extends Pr{constructor(t,e){super(t,new Kr(e._repo,e._path,new co,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new pi(this.database,yu(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new pi(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new pi(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const s=ld(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,Lf("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}es("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const s=Am(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function c0(n,t,e){if(es("setWithPriority",n._path),Xi("setWithPriority",t,n._path,!1),fm("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new L.BH;return mm(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function lb(n){return es("remove",n._path),ld(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function D0(n,t,e){var s;if(n=(0,L.m9)(n),es("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=e?.applyLocally)||void 0===s||s,d=new L.BH,y=Sm(n,()=>{});return function nb(n,t,e,s,a,d){mu(n,"transaction on "+t);const p={path:t,update:e,onComplete:s,status:null,order:by(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=Cm(n,t,void 0);p.currentInputSnapshot=y;const w=p.update(y.val());if(void 0===w)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{sd("transaction failed: Data returned ",w,p.path),p.status=0;const T=_f(n.transactionQueueTree_,t),H=Qa(T)||[];let V;H.push(p),Ja(T,H),"object"==typeof w&&null!==w&&(0,L.r3)(w,".priority")?(V=(0,L.DV)(w,".priority"),(0,L.hu)(pu(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(df(n.serverSyncTree_,t)||Ot.EMPTY_NODE).getPriority().val();const Q=od(n),he=Tn(w,V),Ne=gf(he,y,Q);p.currentOutputSnapshotRaw=he,p.currentOutputSnapshotResolved=Ne,p.currentWriteId=Tf(n);const dt=cf(n.serverSyncTree_,t,Ne,p.currentWriteId,p.applyLocally);qr(n.eventQueue_,t,dt),Af(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,T,H)=>{let V=null;w?d.reject(w):(V=new Ai(H,new fi(n._repo,n._path),Dn),d.resolve(new I0(T,V)))},y,a),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new xm(d.committed,new ra(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const s=function ub(n,t){n=(0,L.m9)(n),es("setPriority",n._path),fm("setPriority",t,!1);const e=new L.BH;return mm(n._repo,tn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const s=function Tm(n,t){n=(0,L.m9)(n),es("push",n._path),Xi("push",t,n._path,!0);const e=gm(n._repo),s=Is(e),a=yu(n,s),d=yu(n,s);let p;return p=null!=t?ld(d,t).then(()=>d):Promise.resolve(d),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,t),a=s.then(p=>new pi(this.database,p));e&&a.then(()=>e(null),p=>e(p));const d=new pi(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return es("Reference.onDisconnect",this._delegate._path),new Om(new Pf(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class hd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ss,forceLongPolling:Sb}}useEmulator(t,e,s={}){Eu(this._delegate,t,e,s)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof pi){const e=u0(this._delegate,t.toString());return new pi(this,e)}{const e=Dm(this._delegate,t);return new pi(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const s=u0(this._delegate,t);return new pi(this,s)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function Mb(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),s0(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function Rb(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function vm(n){n.persistentConnection_&&n.persistentConnection_.resume(Qv)}(n._repo)}(this._delegate)}}hd.ServerValue={TIMESTAMP:function Nb(){return Ff}(),increment:n=>function Ob(n){return{".sv":{increment:n}}}(n)};var km=Object.freeze({__proto__:null,initStandalone:function S0({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){Cy(e);const p=new ja.zt("auth-internal",new ja.H0("database-standalone"));return p.setComponent(new ja.wA("auth-internal",()=>s,"PRIVATE")),{instance:new hd(b0(n,p,void 0,t,d),n),namespace:a}}});const M0=hd.ServerValue;!function Lb(n){n.INTERNAL.registerComponent(new ja.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new hd(a,s)},"PUBLIC").setServiceProps({Reference:pi,Query:Pr,Database:hd,DataSnapshot:ra,enableLogging:Pb,INTERNAL:km,ServerValue:M0}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(qE.Z);var fd=O(5363),R0=O(6063);class Ub extends Hi.x{constructor(t=1/0,e=1/0,s=R0.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:p}=this;e||(s.push(t),!a&&s.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let p=0;p<d.length&&!t.closed;p+=s?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const p=e.now();let y=0;for(let w=1;w<s.length&&s[w]<=p;w+=2)y=w;y&&s.splice(0,y+1)}}}function Fm(n,t,e){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):s=n??1/0,(0,og.B)({connector:()=>new Ub(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Lm(n,t){return(0,ps.m)(t)?Kn(()=>n,t):Kn(()=>n)}var Um=O(9468),mo=O(5867);class wu{constructor(t){return t}}class Ur{constructor(){return(0,mo.C6)()}}const Vm=new u.OlP("angularfire2._apps"),DD={provide:wu,useFactory:function Vb(n){return n&&1===n.length?n[0]:new wu((0,mo.Mq)())},deps:[[new u.FiY,Vm]]},TD={provide:Ur,deps:[[new u.FiY,Vm]]};function P0(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new wu(s)}}let N0=(()=>{class n{constructor(e){(0,mo.KN)("angularfire",Gn.q4.full,"core"),(0,mo.KN)("angularfire",Gn.q4.full,"app"),(0,mo.KN)("angular",u.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DD,TD]}),n})();function gd(n,...t){return{ngModule:N0,providers:[{provide:Vm,useFactory:P0(n),multi:!0,deps:[u.R0b,u.zs3,Gn.HU,...t]}]}}const x0=(0,Gn.u3)(mo.ZF,!0),md=new Map,Bm={activated:!1,tokenObservers:[]},k0={initialized:!1,enabled:!1};function or(n){return md.get(n)||Object.assign({},Bm)}function jm(){return k0}class $m{constructor(t,e,s,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Bo.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function ND(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Yr=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function V0(n){if(!or(n).activated)throw Yr.create("use-before-activation",{appName:n.name})}function Bf(n,t){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Bo.Z)(function*({url:n,body:t},e){var s,a;const d={"Content-Type":"application/json"},p=e.getImmediate({optional:!0});if(p){const he=yield p.getHeartbeatsHeader();he&&(d["X-Firebase-Client"]=he)}const y={method:"POST",body:JSON.stringify(t),headers:d};let w,T;try{w=yield fetch(n,y)}catch(he){throw Yr.create("fetch-network-error",{originalErrorMessage:null===(s=he)||void 0===s?void 0:s.message})}if(200!==w.status)throw Yr.create("fetch-status-error",{httpStatus:w.status});try{T=yield w.json()}catch(he){throw Yr.create("fetch-parse-error",{originalErrorMessage:null===(a=he)||void 0===a?void 0:a.message})}const H=T.ttl.match(/^([\d.]+)(s)$/);if(!H||!H[2]||isNaN(Number(H[1])))throw Yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const V=1e3*Number(H[1]),Q=Date.now();return{token:T.token,expireTimeMillis:Q+V,issuedAtTimeMillis:Q}})).apply(this,arguments)}function jb(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const yd="firebase-app-check-store";let vd=null;function Zm(){return vd||(vd=new Promise((n,t)=>{var e;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var d;t(Yr.create("storage-open",{originalErrorMessage:null===(d=a.target.error)||void 0===d?void 0:d.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(yd,{keyPath:"compositeKey"})}}catch(s){t(Yr.create("storage-open",{originalErrorMessage:null===(e=s)||void 0===e?void 0:e.message}))}}),vd)}function W0(){return(W0=(0,Bo.Z)(function*(n,t){const s=(yield Zm()).transaction(yd,"readwrite"),d=s.objectStore(yd).put({compositeKey:n,value:t});return new Promise((p,y)=>{d.onsuccess=w=>{p()},s.onerror=w=>{var T;y(Yr.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Hf=new xh.Yd("@firebase/app-check");function Z0(n,t){return(0,L.hl)()?function Wb(n,t){return function qm(n,t){return W0.apply(this,arguments)}(function Zb(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Hf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Km(){return jm().enabled}function Cd(){return $f.apply(this,arguments)}function $f(){return($f=(0,Bo.Z)(function*(){const n=jm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kD={error:"UNKNOWN_ERROR"};function Ym(n){return L.US.encodeString(JSON.stringify(n),!1)}function Ed(n){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,Bo.Z)(function*(n,t=!1){const e=n.app;V0(e);const s=or(e);let d,a=s.token;if(a&&!_o(a)&&(s.token=void 0,a=void 0),!a){const w=yield s.cachedTokenPromise;w&&(_o(w)?a=w:yield Z0(e,void 0))}if(!t&&a&&_o(a))return{token:a.token};let y,p=!1;if(Km()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Bf(jb(e,yield Cd()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),p=!0);const w=yield s.exchangeTokenPromise;return yield Z0(e,w),s.token=w,{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),p=!0),a=yield or(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Hf.warn(w.message):Hf.error(w),d=w}return a?d?y=_o(a)?{token:a.token,internalError:d}:J0(d):(y={token:a.token},s.token=a,yield Z0(e,a)):y=J0(d),p&&Q0(e,y),y})).apply(this,arguments)}function Y0(n,t){const e=or(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function qb(n){const{app:t}=n,e=or(t);let s=e.tokenRefresher;s||(s=function Kb(n){const{app:t}=n;return new $m((0,Bo.Z)(function*(){let s;if(s=or(t).token?yield Ed(n,!0):yield Ed(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=or(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function Q0(n,t){const e=or(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch{}}function _o(n){return n.expireTimeMillis-Date.now()>0}function J0(n){return{token:Ym(kD),error:n}}class FD{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=or(this.app);for(const e of t)Y0(this.app,e.next);return Promise.resolve()}}const sC="app-check-internal";!function e_(){(0,Cs._registerComponent)(new ja.wA("app-check",n=>function LD(n,t){return new FD(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(sC).initialize()})),(0,Cs._registerComponent)(new ja.wA(sC,n=>function UD(n){return{getToken:t=>Ed(n,t),addTokenListener:t=>function Wf(n,t,e,s){const{app:a}=n,d=or(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:t}],d.token&&_o(d.token)){const y=d.token;Promise.resolve().then(()=>{e({token:y.token}),qb(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>qb(n))}(n,"INTERNAL",t),removeTokenListener:t=>Y0(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cs.registerVersion)("@firebase/app-check","0.5.17")}();class Iu{constructor(){return(0,Gn.vb)("app-check")}}typeof window<"u"&&window;var lC=O(127);const n_=new u.OlP("angularfire2.auth.use-emulator"),r_=new u.OlP("angularfire2.auth.settings"),bd=new u.OlP("angularfire2.auth.tenant-id"),Id=new u.OlP("angularfire2.auth.langugage-code"),i_=new u.OlP("angularfire2.auth.use-device-language"),cC=new u.OlP("angularfire.auth.persistence"),s_=(n,t,e,s,a,d,p,y)=>(0,Es.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=a,d&&w.useDeviceLanguage(),p)for(const[T,H]of Object.entries(p))w.settings[T]=H;return y&&w.setPersistence(y),w},[e,s,a,d,p,y]);let o_=(()=>{class n{constructor(e,s,a,d,p,y,w,T,H,V,Q,he){const Ne=new Hi.x,dt=lt(void 0).pipe((0,fd.Q)(p.outsideAngular),Kn(()=>d.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,ct.U)(()=>(0,Es.on)(e,d,s)),(0,ct.U)(Dt=>s_(Dt,d,y,T,H,V,w,Q)),Fm({bufferSize:1,refCount:!1}));if(function ss(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{dt.pipe(oi()).subscribe();const jt=dt.pipe(Kn(Hn=>Hn.getRedirectResult().then(Rs=>Rs,()=>null)),Gn.iC,Fm({bufferSize:1,refCount:!1})),cn=dt.pipe(Kn(Hn=>new vr.y(Rs=>({unsubscribe:d.runOutsideAngular(()=>Hn.onAuthStateChanged(Rd=>Rs.next(Rd),Rd=>Rs.error(Rd),()=>Rs.complete()))})))),Nr=dt.pipe(Kn(Hn=>new vr.y(Rs=>({unsubscribe:d.runOutsideAngular(()=>Hn.onIdTokenChanged(Rd=>Rs.next(Rd),Rd=>Rs.error(Rd),()=>Rs.complete()))}))));this.authState=jt.pipe(Lm(cn),(0,Um.R)(p.outsideAngular),(0,fd.Q)(p.insideAngular)),this.user=jt.pipe(Lm(Nr),(0,Um.R)(p.outsideAngular),(0,fd.Q)(p.insideAngular)),this.idToken=this.user.pipe(Kn(Hn=>Hn?(0,vn.D)(Hn.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Kn(Hn=>Hn?(0,vn.D)(Hn.getIdTokenResult()):lt(null))),this.credential=(0,kh.T)(jt,Ne,this.authState.pipe(si(Hn=>!Hn))).pipe((0,ct.U)(Hn=>Hn?.user?Hn:null),(0,Um.R)(p.outsideAngular),(0,fd.Q)(p.insideAngular))}return(0,Es.pX)(this,dt,d,{spy:{apply:(Dt,jt,cn)=>{(Dt.startsWith("signIn")||Dt.startsWith("createUser"))&&cn.then(Nr=>Ne.next(Nr))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Es.Dh),u.LFG(Es.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(n_,8),u.LFG(r_,8),u.LFG(bd,8),u.LFG(Id,8),u.LFG(i_,8),u.LFG(cC,8),u.LFG(Iu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dI(n){return null==n}function a_(n){return"function"==typeof n.set}function dC(n,t){return a_(t)?t:n.ref(t)}function hC(n,t){if(function cI(n){return"string"==typeof n}(n))return t.stringCase();if(a_(n))return t.firebaseCase();if(function GD(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Dd(n,t,e="on",s=dD.z){return new vr.y(a=>{let d=null;return d=n[e](t,(p,y)=>{s.schedule(()=>{a.next({snapshot:p,prevKey:y})}),"once"===e&&s.schedule(()=>a.complete())},p=>{s.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,ct.U)(a=>{const{snapshot:d,prevKey:p}=a;let y=null;return d.exists()&&(y=d.key),{type:t,payload:d,prevKey:p,key:y}}),(0,og.B)())}function hI(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function qD(n,t){const{payload:e,prevKey:s,key:a}=t,d=hI(n,a),p=function ZD(n,t){if(dI(t))return 0;{const e=hI(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(w=>{const T={payload:w,type:"value",prevKey:y,key:w.key};return y=w.key,n=[...n,T],!1})}return n;case"child_added":if(d>-1){const y=n[d-1];(y&&y.key||null)!==s&&(n=n.filter(w=>w.payload.key!==e.key)).splice(p,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(d>-1){const y=n.splice(d,1)[0];return(n=n.slice()).splice(p,0,y),n}return n;default:return n}}function fI(n){return(dI(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function fC(n,t,e){return function zD(n,t,e){return Dd(n,"value","once",e).pipe(Kn(s=>{const a=[lt(s)];return t.forEach(d=>a.push(Dd(n,d,"on",e))),(0,kh.T)(...a).pipe(Pa(qD,[]))}),function $a(n,t=zs.y){return n=n??zE,(0,rr.e)((e,s)=>{let a,d=!0;e.subscribe((0,nr.x)(s,p=>{const y=t(p);(d||!n(a,y))&&(d=!1,a=y,s.next(p))}))})}())}(n,t=fI(t),e)}function Td(n,t,e){const s=(t=fI(t)).map(a=>Dd(n,a,"on",e));return(0,kh.T)(...s)}function sa(n,t){return function(s,a){return hC(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function gC(n){return function(e){return e?hC(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Kf(n,t){return function(){return Dd(n,"value","on",t)}}const u_=new u.OlP("angularfire2.realtimeDatabaseURL"),c_=new u.OlP("angularfire2.database.use-emulator");let el=(()=>{class n{constructor(e,s,a,d,p,y,w,T,H,V,Q,he,Ne,dt,Dt){this.schedulers=y;const jt=w,cn=(0,Es.on)(e,p,s);T&&s_(cn,p,H,Q,he,Ne,V,dt),this.database=(0,Es.cc)(`${cn.name}.database.${a}`,"AngularFireDatabase",cn.name,()=>{const Nr=p.runOutsideAngular(()=>cn.database(a||void 0));return jt&&Nr.useEmulator(...jt),Nr},[jt])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>dC(this.database,e));let d=a;return s&&(d=s(a)),function l_(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:sa(s,"update"),set:sa(s,"set"),push:a=>s.push(a),remove:gC(s),snapshotChanges:a=>fC(n,a,e).pipe(Gn.iC),stateChanges:a=>Td(n,a,e).pipe(Gn.iC),auditTrail:a=>function pI(n,t,e){return function pC(n,t,e){return function gI(n,t){return Dd(n,"value","on",t).pipe((0,ct.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function lg(...n){const t=(0,ii.jO)(n);return(0,rr.e)((e,s)=>{const a=n.length,d=new Array(a);let p=n.map(()=>!1),y=!1;for(let w=0;w<a;w++)(0,fs.Xf)(n[w]).subscribe((0,nr.x)(s,T=>{d[w]=T,!y&&!p[w]&&(p[w]=!0,(y=p.every(zs.y))&&(p=null))},ag.Z));e.subscribe((0,nr.x)(s,w=>{if(y){const T=[w,...d];s.next(t?t(...T):T)}}))})}(t),(0,ct.U)(([a,d])=>{const p=a.lastKeyToLoad,y=d.map(w=>w.key);return{actions:d,lastKeyToLoad:p,loadedKeys:y}}),function ZE(n){return(0,rr.e)((t,e)=>{let s=!1,a=0;t.subscribe((0,nr.x)(e,d=>(s||(s=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,ct.U)(a=>a.actions))}(n,Td(n,t).pipe(Pa((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(Gn.iC),valueChanges:(a,d)=>fC(n,a,e).pipe((0,ct.U)(y=>y.map(w=>d&&d.idField?Object.assign(Object.assign({},w.payload.val()),{[d.idField]:w.key}):w.payload.val())),Gn.iC)}}(d,this)}object(e){return function mI(n,t){return{query:n,snapshotChanges:()=>Kf(n,t.schedulers.outsideAngular)().pipe(Gn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Kf(n,t.schedulers.outsideAngular)().pipe(Gn.iC,(0,ct.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>dC(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Es.Dh),u.LFG(Es.xv,8),u.LFG(u_,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(c_,8),u.LFG(o_,8),u.LFG(n_,8),u.LFG(r_,8),u.LFG(bd,8),u.LFG(Id,8),u.LFG(i_,8),u.LFG(cC,8),u.LFG(Iu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KD=(()=>{class n{constructor(){lC.Z.registerVersion("angularfire",Gn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[el]}),n})(),mC=(()=>{class n{constructor(e){this.db=e,this.curUser={name:"Unknown",email:"Unknown",likes:[],friends:[]}}signup(e,s,a){if(""==e||""==s||""==a)return void this.reportError("Missing Information","All fields must be filled out");if(this.getUserByName(e))return this.curUser={name:"Unknown",email:"Unknown",likes:[],friends:[]},void this.reportError("Username_Taken","Sorry, that username is already takem");const d=(0,Pc.n)();this.clearError(),(0,Pc.a5)(d,s,a).then(p=>{this.curUser={name:e,email:s,likes:[],friends:[]},this.db.list("users").push(this.curUser)}).catch(p=>{this.reportError(p.code,p.message)})}login(e,s,a){if(""==s){if(""==e)return void this.reportError("Missing Information_Login","Username or Email must be given to login");if(!this.getUserByName(e))return void this.reportError("Invalid Username","Username not recognized");if(this.curUser.name!=e)return void this.reportError("Unknown","Something went wrong, try again");s=this.curUser.email}const d=(0,Pc.n)();this.clearError(),(0,Pc.a6)(d,s,a).then(p=>{""==e?(this.getUserByEmail(s),this.curUser.email!=s&&this.reportError("Unknown","Something went wrong, try again")):this.curUser.name=e}).catch(p=>{this.reportError(p.code,p.message)})}reportError(e,s){const a=document.getElementById("login-error");if(null!=a)switch(e){case"auth/invalid-email":a.textContent="Invalid Email";break;case"auth/user-not-found":a.textContent="Unrecognized email: "+this.curUser.email;break;case"auth/email-already-in-use":a.textContent="Email already in use";break;case"auth/wrong-password":a.textContent="Incorrect password";break;case"auth/internal-error":a.textContent="Internal Error";break;case"Missing Information":a.textContent="All fields must be filled out";break;case"Missing Information_Login":a.textContent="Username or Email required to login";break;case"Invalid Username":a.textContent="Username not recognized";break;case"Username_Taken":a.textContent="Sorry, that username is already takem";break;case"Unknown":a.textContent="Something went wrong, try again";break;default:a.textContent=s}}clearError(){const e=document.getElementById("login-error");null!=e&&(e.textContent="")}getUserByName(e){return this.db.list("users",s=>s.orderByChild("name").equalTo(e)).valueChanges().subscribe(s=>this.curUser=s[0]),null!=this.curUser}getUserByEmail(e){this.db.list("users",s=>s.orderByChild("email").equalTo(e)).valueChanges().subscribe(s=>this.curUser=s[0])}getUsername(){return this.curUser.name}getFriends(){return this.curUser.friends}addFriend(e){this.db.list("users",s=>s.orderByChild("name").equalTo(this.curUser.name)).remove(),this.curUser.friends.push(e),this.db.list("users").push(this.curUser)}removeFriend(e){this.db.list("users",s=>s.orderByChild("name").equalTo(this.curUser.name)).remove();for(let s=0;s<this.curUser.friends.length;s++)if(this.curUser.friends[s]==e){delete this.curUser.friends[s];break}this.db.list("users").push(this.curUser)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(el))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_I=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),oa=(()=>{class n extends _I{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(n)))(s||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ms=new u.OlP("NgValueAccessor"),vI={provide:Ms,useExisting:(0,u.Gpc)(()=>Du),multi:!0},vC=new u.OlP("CompositionEventMode");let Du=(()=>{class n extends _I{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yC(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(vC,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&u.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[u._Bn([vI]),u.qOj]}),n})();const Er=new u.OlP("NgValidators"),tl=new u.OlP("NgAsyncValidators");function EI(n){return function aa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function h_(n){return null}function II(n){return null!=n}function DI(n){return(0,u.QGY)(n)?(0,vn.D)(n):n}function TI(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function AC(n,t){return t.map(e=>e(n))}function AI(n){return n.map(t=>function QD(n){return!n.validate}(t)?t:e=>t.validate(e))}function SC(n){return null!=n?function SI(n){if(!n)return null;const t=n.filter(II);return 0==t.length?null:function(e){return TI(AC(e,t))}}(AI(n)):null}function MC(n){return null!=n?function MI(n){if(!n)return null;const t=n.filter(II);return 0==t.length?null:function(e){return function YD(...n){const t=(0,ii.jO)(n),{args:e,keys:s}=Gs(n),a=new vr.y(d=>{const{length:p}=e;if(!p)return void d.complete();const y=new Array(p);let w=p,T=p;for(let H=0;H<p;H++){let V=!1;(0,fs.Xf)(e[H]).subscribe((0,nr.x)(d,Q=>{V||(V=!0,T--),y[H]=Q},()=>w--,void 0,()=>{(!w||!V)&&(T||d.next(s?Yu(s,y):y),d.complete())}))}});return t?a.pipe(Jd(t)):a}(AC(e,t).map(DI)).pipe((0,ct.U)(TI))}}(AI(n)):null}function r(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function l(n){return n?Array.isArray(n)?n:[n]:[]}function c(n,t){return Array.isArray(n)?n.includes(t):n===t}function h(n,t){const e=l(t);return l(n).forEach(a=>{c(e,a)||e.push(a)}),e}function m(n,t){return l(t).filter(e=>!c(n,e))}class v{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=MC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class E extends v{get formDirective(){return null}get path(){return null}}class b extends v{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ne=(()=>{class n extends A{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(b,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&u.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[u.qOj]}),n})(),be=(()=>{class n extends A{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(E,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&u.ekj("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[u.qOj]}),n})();const __="VALID",OC="INVALID",Qf="PENDING",y_="DISABLED";function RI(n){return(xC(n)?n.validators:n)||null}function JD(n){return Array.isArray(n)?SC(n):n||null}function PI(n,t){return(xC(t)?t.asyncValidators:n)||null}function XD(n){return Array.isArray(n)?MC(n):n||null}function xC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=JD(this._rawValidators),this._composedAsyncValidatorFn=XD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===__}get invalid(){return this.status===OC}get pending(){return this.status==Qf}get disabled(){return this.status===y_}get enabled(){return this.status!==y_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=JD(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=XD(t)}addValidators(t){this.setValidators(h(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(h(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(m(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(m(t,this._rawAsyncValidators))}hasValidator(t){return c(this._rawValidators,t)}hasAsyncValidator(t){return c(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=y_,this.errors=null,this._forEachChild(s=>{s.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=__,this._forEachChild(s=>{s.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===__||this.status===Qf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?y_:__}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qf,this._hasOwnPendingAsyncValidator=!0;const e=DI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,a)=>s&&s._find(a),this)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?y_:this.errors?OC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qf)?Qf:this._anyControlsHaveStatus(OC)?OC:__}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class NI extends nT{constructor(t,e,s){super(RI(e),PI(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function tT(n,t,e){n._forEachChild((s,a)=>{if(void 0===e[a])throw new u.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(s=>{(function eT(n,t,e){const s=n.controls;if(!(t?Object.keys(s):s).length)throw new u.vHH(1e3,"");if(!s[e])throw new u.vHH(1001,"")})(this,!0,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{const a=this.controls[s];a&&a.patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,s]of Object.entries(this.controls))if(this.contains(e)&&t(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,s,a)=>((s.enabled||this.disabled)&&(e[a]=s.value),e))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,d)=>{s=e(s,a,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function v_(n,t){OI(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function tA(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rT(n,t)})}(n,t),function rA(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function nA(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function eA(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function LC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function OI(n,t){const e=function i(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(r(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function o(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(r(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();LC(t._rawValidators,a),LC(t._rawAsyncValidators,a)}function rT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const lA={provide:E,useExisting:(0,u.Gpc)(()=>Sd)},C_=(()=>Promise.resolve(null))();let Sd=(()=>{class n extends E{constructor(e,s){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new NI({},SC(e),MC(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){C_.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),v_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){C_.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){C_.then(()=>{const s=this._findContainer(e.path),a=new NI({});(function iT(n,t){OI(n,t)})(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){C_.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){C_.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function oT(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Er,10),u.Y36(tl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&u.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([lA]),u.qOj]}),n})();function aT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function lT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const uT=class extends nT{constructor(t=null,e,s){super(RI(e),PI(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=lT(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){aT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){aT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){lT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},dA={provide:b,useExisting:(0,u.Gpc)(()=>VC)},hT=(()=>Promise.resolve(null))();let VC=(()=>{class n extends b{constructor(e,s,a,d,p){super(),this._changeDetectorRef=p,this.control=new uT,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function kI(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(d=>{d.constructor===Du?e=d:function oA(n){return Object.getPrototypeOf(n.constructor)===oa}(d)?s=d:a=d}),a||s||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function xI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){v_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=0!==s&&(0,u.D6c)(s);hT.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function kC(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(E,9),u.Y36(Er,10),u.Y36(tl,10),u.Y36(Ms,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([dA]),u.qOj,u.TTD]}),n})(),E_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),pT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Md=(()=>{class n{constructor(){this._validator=h_}ngOnChanges(e){if(this.inputName in e){const s=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):h_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const MA={provide:Er,useExisting:(0,u.Gpc)(()=>BC),multi:!0};let BC=(()=>{class n extends Md{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=e=>EI}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=u.n5z(n)))(s||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&u.uIk("required",s._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([MA]),u.qOj]}),n})(),kA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pT]}),n})(),FA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[kA]}),n})(),UA=(()=>{class n{constructor(e){this.backend=e,this.username="Username Not Found",this.password="Password Not Found",this.list=""}ngOnInit(){}singupUser(){let e=document.getElementById("log-in-form");this.backend.addFriend(e.elements[0].value),this.backend.getFriends().forEach(function(p){console.log(p)})}loginUser(){let e=document.getElementById("log-in-form");this.backend.login(e.elements[0].value,e.elements[1].value,e.elements[2].value)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(mC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login-page"]],features:[u._Bn([mC])],decls:22,vars:0,consts:[["id","background"],[1,"centered",2,"background-color","rgb(165, 166, 192)","width","80%","height","300px"],[1,"centered",2,"font-size","45px","margin-left","360px"],["id","log-in-form",1,"justify-content-center",2,"width","70%","margin-left","auto","margin-right","auto","margin-top","50px"],["id","username",2,"margin-right","10px","margin-left","157px","margin-bottom","10px"],["type","text","name","username","required","true","placeholder","Username"],["id","email",2,"margin-right","10px","margin-left","190px","margin-bottom","10px"],["type","text","name","email","required","true","placeholder","Email"],[2,"margin-right","10px","margin-left","160px","margin-bottom","15px"],["id","password","type","password","name","password","required","true","placeholder","Password",2,"margin-right","auto"],["type","button",1,"btn","btn-secondary",2,"margin-left","350px",3,"click"],["type","button",1,"btn","btn-secondary",2,"margin-left","10px",3,"click"],["id","login-error",2,"color","red","margin-left","360px","font-size","24px"]],template:function(e,s){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"p",2),u._uU(3,"Change User"),u.qZA(),u.TgZ(4,"form",3)(5,"label",4),u._uU(6,"Username:"),u.qZA(),u._UZ(7,"input",5)(8,"br"),u.TgZ(9,"label",6),u._uU(10,"Email:"),u.qZA(),u._UZ(11,"input",7)(12,"br"),u.TgZ(13,"label",8),u._uU(14,"Password:"),u.qZA(),u._UZ(15,"input",9)(16,"br"),u.TgZ(17,"button",10),u.NdJ("click",function(){return s.loginUser()}),u._uU(18,"Log in"),u.qZA(),u.TgZ(19,"button",11),u.NdJ("click",function(){return s.singupUser()}),u._uU(20,"Sign up"),u.qZA()(),u._UZ(21,"p",12),u.qZA()())},dependencies:[E_,be,Sd],styles:["#background[_ngcontent-%COMP%]{background-color:#313269;height:100%;width:100%;padding-top:50px;padding-bottom:50px}.centered[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),n})(),NT=(()=>{class n{constructor(e){this.db=e}getPage(){return this.db.list("page").valueChanges()}addPage(e){this.db.list("page").push(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(el))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VA=(()=>{class n{constructor(){this.game="",this.title="",this.description="",this.link="",this.images=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-news-tab"]],inputs:{game:"game",title:"title",description:"description",link:"link",images:"images"},decls:14,vars:5,consts:[[1,"d-flex","flex-column","text-white",2,"background-color","rgb(49, 50, 105)"],[1,"card","ms-5","me-5","mt-4","mb-2","justify-content-center",2,"background-color","rgb(41, 42, 90)","width","1100px"],[1,"card-header",2,"background-color","rgb(0, 0, 0)"],[1,"d-flex","flex-row","text-center"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"card-title","mt-3"],[1,"card-text","mt-2"],[1,"mt-auto","mb-2","btn","btn-primary",2,"width","300px",3,"href"],[1,"d-flex","flex-column"],["alt","",2,"width","460px",3,"src"]],template:function(e,s){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),u._uU(3),u.qZA(),u.TgZ(4,"div",3)(5,"div",4)(6,"h5",5),u._uU(7),u.qZA(),u.TgZ(8,"p",6),u._uU(9),u.qZA(),u.TgZ(10,"a",7),u._uU(11,"Read More"),u.qZA()(),u.TgZ(12,"div",8),u._UZ(13,"img",9),u.qZA()()()()),2&e&&(u.xp6(3),u.Oqu(s.game),u.xp6(4),u.Oqu(s.title),u.xp6(2),u.Oqu(s.description),u.xp6(1),u.s9C("href",s.link,u.LSH),u.xp6(3),u.s9C("src",s.images,u.LSH))},styles:[".btn-primary[_ngcontent-%COMP%]{background-color:#000;border:0ch}.card[_ngcontent-%COMP%]{border-width:medium;border-color:#000}"]}),n})(),BA=(()=>{class n{constructor(e){this.ns=e}ngOnInit(){}addPage(e){console.log(e),this.ns.addPage(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(NT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-addpage"]],decls:30,vars:0,consts:[[1,"card","bg-black","mt-4",2,"width","35rem"],[1,"card-body"],[1,"card-title","text-white"],[1,"card-text","text-white"],[3,"ngSubmit"],["postForm","ngForm"],[1,"input-group","mt-1"],[1,"input-group-text","text-white"],["type","text","ngModel","","name","game",1,"form-control"],["type","text","ngModel","","name","title",1,"form-control"],["type","text","ngModel","","name","description",1,"form-control"],["type","text","ngModel","","name","link",1,"form-control"],["type","text","ngModel","","name","images",1,"form-control"],["type","submit",1,"btn","text-white","mt-1"]],template:function(e,s){if(1&e){const a=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),u._uU(3,"Submit Your Own Article!"),u.qZA(),u.TgZ(4,"p",3),u._uU(5,"Remember, submitting malicious or fake links can result in a permanent ban on the site."),u.qZA(),u.TgZ(6,"form",4,5),u.NdJ("ngSubmit",function(){u.CHM(a);const p=u.MAs(7);return u.KtG(s.addPage(p.value))}),u.TgZ(8,"div",6)(9,"span",7),u._uU(10,"Game Title"),u.qZA(),u._UZ(11,"input",8),u.qZA(),u.TgZ(12,"div",6)(13,"span",7),u._uU(14,"Title of the Article"),u.qZA(),u._UZ(15,"input",9),u.qZA(),u.TgZ(16,"div",6)(17,"span",7),u._uU(18,"Summary of the Article"),u.qZA(),u._UZ(19,"input",10),u.qZA(),u.TgZ(20,"div",6)(21,"span",7),u._uU(22,"Link to the Article"),u.qZA(),u._UZ(23,"input",11),u.qZA(),u.TgZ(24,"div",6)(25,"span",7),u._uU(26,"Image for the Article"),u.qZA(),u._UZ(27,"input",12),u.qZA(),u.TgZ(28,"button",13),u._uU(29," Add Article "),u.qZA()()()()}},dependencies:[E_,Du,ne,be,VC,Sd],styles:[".input-group-text[_ngcontent-%COMP%]{background-color:#313269;border:0ch}.btn[_ngcontent-%COMP%]{background-color:#414141}"]}),n})();function HA(n,t){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"app-news-tab",16),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.s9C("game",e.game),u.s9C("title",e.title),u.s9C("description",e.description),u.s9C("link",e.link),u.s9C("images",e.images)}}let jA=(()=>{class n{constructor(e){this.NewsService=e,this.news=[]}ngOnInit(){this.NewsService.getPage().subscribe(e=>{for(var s of(console.log("Getting the News..."),e))console.log(s),this.news.push(s)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(NT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-news-page"]],decls:19,vars:1,consts:[[1,"dark","noBg","no-padding"],[1,"container-full-width","no-padding"],[1,"cpntainer-fluid"],[1,"d-flex","justify-content-left"],[1,"row"],[1,"col-4"],[1,"col-12"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",">"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#",1,"text-white"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column"],[4,"ngFor","ngForOf"],[1,"sticky-top"],[3,"game","title","description","link","images"]],template:function(e,s){1&e&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._UZ(5,"div",5),u.TgZ(6,"div",6)(7,"nav",7)(8,"ol",8)(9,"li",9)(10,"a",10),u._uU(11," Home "),u.qZA()(),u.TgZ(12,"li",11),u._uU(13,"News Page"),u.qZA()()()()()()()(),u.TgZ(14,"div",12)(15,"div",13),u.YNc(16,HA,2,5,"div",14),u.qZA(),u.TgZ(17,"div",13),u._UZ(18,"app-addpage",15),u.qZA()()()),2&e&&(u.xp6(16),u.Q6J("ngForOf",s.news))},dependencies:[Vr,VA,BA]}),n})(),$A=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-fav-game"]],decls:99,vars:0,consts:[[1,"dark","noBg","no-padding"],[1,"container-full-width","no-padding"],[1,"cpntainer-fluid"],[1,"d-flex","justify-content-left"],[1,"row"],[1,"col-4"],[1,"col-12"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",">"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#",1,"text-white"],["aria-current","page",1,"breadcrumb-item","active"],[1,"navbar","container-fluid","navbar-dark","text-light",2,"background-color","#313269"],[1,"container","justify-content-center"],[1,"navbar","navbar-dark",2,"background-color","#313269"],[1,"d-flex","input-group","w-auto"],["type","button","onclick","window.location.href=''",1,"btn"],["src","assets/location.png","width","20","height","20"],["type","Search ","placeholder","SEARCH YOUR FAVORITE GAME","aria-label","Search","aria-describedby","search-addon",1,"form-control","rounded"],["id","search-addon",1,"input-group-text","text-white","border-0"],[1,"fas","fa-search"],["type","button","onclick","window.location.href=''",1,"btn","btn-click"],["src","assets/magglass.png","width","25","height","25"],[1,"navbar","container-fluid","navbar-dark",2,"background-color","#313269"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","d-flex","justify-content-center"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/mine.png","width","250","height","350",1,"d-block","w-40"],[1,"carousel-item"],["src","assets/mw2.png","width","250","height","350",1,"d-block","w-40"],["src","assets/val.png","width","250","height","350",1,"d-block","w-40"],["src","assets/fort.png","width","250","height","350",1,"d-block","w-40"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"navbar","navbar-custom","navbar-expand","fluid","navbar-dark",2,"background-color","#313269"],["onclick","window.location.href=''",1,"btn"],["src","assets/gamer1.png","width","200","height","200"],["src","assets/gamer2.png","width","200","height","200"],["src","assets/gamerr3.png","width","200","height","200"],["src","assets/gamer4.png","width","200","height","200"],["src","assets/gamer5.png","width","200","height","200"]],template:function(e,s){1&e&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._UZ(5,"div",5),u.TgZ(6,"div",6)(7,"nav",7)(8,"ol",8)(9,"li",9)(10,"a",10),u._uU(11," Home "),u.qZA()(),u.TgZ(12,"li",11),u._uU(13,"Favorite Game"),u.qZA()()()()()()(),u.TgZ(14,"nav",12)(15,"div",13)(16,"h3"),u._uU(17,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(18,"nav",12)(19,"div",13)(20,"h3"),u._uU(21,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(22,"nav",12)(23,"div",13)(24,"h3"),u._uU(25,"CALLING ALL GAMERS ALIKE"),u.qZA()()(),u.TgZ(26,"nav",12)(27,"div",13)(28,"h6"),u._uU(29,"FIND THE RIGHT TEAMATES TO DOMINATE YOUR FAVORITE GAMES"),u.qZA(),u.TgZ(30,"h3"),u._uU(31,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(32,"nav",14)(33,"div",13)(34,"form",15)(35,"button",16),u._UZ(36,"img",17),u.qZA(),u._UZ(37,"input",18),u.TgZ(38,"span",19),u._UZ(39,"i",20),u.TgZ(40,"button",21),u._UZ(41,"img",22),u.qZA()()()()(),u.TgZ(42,"nav",12)(43,"div",13)(44,"h3"),u._uU(45,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(46,"nav",12)(47,"div",13)(48,"h3"),u._uU(49,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(50,"nav",12)(51,"div",13)(52,"h3"),u._uU(53,"Popular Games"),u.qZA()()(),u.TgZ(54,"nav",23)(55,"div",13)(56,"div",24)(57,"div",25)(58,"div",26),u._UZ(59,"img",27),u.qZA(),u.TgZ(60,"div",28),u._UZ(61,"img",29),u.qZA(),u.TgZ(62,"div",28),u._UZ(63,"img",30),u.qZA(),u.TgZ(64,"div",28),u._UZ(65,"img",31),u.qZA()(),u.TgZ(66,"button",32),u._UZ(67,"span",33),u.TgZ(68,"span",34),u._uU(69,"Previous"),u.qZA()(),u.TgZ(70,"button",35),u._UZ(71,"span",36),u.TgZ(72,"span",34),u._uU(73,"Next"),u.qZA()()()()(),u.TgZ(74,"nav",12)(75,"div",13)(76,"h3"),u._uU(77,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(78,"nav",12)(79,"div",13)(80,"h6"),u._uU(81,"JOIN THE COMMUNITY"),u.qZA(),u.TgZ(82,"h3"),u._uU(83,"\xa0\xa0\xa0\xa0"),u.qZA()()(),u.TgZ(84,"nav",37)(85,"div",13)(86,"button",38),u._UZ(87,"img",39),u.qZA(),u.TgZ(88,"button",38),u._UZ(89,"img",40),u.qZA(),u.TgZ(90,"button",38),u._UZ(91,"img",41),u.qZA(),u.TgZ(92,"button",38),u._UZ(93,"img",42),u.qZA(),u.TgZ(94,"button",38),u._UZ(95,"img",43),u.qZA()()(),u.TgZ(96,"nav",37)(97,"h3"),u._uU(98,"\xa0\xa0\xa0\xa0"),u.qZA()()()())}}),n})();const WA=[{title:"Walking_TACO",img:"assets/TACO.png",fave:"Favorite Game: CSGO",discord:"Discord: TACO #3123",description:"Hi, I am jack and I love playing CSGO and battlefield. I live in Maine!"},{title:"Purple",img:"assets/purple3.png",fave:"Favorite Game: Valorant",discord:"Discord: Purps #3629",description:"I am the color purple! I also love gaming on saturday nights with the boys."},{title:"Mother_Nature3563785",img:"assets/chess.png",fave:"Favorite Game: Chess",discord:"Discord: Nat #7323",description:"The name is Linda. I enjoy playing online chess, checkers, and bowling."},{title:"Dr. Devine",img:"assets/devine.png",fave:"Favorite Game: CS 230 Simulator",discord:"Discord: Devine #2727",description:"I am Dr. Devine and I love playing CS and CYBR class simulators .;)"}];function GA(n,t){if(1&n&&(u.TgZ(0,"div")(1,"div",16)(2,"div",17),u._UZ(3,"img",18),u.TgZ(4,"div",19)(5,"h5",20),u._uU(6),u.qZA(),u.TgZ(7,"p"),u._uU(8),u.qZA(),u.TgZ(9,"p"),u._uU(10),u.qZA(),u.TgZ(11,"p",21),u._uU(12),u.qZA()()()()()),2&n){const e=t.$implicit;u.xp6(3),u.s9C("src",e.img,u.LSH),u.xp6(3),u.Oqu(e.title),u.xp6(2),u.Oqu(e.fave),u.xp6(2),u.Oqu(e.discord),u.xp6(2),u.Oqu(e.description)}}let zA=(()=>{class n{constructor(){for(var e of(this.friends=[],WA))console.log(e),this.friends.push(e)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-friends"]],decls:22,vars:1,consts:[[1,"dark","noBg","no-padding"],[1,"container-full-width","no-padding"],[1,"cpntainer-fluid"],[1,"d-flex","justify-content-left"],[1,"row"],[1,"col-4"],[1,"col-12"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",">"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#",1,"text-white"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container-fluid","justify-content-center"],[1,"conatiner-fluid","d-flex","justify-content-center"],[1,"row","row-cols-1","row-cols-md-3","g-4"],[4,"ngFor","ngForOf"],[1,"col"],[1,"card","bg-dark",2,"margin-left","40px","margin-right","40px","margin-bottom","40px","color","white"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(e,s){1&e&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._UZ(5,"div",5),u.TgZ(6,"div",6)(7,"nav",7)(8,"ol",8)(9,"li",9)(10,"a",10),u._uU(11," Home "),u.qZA()(),u.TgZ(12,"li",11),u._uU(13," Friends "),u.qZA()()()()()()(),u.TgZ(14,"div",12)(15,"div",13)(16,"h1"),u._uU(17,"My Friends List:"),u.qZA()()(),u.TgZ(18,"h1"),u._uU(19,"\xa0 \xa0 \xa0 \xa0"),u.qZA(),u.TgZ(20,"div",14),u.YNc(21,GA,13,5,"div",15),u.qZA()()()),2&e&&(u.xp6(21),u.Q6J("ngForOf",s.friends))},dependencies:[Vr]}),n})(),ZA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profile-layout"]],decls:45,vars:0,consts:[[1,"container-full-width","no-padding"],[1,"cpntainer-fluid"],[1,"d-flex","justify-content-left"],[1,"row"],[1,"col-4"],[1,"col-12"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",">"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#",1,"text-white"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card","bg-dark"],[1,"row","g-0"],[1,"col-md-4"],["src","https://static.vecteezy.com/system/resources/previews/002/318/271/original/user-profile-icon-free-vector.jpg",1,"img-fluid","rounded-start",2,"width","10rem","height","10rem"],[1,"col-md-8"],[1,"card-body"],[1,"card-title",2,"color","white"],["href","discordapp.com/users/yourID",1,"btn","btn-link"],[1,"card-text",2,"color","white"],[1,"card-text"],[1,"text-muted"],["type","button",1,"btn","btn-outline-light"],["routerLink","Login","href","/login"],[1,"col"],["src","https://cdn1.epicgames.com/21916c391ae4425d8f6cce2382aebd0c/offer/EGS_DarkestDungeon_RedHookStudios_S2-1200x1600-1888311b95f43a3b02df2c452bd4ffee.jpg","alt","game1",2,"width","15rem","height","10rem"],["src","https://ksr-ugc.imgix.net/assets/005/549/131/e2dd49a185706db2a3fd267125783223_original.png?ixlib=rb-4.0.2&w=700&fit=max&v=1458234136&auto=format&frame=1&q=92&s=dfb77d75863ed2e273e62bc7897a1b5c","alt","game2",2,"width","15rem","height","10rem"],["src","https://cdn.akamai.steamstatic.com/steam/apps/730/capsule_616x353.jpg?t=1668125812","alt","game3",2,"width","15rem","height","10rem"],["src","https://assets2.ignimgs.com/2015/03/31/r6-siege-button-02jpg-b778df.jpg","alt","game4",2,"width","15rem","height","10rem"]],template:function(e,s){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"div",4),u.TgZ(5,"div",5)(6,"nav",6)(7,"ol",7)(8,"li",8)(9,"a",9),u._uU(10," Home "),u.qZA()(),u.TgZ(11,"li",10),u._uU(12,"Profile"),u.qZA()()()()()()(),u.TgZ(13,"div",11)(14,"div",12)(15,"div",13),u._UZ(16,"img",14),u.qZA(),u.TgZ(17,"div",15)(18,"div",16)(19,"h5",17),u._uU(20,"User Name"),u.qZA(),u.TgZ(21,"a",18),u._uU(22,"Discord info"),u.qZA(),u.TgZ(23,"p",19),u._uU(24," Bio "),u.qZA(),u.TgZ(25,"p",20)(26,"small",21),u._uU(27,"Last online 0 mins ago"),u.qZA()(),u.TgZ(28,"button",22),u._uU(29,"+follow"),u.qZA(),u.TgZ(30,"a",23)(31,"button",22),u._uU(32,"Login"),u.qZA()()()()()(),u.TgZ(33,"div",11)(34,"h5",17),u._uU(35,"Favorite Games"),u.qZA(),u.TgZ(36,"div",3)(37,"div",24),u._UZ(38,"img",25),u.qZA(),u.TgZ(39,"div",24),u._UZ(40,"img",26),u.qZA(),u.TgZ(41,"div",24),u._UZ(42,"img",27),u.qZA(),u.TgZ(43,"div",24),u._UZ(44,"img",28),u.qZA()()()())},styles:[".input-group[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}"]}),n})();class OT{}class xT{}class nl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const a=e.slice(0,s),d=a.toLowerCase(),p=e.slice(s+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const a=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...s),this.headers.set(e,a);break;case"d":const d=t.value;if(d){let p=this.headers.get(e);if(!p)return;p=p.filter(y=>-1===d.indexOf(y)),0===p.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,p)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qA{encodeKey(t){return kT(t)}encodeValue(t){return kT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const YA=/%(\d[a-f0-9])/gi,QA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kT(n){return encodeURIComponent(n).replace(YA,(t,e)=>QA[e]??t)}function HC(n){return`${n}`}class Au{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KA(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,y]=-1==d?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,d)),t.decodeValue(a.slice(d+1))],w=e.get(p)||[];w.push(y),e.set(p,w)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e],a=Array.isArray(s)?s.map(HC):[HC(s)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const a=t[s];Array.isArray(a)?a.forEach(d=>{e.push({param:s,value:d,op:"a"})}):e.push({param:s,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Au({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(HC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const a=s.indexOf(HC(t.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class JA{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function FT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LT(n){return typeof Blob<"u"&&n instanceof Blob}function UT(n){return typeof FormData<"u"&&n instanceof FormData}class w_{constructor(t,e,s,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function XA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,d=a):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new nl),this.context||(this.context=new JA),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+p}}else this.params=new Au,this.urlWithParams=e}serializeBody(){return null===this.body?null:FT(this.body)||LT(this.body)||UT(this.body)||function eS(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Au?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UT(this.body)?null:LT(this.body)?this.body.type||null:FT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Au?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,s=t.url||this.url,a=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,y=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let w=t.headers||this.headers,T=t.params||this.params;const H=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((V,Q)=>V.set(Q,t.setHeaders[Q]),w)),t.setParams&&(T=Object.keys(t.setParams).reduce((V,Q)=>V.set(Q,t.setParams[Q]),T)),new w_(e,s,d,{params:T,headers:w,context:H,reportProgress:y,responseType:a,withCredentials:p})}}var wr=(()=>((wr=wr||{})[wr.Sent=0]="Sent",wr[wr.UploadProgress=1]="UploadProgress",wr[wr.ResponseHeader=2]="ResponseHeader",wr[wr.DownloadProgress=3]="DownloadProgress",wr[wr.Response=4]="Response",wr[wr.User=5]="User",wr))();class HI{constructor(t,e=200,s="OK"){this.headers=t.headers||new nl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jI extends HI{constructor(t={}){super(t),this.type=wr.ResponseHeader}clone(t={}){return new jI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jC extends HI{constructor(t={}){super(t),this.type=wr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new jC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VT extends HI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $I(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let BT=(()=>{class n{constructor(e){this.handler=e}request(e,s,a={}){let d;if(e instanceof w_)d=e;else{let w,T;w=a.headers instanceof nl?a.headers:new nl(a.headers),a.params&&(T=a.params instanceof Au?a.params:new Au({fromObject:a.params})),d=new w_(e,s,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:T,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=lt(d).pipe(wi(w=>this.handler.handle(w)));if(e instanceof w_||"events"===a.observe)return p;const y=p.pipe(si(w=>w instanceof jC));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return y.pipe((0,ct.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return y.pipe((0,ct.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return y.pipe((0,ct.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return y.pipe((0,ct.U)(w=>w.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new Au).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,a={}){return this.request("PATCH",e,$I(a,s))}post(e,s,a={}){return this.request("POST",e,$I(a,s))}put(e,s,a={}){return this.request("PUT",e,$I(a,s))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(OT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class HT{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const jT=new u.OlP("HTTP_INTERCEPTORS");let tS=(()=>{class n{intercept(e,s){return s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nS=/^\)\]\}',?\n/;let $T=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vr.y(s=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((he,Ne)=>a.setRequestHeader(he,Ne.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const he=e.detectContentTypeHeader();null!==he&&a.setRequestHeader("Content-Type",he)}if(e.responseType){const he=e.responseType.toLowerCase();a.responseType="json"!==he?he:"text"}const d=e.serializeBody();let p=null;const y=()=>{if(null!==p)return p;const he=a.statusText||"OK",Ne=new nl(a.getAllResponseHeaders()),dt=function rS(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return p=new jI({headers:Ne,status:a.status,statusText:he,url:dt}),p},w=()=>{let{headers:he,status:Ne,statusText:dt,url:Dt}=y(),jt=null;204!==Ne&&(jt=typeof a.response>"u"?a.responseText:a.response),0===Ne&&(Ne=jt?200:0);let cn=Ne>=200&&Ne<300;if("json"===e.responseType&&"string"==typeof jt){const Nr=jt;jt=jt.replace(nS,"");try{jt=""!==jt?JSON.parse(jt):null}catch(Hn){jt=Nr,cn&&(cn=!1,jt={error:Hn,text:jt})}}cn?(s.next(new jC({body:jt,headers:he,status:Ne,statusText:dt,url:Dt||void 0})),s.complete()):s.error(new VT({error:jt,headers:he,status:Ne,statusText:dt,url:Dt||void 0}))},T=he=>{const{url:Ne}=y(),dt=new VT({error:he,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ne||void 0});s.error(dt)};let H=!1;const V=he=>{H||(s.next(y()),H=!0);let Ne={type:wr.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(Ne.total=he.total),"text"===e.responseType&&!!a.responseText&&(Ne.partialText=a.responseText),s.next(Ne)},Q=he=>{let Ne={type:wr.UploadProgress,loaded:he.loaded};he.lengthComputable&&(Ne.total=he.total),s.next(Ne)};return a.addEventListener("load",w),a.addEventListener("error",T),a.addEventListener("timeout",T),a.addEventListener("abort",T),e.reportProgress&&(a.addEventListener("progress",V),null!==d&&a.upload&&a.upload.addEventListener("progress",Q)),a.send(d),s.next({type:wr.Sent}),()=>{a.removeEventListener("error",T),a.removeEventListener("abort",T),a.removeEventListener("load",w),a.removeEventListener("timeout",T),e.reportProgress&&(a.removeEventListener("progress",V),null!==d&&a.upload&&a.upload.removeEventListener("progress",Q)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(os))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const WI=new u.OlP("XSRF_COOKIE_NAME"),GI=new u.OlP("XSRF_HEADER_NAME");class WT{}let iS=(()=>{class n{constructor(e,s,a){this.doc=e,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(u.Lbi),u.LFG(WI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),zI=(()=>{class n{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(WT),u.LFG(GI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),sS=(()=>{class n{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(jT,[]);this.chain=s.reduceRight((a,d)=>new HT(a,d),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(xT),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),oS=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:zI,useClass:tS}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:WI,useValue:e.cookieName}:[],e.headerName?{provide:GI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[zI,{provide:jT,useExisting:zI,multi:!0},{provide:WT,useClass:iS},{provide:WI,useValue:"XSRF-TOKEN"},{provide:GI,useValue:"X-XSRF-TOKEN"}]}),n})(),aS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[BT,{provide:OT,useClass:sS},$T,{provide:xT,useExisting:$T}],imports:[oS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),lS=(()=>{class n{constructor(e,s){this.db=e,this.http=s}getUpcomingPages(){return this.upcomingPagesRef=this.db.list("upcoming-games"),this.upcomingPagesRef}addGame(e){this.db.list("upcoming-games").push(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(el),u.LFG(BT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uS(n,t){if(1&n&&(u.TgZ(0,"li"),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.value," ")}}function cS(n,t){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td")(6,"ul"),u.YNc(7,uS,2,1,"li",19),u.ALo(8,"keyvalue"),u.qZA()(),u.TgZ(9,"td"),u._uU(10),u.qZA()()),2&n){const e=t.$implicit;u.xp6(2),u.Oqu(e.name),u.xp6(2),u.Oqu(e.description),u.xp6(3),u.Q6J("ngForOf",u.lcZ(8,4,e.tags)),u.xp6(3),u.Oqu(e.status)}}const dS=[{path:"",component:yy},{path:"homepage",component:yy},{path:"newspage",component:jA},{path:"favorite",component:$A},{path:"forum",component:GE},{path:"login",component:UA},{path:"friends",component:zA},{path:"profile",component:ZA},{path:"upcoming",component:(()=>{class n{constructor(e){this.requestService=e,this.upcomingPages=[]}ngOnInit(){this.requestService.getUpcomingPages().snapshotChanges().subscribe(e=>{this.upcomingPages=[],e.forEach(s=>{let a=s.payload.toJSON();this.upcomingPages.push(a)})})}addTitle(e){const s=e.tags.split(",");this.requestService.addGame({name:e.name,description:e.description,tags:s,status:"Approval Pending"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(lS))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-upcoming-games"]],decls:40,vars:1,consts:[["id","background"],[1,"centered",2,"background-color","rgb(165, 166, 192)","width","80%","height","300px"],[1,"centered",2,"font-size","45px","margin-left","360px"],["id","log-in-form",1,"justify-content-center",2,"width","70%","margin-left","auto","margin-right","auto","margin-top","50px",3,"ngSubmit"],["postForm","ngForm"],["id","name",2,"margin-right","10px","margin-left","190px","margin-bottom","10px"],["type","text","name","name","required","true","placeholder","Name","ngModel",""],["id","description",2,"margin-right","10px","margin-left","190px","margin-bottom","10px"],["type","text","name","description","required","true","placeholder","Description","ngModel",""],["id","tags",2,"margin-right","10px","margin-left","190px","margin-bottom","10px"],["type","text","name","tags","required","true","placeholder","Tags","ngModel",""],["type","submit",1,"btn","btn-secondary",2,"margin-left","350px"],["id","login-error",2,"color","red","margin-left","360px","font-size","24px"],[1,"container"],[1,"centered"],[1,"text-center",2,"color","rgb(165, 166, 192)"],[1,"container",2,"background-color","rgb(165, 166, 192)"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(e,s){if(1&e){const a=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"p",2),u._uU(3," Request New Game Page "),u.qZA(),u.TgZ(4,"form",3,4),u.NdJ("ngSubmit",function(){u.CHM(a);const p=u.MAs(5);return u.KtG(s.addTitle(p.value))}),u.TgZ(6,"label",5),u._uU(7,"Name:"),u.qZA(),u._UZ(8,"input",6)(9,"br"),u.TgZ(10,"label",7),u._uU(11,"Description:"),u.qZA(),u._UZ(12,"input",8)(13,"br"),u.TgZ(14,"label",9),u._uU(15,"Tags (Comma Seperated):"),u.qZA(),u._UZ(16,"input",10)(17,"br"),u.TgZ(18,"button",11),u._uU(19," Request New Game "),u.qZA()(),u._UZ(20,"p",12),u.qZA()(),u.TgZ(21,"div",13)(22,"div",0)(23,"div",14)(24,"h1",15),u._uU(25," Upcoming Games "),u.qZA()(),u.TgZ(26,"div",16)(27,"table",17)(28,"thead")(29,"tr")(30,"th",18),u._uU(31,"Name"),u.qZA(),u.TgZ(32,"th",18),u._uU(33,"Description"),u.qZA(),u.TgZ(34,"th",18),u._uU(35,"Tags"),u.qZA(),u.TgZ(36,"th",18),u._uU(37,"Status"),u.qZA()()(),u.TgZ(38,"tbody"),u.YNc(39,cS,11,6,"tr",19),u.qZA()()()()()}2&e&&(u.xp6(39),u.Q6J("ngForOf",s.upcomingPages))},dependencies:[Vr,E_,Du,ne,be,BC,VC,Sd,ca],styles:["#background[_ngcontent-%COMP%]{background-color:#313269;height:100%;width:100%;padding-top:50px;padding-bottom:50px}.centered[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),n})()}];let hS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gy.forRoot(dS),gy]}),n})(),fS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-topnavbar"]],decls:22,vars:0,consts:[["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"],[1,"navbar",2,"background-color","rgb(49, 50, 105)","width","1274px","height","87px"],[1,"container-fluid"],["routerLink","homepage",1,"navbar-brand"],["alt","MULT","src","/assets/mult.png","width","192","height","32",1,"img-responsive-main-logo"],[1,"navbar",2,"background-color","rgb(49, 50, 105)"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control.dark",2,"width","360px","height","34px"],["type","submit",1,"btn","btn",2,"width","30px","height","30px","color","#ffffff"],[1,"bi","bi-search"],["href","/login",1,"bi","bi-person-fill",2,"color","white","padding-right","10%"],[1,"container","d-flex"],[1,"row"],[1,"col-2"],[1,"col-10"]],template:function(e,s){1&e&&(u.TgZ(0,"head"),u._UZ(1,"link",0),u.qZA(),u.TgZ(2,"nav",1)(3,"div",2)(4,"a",3),u._UZ(5,"img",4),u.qZA(),u.TgZ(6,"nav",5)(7,"div",2)(8,"form",6),u._UZ(9,"input",7),u.TgZ(10,"button",8),u._UZ(11,"i",9),u.qZA()()()(),u.TgZ(12,"a",10),u._uU(13," Log in "),u.qZA()()(),u.TgZ(14,"div",11)(15,"div",12),u._UZ(16,"div",13)(17,"div",14),u.qZA()(),u.TgZ(18,"div",11)(19,"div",12),u._UZ(20,"div",13)(21,"div",14),u.qZA()())},dependencies:[Ha,E_,be,Sd],styles:["a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}input.form-control[_ngcontent-%COMP%]{background-color:#474545;padding-right:4rem}.navbar-brand[_ngcontent-%COMP%]{padding-left:10rem}.btn-group[_ngcontent-%COMP%]{padding-bottom:2rem}.card[_ngcontent-%COMP%]{border:0}"]}),n})(),pS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sec-nav-bar"]],decls:27,vars:0,consts:[[1,"navbar-justified",2,"background-color","black","height","45px"],["href","#",1,"navbar-brand"],[1,"container-fluid",2,"height","45px"],[1,"container",2,"height","45px"],[1,"text-center",2,"height","45px"],["role","group","aria-label","Basic outlined example",1,"btn-group"],["routerLink","homepage"],["type","button",1,"btn","btn",2,"color","#ffffff"],["routerLink","forum"],["routerLink","newspage"],["routerLink","favorite"],["routerLink","friends"],["routerLink","profile"],["routerLink","upcoming"]],template:function(e,s){1&e&&(u.TgZ(0,"nav",0),u._UZ(1,"a",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6)(7,"button",7),u._uU(8,"Home"),u.qZA()(),u.TgZ(9,"a",8)(10,"button",7),u._uU(11,"Forums"),u.qZA()(),u.TgZ(12,"a",9)(13,"button",7),u._uU(14,"News Page"),u.qZA()(),u.TgZ(15,"a",10)(16,"button",7),u._uU(17,"Favorite Games"),u.qZA()(),u.TgZ(18,"a",11)(19,"button",7),u._uU(20,"Friends"),u.qZA()(),u.TgZ(21,"a",12)(22,"button",7),u._uU(23,"Profile"),u.qZA()(),u.TgZ(24,"a",13)(25,"button",7),u._uU(26,"Upcoming"),u.qZA()()()()()()())},dependencies:[Ha],styles:[".btn[_ngcontent-%COMP%]{border-radius:0;height:45px}.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(rgb(0 0 0/40%) 0 0)}"]}),n})(),gS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bottomnav"]],decls:13,vars:0,consts:[[1,"navbar","container-fluid","navbar-dark",2,"background-color","#181818"],[1,"container","justify-content-center"],["src","assets/mult.png","width","220","height","54"],[1,"positio-bottom","fs-6","text-light"],["onclick","window.location.href=''",1,"btn"],["src","assets/facebook.png","width","40","height","40"],["src","assets/insta.png","width","40","height","40"],["src","assets/twitter.png","width","40","height","40"],["src","assets/youtube.png","width","40","height","40"]],template:function(e,s){1&e&&(u.TgZ(0,"nav",0)(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"p",3),u._uU(4," \xa0\xa0 \xa0 \xa0 \xa0\xa9 MUL-T, Inc. 2022 and Beyond. All rights reserved.\xa0\xa0 \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0"),u.qZA(),u.TgZ(5,"button",4),u._UZ(6,"img",5),u.qZA(),u.TgZ(7,"button",4),u._UZ(8,"img",6),u.qZA(),u.TgZ(9,"button",4),u._UZ(10,"img",7),u.qZA(),u.TgZ(11,"button",4),u._UZ(12,"img",8),u.qZA()()())}}),n})(),mS=(()=>{class n{constructor(){this.title="Mul-T-app"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[2,"background-color","rgb(49, 50, 105)"]],template:function(e,s){1&e&&(u.TgZ(0,"body",0)(1,"app-topnavbar"),u._uU(2,"Loading ... "),u.qZA(),u.TgZ(3,"app-sec-nav-bar"),u._uU(4,"Loading ..."),u.qZA(),u._UZ(5,"router-outlet"),u.qZA(),u.TgZ(6,"app-bottomnav"),u._uU(7,"Loading..."),u.qZA())},dependencies:[W_,fS,pS,gS]}),n})();var _S=O(6148);const ZI_firebase={apiKey:"AIzaSyCvbRhyWR10TEGtS6ecqH9KAB7uF3EDwUg",authDomain:"mul-t-80ec1.firebaseapp.com",databaseURL:"https://mul-t-80ec1-default-rtdb.firebaseio.com",projectId:"mul-t-80ec1",storageBucket:"mul-t-80ec1.appspot.com",messagingSenderId:"570560402076",appId:"1:570560402076:web:1b113e20dab65ad6715359",measurementId:"G-QJQSVSLD2P"},vS=(0,mo.ZF)({apiKey:"AIzaSyCvbRhyWR10TEGtS6ecqH9KAB7uF3EDwUg",authDomain:"mul-t-80ec1.firebaseapp.com",databaseURL:"https://mul-t-80ec1-default-rtdb.firebaseio.com",projectId:"mul-t-80ec1",storageBucket:"mul-t-80ec1.appspot.com",messagingSenderId:"570560402076",appId:"1:570560402076:web:1b113e20dab65ad6715359",measurementId:"G-QJQSVSLD2P"});(0,_S.IH)(vS);class zT{constructor(){return(0,Gn.vb)("auth")}}class YI{constructor(t){return t}}const ZT="database",QI=new u.OlP("angularfire2.database-instances");function DS(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new YI(s)}}const TS={provide:class bS{constructor(){return(0,Gn.vb)(ZT)}},deps:[[new u.FiY,QI]]},AS={provide:YI,useFactory:function IS(n,t){const e=(0,Gn.JM)(ZT,n,t);return e&&new YI(e)},deps:[[new u.FiY,QI],wu]};let SS=(()=>{class n{constructor(){(0,mo.KN)("angularfire",Gn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[AS,TS]}),n})();function MS(n,...t){return{ngModule:SS,providers:[{provide:QI,useFactory:DS(n),multi:!0,deps:[u.R0b,u.zs3,Gn.HU,Ur,[new u.FiY,zT],[new u.FiY,Iu],...t]}]}}const RS=(0,Gn.u3)(Pm,!0);let PS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[mS]}),n.\u0275inj=u.cJS({providers:[mC],imports:[Ao,hS,aS,Es.hO.initializeApp(ZI_firebase),gd(()=>x0(ZI_firebase)),MS(()=>RS()),KD,FA]}),n})();(0,u.G48)(),wa().bootstrapModule(PS).catch(n=>console.error(n))},6148:(it,Te,O)=>{O.d(Te,{IH:()=>Fn,Gb:()=>jn});var u=O(5861),U=O(9681),N=O(1877),te=O(2090),de=O(4859);O(2833);const oe="analytics",ce="firebase_id",G="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",q="https://www.googletagmanager.com/gtag/js",Me=new N.Yd("@firebase/analytics");function Ee(R){return Promise.all(R.map(S=>S.catch(I=>I)))}function we(R,S){const I=document.createElement("script");I.src=`${q}?l=${R}&id=${S}`,I.async=!0,document.head.appendChild(I)}function me(R,S,I,M,j,se){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(R,S,I,M,j,se){const Pe=M[j];try{if(Pe)yield S[Pe];else{const fe=(yield Ee(I)).find(De=>De.measurementId===j);fe&&(yield S[fe.appId])}}catch(Ve){Me.error(Ve)}R("config",j,se)})).apply(this,arguments)}function Ye(R,S,I,M,j){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(R,S,I,M,j){try{let se=[];if(j&&j.send_to){let Pe=j.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Ve=yield Ee(I);for(const fe of Pe){const De=Ve.find(Rt=>Rt.measurementId===fe),Qe=De&&S[De.appId];if(!Qe){se=[];break}se.push(Qe)}}0===se.length&&(se=Object.values(S)),yield Promise.all(se),R("event",M,j||{})}catch(se){Me.error(se)}})).apply(this,arguments)}function ve(R){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(q)&&I.src.includes(R))return I;return null}const X=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Y=new class K{constructor(S={},I=1e3){this.throttleMetadata=S,this.intervalMillis=I}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,I){this.throttleMetadata[S]=I}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function le(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function re(R){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(R){var S;const{appId:I,apiKey:M}=R,j={method:"GET",headers:le(M)},se=G.replace("{app-id}",I),Pe=yield fetch(se,j);if(200!==Pe.status&&304!==Pe.status){let Ve="";try{const fe=yield Pe.json();null!==(S=fe.error)&&void 0!==S&&S.message&&(Ve=fe.error.message)}catch{}throw X.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Ve})}return Pe.json()})).apply(this,arguments)}function xe(R){return Je.apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(R,S=Y,I){const{appId:M,apiKey:j,measurementId:se}=R.options;if(!M)throw X.create("no-app-id");if(!j){if(se)return{measurementId:se,appId:M};throw X.create("no-api-key")}const Pe=S.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new pn;return setTimeout((0,u.Z)(function*(){Ve.abort()}),void 0!==I?I:6e4),xt({appId:M,apiKey:j,measurementId:se},Pe,Ve,S)})).apply(this,arguments)}function xt(R,S,I){return vt.apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(R,{throttleEndTimeMillis:S,backoffCount:I},M,j=Y){var se,Pe;const{appId:Ve,measurementId:fe}=R;try{yield Be(M,S)}catch(De){if(fe)return Me.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fe} provided in the "measurementId" field in the local Firebase config. [${null===(se=De)||void 0===se?void 0:se.message}]`),{appId:Ve,measurementId:fe};throw De}try{const De=yield re(R);return j.deleteThrottleMetadata(Ve),De}catch(De){const Qe=De;if(!Gt(Qe)){if(j.deleteThrottleMetadata(Ve),fe)return Me.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fe} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:Ve,measurementId:fe};throw De}const Rt=503===Number(null===(Pe=Qe?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,te.$s)(I,j.intervalMillis,30):(0,te.$s)(I,j.intervalMillis),pt={throttleEndTimeMillis:Date.now()+Rt,backoffCount:I+1};return j.setThrottleMetadata(Ve,pt),Me.debug(`Calling attemptFetch again in ${Rt} millis`),xt(R,pt,M,j)}})).apply(this,arguments)}function Be(R,S){return new Promise((I,M)=>{const j=Math.max(S-Date.now(),0),se=setTimeout(I,j);R.addEventListener(()=>{clearTimeout(se),M(X.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Gt(R){if(!(R instanceof te.ZR&&R.customData))return!1;const S=Number(R.customData.httpStatus);return 429===S||500===S||503===S||504===S}class pn{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let $t,yn;function It(){return(It=(0,u.Z)(function*(R,S,I,M,j){if(j&&j.global)R("event",I,M);else{const se=yield S;R("event",I,Object.assign(Object.assign({},M),{send_to:se}))}})).apply(this,arguments)}function $n(R){yn=R}function lr(R){$t=R}function ze(){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(){var R;if(!(0,te.hl)())return Me.warn(X.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(S){return Me.warn(X.create("indexeddb-unavailable",{errorInfo:null===(R=S)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(R,S,I,M,j,se,Pe){var Ve;const fe=xe(R);fe.then(Tt=>{I[Tt.measurementId]=Tt.appId,R.options.measurementId&&Tt.measurementId!==R.options.measurementId&&Me.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Tt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tt=>Me.error(Tt)),S.push(fe);const De=ze().then(Tt=>{if(Tt)return M.getId()}),[Qe,Rt]=yield Promise.all([fe,De]);ve(se)||we(se,Qe.measurementId),yn&&(j("consent","default",yn),$n(void 0)),j("js",new Date);const pt=null!==(Ve=Pe?.config)&&void 0!==Ve?Ve:{};return pt.origin="firebase",pt.update=!0,null!=Rt&&(pt[ce]=Rt),j("config",Qe.measurementId,pt),$t&&(j("set",$t),lr(void 0)),Qe.measurementId})).apply(this,arguments)}class xn{constructor(S){this.app=S}_delete(){return delete zn[this.app.options.appId],Promise.resolve()}}let zn={},Yt=[];const rn={};let Xe,et,Vt="dataLayer",Xt=!1;function ft(R,S,I){!function kn(){const R=[];if((0,te.ru)()&&R.push("This is a browser extension environment."),(0,te.zI)()||R.push("Cookies are not available."),R.length>0){const S=R.map((M,j)=>`(${j+1}) ${M}`).join(" "),I=X.create("invalid-analytics-context",{errorInfo:S});Me.warn(I.message)}}();const M=R.options.appId;if(!M)throw X.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw X.create("no-api-key");Me.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zn[M])throw X.create("already-exists",{id:M});if(!Xt){!function We(R){let S=[];Array.isArray(window[R])?S=window[R]:window[R]=S}(Vt);const{wrappedGtag:se,gtagCore:Pe}=function Ae(R,S,I,M,j){let se=function(...Pe){window[M].push(arguments)};return window[j]&&"function"==typeof window[j]&&(se=window[j]),window[j]=function Re(R,S,I,M){function se(){return(se=(0,u.Z)(function*(Pe,Ve,fe){try{"event"===Pe?yield Ye(R,S,I,Ve,fe):"config"===Pe?yield me(R,S,I,M,Ve,fe):"consent"===Pe?R("consent","update",fe):R("set",Ve)}catch(De){Me.error(De)}})).apply(this,arguments)}return function j(Pe,Ve,fe){return se.apply(this,arguments)}}(se,R,S,I),{gtagCore:se,wrappedGtag:window[j]}}(zn,Yt,rn,Vt,"gtag");et=se,Xe=Pe,Xt=!0}return zn[M]=function gn(R,S,I,M,j,se,Pe){return Zt.apply(this,arguments)}(R,Yt,rn,S,Xe,Vt,I),new xn(R)}function Fn(R=(0,U.getApp)()){R=(0,te.m9)(R);const S=(0,U._getProvider)(R,oe);return S.isInitialized()?S.getImmediate():function mt(R,S={}){const I=(0,U._getProvider)(R,oe);if(I.isInitialized()){const j=I.getImmediate();if((0,te.vZ)(S,I.getOptions()))return j;throw X.create("already-initialized")}return I.initialize({options:S})}(R)}function jn(){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const St="@firebase/analytics",$="0.8.4";!function B(){(0,U._registerComponent)(new de.wA(oe,(S,{options:I})=>ft(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,U._registerComponent)(new de.wA("analytics-internal",function R(S){try{const I=S.getProvider(oe).getImmediate();return{logEvent:(M,j,se)=>function ot(R,S,I,M){R=(0,te.m9)(R),function kt(R,S,I,M,j){return It.apply(this,arguments)}(et,zn[R.app.options.appId],S,I,M).catch(j=>Me.error(j))}(I,M,j,se)}}catch(I){throw X.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,U.registerVersion)(St,$),(0,U.registerVersion)(St,$,"esm2017")}()},5867:(it,Te,O)=>{O.d(Te,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=O(9681);(0,u.registerVersion)("firebase","9.14.0","app")},127:(it,Te,O)=>{O.d(Te,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(it,Te,O)=>{O.r(Te);var u=O(5861),U=O(3942),N=O(8247),te=O(2090),oe=(O(9681),O(1877),O(4859));function ce(){return window}function G(){return(G=(0,u.Z)(function*(S,I,M){var j;const{BuildInfo:se}=ce();(0,N.ap)(I.sessionId,"AuthEvent did not contain a session ID");const Pe=yield ae(I.sessionId),Ve={};return(0,N.aq)()?Ve.ibi=se.packageName:(0,N.ar)()?Ve.apn=se.packageName:(0,N.as)(S,"operation-not-supported-in-this-environment"),se.displayName&&(Ve.appDisplayName=se.displayName),Ve.sessionId=Pe,(0,N.at)(S,M,I.type,void 0,null!==(j=I.eventId)&&void 0!==j?j:void 0,Ve)})).apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(S){const{BuildInfo:I}=ce(),M={};(0,N.aq)()?M.iosBundleId=I.packageName:(0,N.ar)()?M.androidPackageName=I.packageName:(0,N.as)(S,"operation-not-supported-in-this-environment"),yield(0,N.au)(S,M)})).apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(S,I,M){const{cordova:j}=ce();let se=()=>{};try{yield new Promise((Pe,Ve)=>{let fe=null;function De(){var pt;Pe();const Tt=null===(pt=j.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Tt&&Tt(),"function"==typeof M?.close&&M.close()}function Qe(){fe||(fe=window.setTimeout(()=>{Ve((0,N.aw)(S,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&Qe()}I.addPassiveListener(De),document.addEventListener("resume",Qe,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",Rt,!1),se=()=>{I.removePassiveListener(De),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",Rt,!1),fe&&window.clearTimeout(fe)}})}finally{se()}})).apply(this,arguments)}function ae(S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(S){const I=$e(S),M=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(M)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(S){if((0,N.ap)(/[0-9a-zA-Z]+/.test(S),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(S);const I=new ArrayBuffer(S.length),M=new Uint8Array(I);for(let j=0;j<S.length;j++)M[j]=S.charCodeAt(j);return M}class Ae extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(I)),super.onEvent(I)}initialized(){var I=this;return(0,u.Z)(function*(){yield I.initPromise})()}}function X(S){return ie.apply(this,arguments)}function ie(){return(ie=(0,u.Z)(function*(S){const I=yield Y()._get(le(S));return I&&(yield Y()._remove(le(S))),I})).apply(this,arguments)}function K(){const S=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<20;M++){const j=Math.floor(Math.random()*I.length);S.push(I.charAt(j))}return S.join("")}function Y(){return(0,N.az)(N.b)}function le(S){return(0,N.aA)("authEvent",S.config.apiKey,S.name)}function xe(S){if(!S?.includes("?"))return{};const[I,...M]=S.split("?");return(0,te.zd)(M.join("?"))}function Be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function It(){var S;return(null===(S=self?.location)||void 0===S?void 0:S.protocol)||null}function nn(S=(0,te.z$)()){return!("file:"!==It()&&"ionic:"!==It()&&"capacitor:"!==It()||!S.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const S=self.localStorage,I=N.aI();if(S)return S.setItem(I,"1"),S.removeItem(I),!function An(S=(0,te.z$)()){return function _r(){return(0,te.w1)()&&11===document?.documentMode}()||function dn(S=(0,te.z$)()){return/Edge\/\d+/.test(S)}(S)}()||(0,te.hl)()}catch{return wn()&&(0,te.hl)()}return!1}function wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function ut(){return"http:"===It()||"https:"===It()}()||(0,te.ru)()||nn())&&!function ar(){return(0,te.b$)()||(0,te.UG)()}()&&Qn()&&!wn()}function $n(){return nn()&&typeof document<"u"}function ze(){return(ze=(0,u.Z)(function*(){return!!$n()&&new Promise(S=>{const I=setTimeout(()=>{S(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),S(!0)})})})).apply(this,arguments)}const gn={LOCAL:"local",NONE:"none",SESSION:"session"},Zt=N.ax,xn="persistence";function Yt(S){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(S){yield S._initializationPromise;const I=nt(),M=N.aA(xn,S.config.apiKey,S.name);I&&I.setItem(M,S._getPersistence())})).apply(this,arguments)}function nt(){var S;try{return(null===(S=function qt(){return typeof window<"u"?window:null}())||void 0===S?void 0:S.sessionStorage)||null}catch{return null}}const Xe=N.ax;class et{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(class xt{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(I){var M=this;return(0,u.Z)(function*(){const j=I._key();let se=M.eventManagers.get(j);return se||(se=new Ae(I),M.eventManagers.set(j,se),M.attachCallbackListeners(I,se)),se})()}_openPopup(I){(0,N.as)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,M,j,se){var Pe=this;return(0,u.Z)(function*(){!function me(S){var I,M,j,se,Pe,Ve,fe,De,Qe,Rt;const pt=ce();(0,N.ax)("function"==typeof(null===(I=pt?.universalLinks)||void 0===I?void 0:I.subscribe),S,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(M=pt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(Pe=null===(se=null===(j=pt?.cordova)||void 0===j?void 0:j.plugins)||void 0===se?void 0:se.browsertab)||void 0===Pe?void 0:Pe.openUrl),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(De=null===(fe=null===(Ve=pt?.cordova)||void 0===Ve?void 0:Ve.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===De?void 0:De.isAvailable),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Rt=null===(Qe=pt?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===Rt?void 0:Rt.open),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const Ve=yield Pe._initialize(I);yield Ve.initialized(),Ve.resetRedirect(),(0,N.aD)(),yield Pe._originValidation(I);const fe=function ve(S,I,M=null){return{type:I,eventId:M,urlResponse:null,sessionId:K(),postBody:null,tenantId:S.tenantId,error:(0,N.aw)(S,"no-auth-event")}}(I,j,se);yield function He(S,I){return Y()._set(le(S),I)}(I,fe);const De=yield function W(S,I,M){return G.apply(this,arguments)}(I,fe,M),Qe=yield function Ee(S){const{cordova:I}=ce();return new Promise(M=>{I.plugins.browsertab.isAvailable(j=>{let se=null;j?I.plugins.browsertab.openUrl(S):se=I.InAppBrowser.open(S,(0,N.av)()?"_blank":"_system","location=yes"),M(se)})})}(De);return function we(S,I,M){return We.apply(this,arguments)}(I,Ve,Qe)})()}_isIframeWebStorageSupported(I,M){throw new Error("Method not implemented.")}_originValidation(I){const M=I._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function q(S){return Me.apply(this,arguments)}(I)),this.originValidationPromises[M]}attachCallbackListeners(I,M){const{universalLinks:j,handleOpenURL:se,BuildInfo:Pe}=ce(),Ve=setTimeout((0,u.Z)(function*(){yield X(I),M.onEvent(Be())}),500),fe=function(){var Rt=(0,u.Z)(function*(pt){clearTimeout(Ve);const Tt=yield X(I);let br=null;Tt&&pt?.url&&(br=function _e(S,I){var M,j;const se=function Fe(S){const I=xe(S),M=I.link?decodeURIComponent(I.link):void 0,j=xe(M).link,se=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return xe(se).link||se||j||M||S}(I);if(se.includes("/__/auth/callback")){const Pe=xe(se),Ve=Pe.firebaseError?function re(S){try{return JSON.parse(S)}catch{return null}}(decodeURIComponent(Pe.firebaseError)):null,fe=null===(j=null===(M=Ve?.code)||void 0===M?void 0:M.split("auth/"))||void 0===j?void 0:j[1],De=fe?(0,N.aw)(fe):null;return De?{type:S.type,eventId:S.eventId,tenantId:S.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:S.type,eventId:S.eventId,tenantId:S.tenantId,sessionId:S.sessionId,urlResponse:se,postBody:null}}return null}(Tt,pt.url)),M.onEvent(br||Be())});return function(Tt){return Rt.apply(this,arguments)}}();typeof j<"u"&&"function"==typeof j.subscribe&&j.subscribe(null,fe);const De=se,Qe=`${Pe.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var Rt=(0,u.Z)(function*(pt){if(pt.toLowerCase().startsWith(Qe)&&fe({url:pt}),"function"==typeof De)try{De(pt)}catch(Tt){console.error(Tt)}});return function(pt){return Rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(I){var M=this;return(0,u.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,M,j,se){var Pe=this;return(0,u.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openPopup(I,M,j,se)})()}_openRedirect(I,M,j,se){var Pe=this;return(0,u.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openRedirect(I,M,j,se)})()}_isIframeWebStorageSupported(I,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,M)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return $n()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,u.Z)(function*(){if(I.underlyingResolver)return;const M=yield function lr(){return ze.apply(this,arguments)}();I.underlyingResolver=M?I.cordovaResolver:I.browserResolver})()}}function Xt(S){return S.unwrap()}function kn(S){return Fn(S)}function Fn(S){const{_tokenResponse:I}=S instanceof te.ZR?S.customData:S;if(!I)return null;if(!(S instanceof te.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return N.P.credentialFromResult(S);const M=I.providerId;if(!M||M===N.o.PASSWORD)return null;let j;switch(M){case N.o.GOOGLE:j=N.Q;break;case N.o.FACEBOOK:j=N.N;break;case N.o.GITHUB:j=N.T;break;case N.o.TWITTER:j=N.W;break;default:const{oauthIdToken:se,oauthAccessToken:Pe,oauthTokenSecret:Ve,pendingToken:fe,nonce:De}=I;return Pe||Ve||se||fe?fe?M.startsWith("saml.")?N.aL._create(M,fe):N.J._fromParams({providerId:M,signInMethod:M,pendingToken:fe,idToken:se,accessToken:Pe}):new N.U(M).credential({idToken:se,accessToken:Pe,rawNonce:De}):null}return S instanceof te.ZR?j.credentialFromError(S):j.credentialFromResult(S)}function mt(S,I){return I.catch(M=>{throw M instanceof te.ZR&&function ft(S,I){var M,j;const se=null===(M=I.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===(null===(j=I)||void 0===j?void 0:j.code))I.resolver=new Mn(S,N.an(S,I));else if(se){const Pe=Fn(I),Ve=I;Pe&&(Ve.credential=Pe,Ve.tenantId=se.tenantId||void 0,Ve.email=se.email||void 0,Ve.phoneNumber=se.phoneNumber||void 0)}}(S,M),M}).then(M=>{const se=M.user;return{operationType:M.operationType,credential:kn(M),additionalUserInfo:N.al(M),user:on.getOrCreate(se)}})}function jn(S,I){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(S,I){const M=yield I;return{verificationId:M.verificationId,confirm:j=>mt(S,M.confirm(j))}})).apply(this,arguments)}class Mn{constructor(I,M){this.resolver=M,this.auth=function Sn(S){return S.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return mt(Xt(this.auth),this.resolver.resolveSignIn(I))}}class on{constructor(I){this._delegate=I,this.multiFactor=N.ao(I)}static getOrCreate(I){return on.USER_MAP.has(I)||on.USER_MAP.set(I,new on(I)),on.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var M=this;return(0,u.Z)(function*(){return mt(M.auth,N.Z(M._delegate,I))})()}linkWithPhoneNumber(I,M){var j=this;return(0,u.Z)(function*(){return jn(j.auth,N.l(j._delegate,I,M))})()}linkWithPopup(I){var M=this;return(0,u.Z)(function*(){return mt(M.auth,N.d(M._delegate,I,et))})()}linkWithRedirect(I){var M=this;return(0,u.Z)(function*(){return yield Yt(N.aE(M.auth)),N.g(M._delegate,I,et)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var M=this;return(0,u.Z)(function*(){return mt(M.auth,N._(M._delegate,I))})()}reauthenticateWithPhoneNumber(I,M){return jn(this.auth,N.r(this._delegate,I,M))}reauthenticateWithPopup(I){return mt(this.auth,N.e(this._delegate,I,et))}reauthenticateWithRedirect(I){var M=this;return(0,u.Z)(function*(){return yield Yt(N.aE(M.auth)),N.h(M._delegate,I,et)})()}sendEmailVerification(I){return N.ab(this._delegate,I)}unlink(I){var M=this;return(0,u.Z)(function*(){return yield N.ak(M._delegate,I),M})()}updateEmail(I){return N.ag(this._delegate,I)}updatePassword(I){return N.ah(this._delegate,I)}updatePhoneNumber(I){return N.u(this._delegate,I)}updateProfile(I){return N.af(this._delegate,I)}verifyBeforeUpdateEmail(I,M){return N.ac(this._delegate,I,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}on.USER_MAP=new WeakMap;const Ge=N.ax;let Ie=(()=>{class S{constructor(M,j){if(this.app=M,j.isInitialized())return this._delegate=j.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=M.options;Ge(se,"invalid-api-key",{appName:M.name}),Ge(se,"invalid-api-key",{appName:M.name});const Pe=typeof window<"u"?et:void 0;this._delegate=j.initialize({options:{persistence:ot(se,M.name),popupRedirectResolver:Pe}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?on.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,j){N.G(this._delegate,M,j)}applyActionCode(M){return N.a2(this._delegate,M)}checkActionCode(M){return N.a3(this._delegate,M)}confirmPasswordReset(M,j){return N.a1(this._delegate,M,j)}createUserWithEmailAndPassword(M,j){var se=this;return(0,u.Z)(function*(){return mt(se._delegate,N.a5(se._delegate,M,j))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return N.aa(this._delegate,M)}isSignInWithEmailLink(M){return N.a8(this._delegate,M)}getRedirectResult(){var M=this;return(0,u.Z)(function*(){Ge(yn(),M._delegate,"operation-not-supported-in-this-environment");const j=yield N.j(M._delegate,et);return j?mt(M._delegate,Promise.resolve(j)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function Gt(S,I){(0,N.aE)(S)._logFramework(I)}(this._delegate,M)}onAuthStateChanged(M,j,se){const{next:Pe,error:Ve,complete:fe}=qe(M,j,se);return this._delegate.onAuthStateChanged(Pe,Ve,fe)}onIdTokenChanged(M,j,se){const{next:Pe,error:Ve,complete:fe}=qe(M,j,se);return this._delegate.onIdTokenChanged(Pe,Ve,fe)}sendSignInLinkToEmail(M,j){return N.a7(this._delegate,M,j)}sendPasswordResetEmail(M,j){return N.a0(this._delegate,M,j||void 0)}setPersistence(M){var j=this;return(0,u.Z)(function*(){let se;switch(function zn(S,I){Zt(Object.values(gn).includes(I),S,"invalid-persistence-type"),(0,te.b$)()?Zt(I!==gn.SESSION,S,"unsupported-persistence-type"):(0,te.UG)()?Zt(I===gn.NONE,S,"unsupported-persistence-type"):wn()?Zt(I===gn.NONE||I===gn.LOCAL&&(0,te.hl)(),S,"unsupported-persistence-type"):Zt(I===gn.NONE||Qn(),S,"unsupported-persistence-type")}(j._delegate,M),M){case gn.SESSION:se=N.a;break;case gn.LOCAL:se=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case gn.NONE:se=N.L;break;default:return N.as("argument-error",{appName:j._delegate.name})}return j._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return mt(this._delegate,N.X(this._delegate))}signInWithCredential(M){return mt(this._delegate,N.Y(this._delegate,M))}signInWithCustomToken(M){return mt(this._delegate,N.$(this._delegate,M))}signInWithEmailAndPassword(M,j){return mt(this._delegate,N.a6(this._delegate,M,j))}signInWithEmailLink(M,j){return mt(this._delegate,N.a9(this._delegate,M,j))}signInWithPhoneNumber(M,j){return jn(this._delegate,N.s(this._delegate,M,j))}signInWithPopup(M){var j=this;return(0,u.Z)(function*(){return Ge(yn(),j._delegate,"operation-not-supported-in-this-environment"),mt(j._delegate,N.c(j._delegate,M,et))})()}signInWithRedirect(M){var j=this;return(0,u.Z)(function*(){return Ge(yn(),j._delegate,"operation-not-supported-in-this-environment"),yield Yt(j._delegate),N.f(j._delegate,M,et)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return N.a4(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return S.Persistence=gn,S})();function qe(S,I,M){let j=S;"function"!=typeof S&&({next:j,error:I,complete:M}=S);const se=j;return{next:Ve=>se(Ve&&on.getOrCreate(Ve)),error:I,complete:M}}function ot(S,I){const M=function Vt(S,I){const M=nt();if(!M)return[];const j=N.aA(xn,S,I);switch(M.getItem(j)){case gn.NONE:return[N.L];case gn.LOCAL:return[N.i,N.a];case gn.SESSION:return[N.a];default:return[]}}(S,I);if(typeof self<"u"&&!M.includes(N.i)&&M.push(N.i),typeof window<"u")for(const j of[N.b,N.a])M.includes(j)||M.push(j);return M.includes(N.L)||M.push(N.L),M}class ht{constructor(){this.providerId="phone",this._delegate=new N.P(Xt(U.Z.auth()))}static credential(I,M){return N.P.credential(I,M)}verifyPhoneNumber(I,M){return this._delegate.verifyPhoneNumber(I,M)}unwrap(){return this._delegate}}ht.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,ht.PROVIDER_ID=N.P.PROVIDER_ID;const St=N.ax;class ${constructor(I,M,j=U.Z.app()){var se;St(null===(se=j.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:j.name}),this._delegate=new N.R(I,M,j.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function R(S){S.INTERNAL.registerComponent(new oe.wA("auth-compat",I=>{const M=I.getProvider("app-compat").getImmediate(),j=I.getProvider("auth");return new Ie(M,j)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:ht,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:$,TwitterAuthProvider:N.W,Auth:Ie,AuthCredential:N.H,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),S.registerVersion("@firebase/auth-compat","0.2.24")}(U.Z)},9751:(it,Te,O)=>{O.d(Te,{y:()=>ce});var u=O(930),U=O(727),N=O(8822),te=O(9635),de=O(2416),ge=O(576),oe=O(2806);let ce=(()=>{class q{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const we=new q;return we.source=this,we.operator=Ee,we}subscribe(Ee,we,We){const me=function G(q){return q&&q instanceof u.Lv||function W(q){return q&&(0,ge.m)(q.next)&&(0,ge.m)(q.error)&&(0,ge.m)(q.complete)}(q)&&(0,U.Nn)(q)}(Ee)?Ee:new u.Hp(Ee,we,We);return(0,oe.x)(()=>{const{operator:ae,source:Ye}=this;me.add(ae?ae.call(me,Ye):Ye?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(we){Ee.error(we)}}forEach(Ee,we){return new(we=pe(we))((We,me)=>{const ae=new u.Hp({next:Ye=>{try{Ee(Ye)}catch($e){me($e),ae.unsubscribe()}},error:me,complete:We});this.subscribe(ae)})}_subscribe(Ee){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Ee)}[N.L](){return this}pipe(...Ee){return(0,te.U)(Ee)(this)}toPromise(Ee){return new(Ee=pe(Ee))((we,We)=>{let me;this.subscribe(ae=>me=ae,ae=>We(ae),()=>we(me))})}}return q.create=Me=>new q(Me),q})();function pe(q){var Me;return null!==(Me=q??de.v.Promise)&&void 0!==Me?Me:Promise}},7579:(it,Te,O)=>{O.d(Te,{x:()=>oe});var u=O(9751),U=O(727);const te=(0,O(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=O(8737),ge=O(2806);let oe=(()=>{class pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const q=new ce(this,this);return q.operator=G,q}_throwIfClosed(){if(this.closed)throw new te}next(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(G)}})}error(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:q}=this;for(;q.length;)q.shift().error(G)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:q,isStopped:Me,observers:Ee}=this;return q||Me?U.Lc:(this.currentObservers=null,Ee.push(G),new U.w0(()=>{this.currentObservers=null,(0,de.P)(Ee,G)}))}_checkFinalizedStatuses(G){const{hasError:q,thrownError:Me,isStopped:Ee}=this;q?G.error(Me):Ee&&G.complete()}asObservable(){const G=new u.y;return G.source=this,G}}return pe.create=(W,G)=>new ce(W,G),pe})();class ce extends oe{constructor(W,G){super(),this.destination=W,this.source=G}next(W){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===q||q.call(G,W)}error(W){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===q||q.call(G,W)}complete(){var W,G;null===(G=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===G||G.call(W)}_subscribe(W){var G,q;return null!==(q=null===(G=this.source)||void 0===G?void 0:G.subscribe(W))&&void 0!==q?q:U.Lc}}},930:(it,Te,O)=>{O.d(Te,{Hp:()=>We,Lv:()=>q});var u=O(576),U=O(727),N=O(2416),te=O(7849),de=O(5032);const ge=pe("C",void 0,void 0);function pe(Re,Ae,ve){return{kind:Re,value:Ae,error:ve}}var W=O(3410),G=O(2806);class q extends U.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,U.Nn)(Ae)&&Ae.add(this)):this.destination=$e}static create(Ae,ve,He){return new We(Ae,ve,He)}next(Ae){this.isStopped?Ye(function ce(Re){return pe("N",Re,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Ye(function oe(Re){return pe("E",void 0,Re)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Ye(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function Ee(Re,Ae){return Me.call(Re,Ae)}class we{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Ae)}catch(He){me(He)}}error(Ae){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Ae)}catch(He){me(He)}else me(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(ve){me(ve)}}}class We extends q{constructor(Ae,ve,He){let X;if(super(),(0,u.m)(Ae)||!Ae)X={next:Ae??void 0,error:ve??void 0,complete:He??void 0};else{let ie;this&&N.v.useDeprecatedNextContext?(ie=Object.create(Ae),ie.unsubscribe=()=>this.unsubscribe(),X={next:Ae.next&&Ee(Ae.next,ie),error:Ae.error&&Ee(Ae.error,ie),complete:Ae.complete&&Ee(Ae.complete,ie)}):X=Ae}this.destination=new we(X)}}function me(Re){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Re):(0,te.h)(Re)}function Ye(Re,Ae){const{onStoppedNotification:ve}=N.v;ve&&W.z.setTimeout(()=>ve(Re,Ae))}const $e={closed:!0,next:de.Z,error:function ae(Re){throw Re},complete:de.Z}},727:(it,Te,O)=>{O.d(Te,{Lc:()=>ge,w0:()=>de,Nn:()=>oe});var u=O(576);const N=(0,O(3888).d)(pe=>function(G){pe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((q,Me)=>`${Me+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var te=O(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ee of G)Ee.remove(this);else G.remove(this);const{initialTeardown:q}=this;if((0,u.m)(q))try{q()}catch(Ee){W=Ee instanceof N?Ee.errors:[Ee]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const Ee of Me)try{ce(Ee)}catch(we){W=W??[],we instanceof N?W=[...W,...we.errors]:W.push(we)}}if(W)throw new N(W)}}add(W){var G;if(W&&W!==this)if(this.closed)ce(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(W)}}_hasParent(W){const{_parentage:G}=this;return G===W||Array.isArray(G)&&G.includes(W)}_addParent(W){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(W),G):G?[G,W]:W}_removeParent(W){const{_parentage:G}=this;G===W?this._parentage=null:Array.isArray(G)&&(0,te.P)(G,W)}remove(W){const{_finalizers:G}=this;G&&(0,te.P)(G,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const pe=new de;return pe.closed=!0,pe})();const ge=de.EMPTY;function oe(pe){return pe instanceof de||pe&&"closed"in pe&&(0,u.m)(pe.remove)&&(0,u.m)(pe.add)&&(0,u.m)(pe.unsubscribe)}function ce(pe){(0,u.m)(pe)?pe():pe.unsubscribe()}},2416:(it,Te,O)=>{O.d(Te,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,Te,O)=>{O.d(Te,{E:()=>U});const U=new(O(9751).y)(de=>de.complete())},8996:(it,Te,O)=>{O.d(Te,{D:()=>Ae});var u=O(8421),U=O(5363),N=O(9468),ge=O(9751),ce=O(2202),pe=O(576),W=O(9672);function q(ve,He){if(!ve)throw new Error("Iterable cannot be null");return new ge.y(X=>{(0,W.f)(X,He,()=>{const ie=ve[Symbol.asyncIterator]();(0,W.f)(X,He,()=>{ie.next().then(_e=>{_e.done?X.complete():X.next(_e.value)})},0,!0)})})}var Me=O(3670),Ee=O(8239),we=O(1144),We=O(6495),me=O(2206),ae=O(4532),Ye=O(3260);function Ae(ve,He){return He?function Re(ve,He){if(null!=ve){if((0,Me.c)(ve))return function te(ve,He){return(0,u.Xf)(ve).pipe((0,N.R)(He),(0,U.Q)(He))}(ve,He);if((0,we.z)(ve))return function oe(ve,He){return new ge.y(X=>{let ie=0;return He.schedule(function(){ie===ve.length?X.complete():(X.next(ve[ie++]),X.closed||this.schedule())})})}(ve,He);if((0,Ee.t)(ve))return function de(ve,He){return(0,u.Xf)(ve).pipe((0,N.R)(He),(0,U.Q)(He))}(ve,He);if((0,me.D)(ve))return q(ve,He);if((0,We.T)(ve))return function G(ve,He){return new ge.y(X=>{let ie;return(0,W.f)(X,He,()=>{ie=ve[ce.h](),(0,W.f)(X,He,()=>{let _e,K;try{({value:_e,done:K}=ie.next())}catch(Y){return void X.error(Y)}K?X.complete():X.next(_e)},0,!0)}),()=>(0,pe.m)(ie?.return)&&ie.return()})}(ve,He);if((0,Ye.L)(ve))return function $e(ve,He){return q((0,Ye.Q)(ve),He)}(ve,He)}throw(0,ae.z)(ve)}(ve,He):(0,u.Xf)(ve)}},8421:(it,Te,O)=>{O.d(Te,{Xf:()=>Me});var u=O(655),U=O(1144),N=O(8239),te=O(9751),de=O(3670),ge=O(2206),oe=O(4532),ce=O(6495),pe=O(3260),W=O(576),G=O(7849),q=O(8822);function Me(Re){if(Re instanceof te.y)return Re;if(null!=Re){if((0,de.c)(Re))return function Ee(Re){return new te.y(Ae=>{const ve=Re[q.L]();if((0,W.m)(ve.subscribe))return ve.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,U.z)(Re))return function we(Re){return new te.y(Ae=>{for(let ve=0;ve<Re.length&&!Ae.closed;ve++)Ae.next(Re[ve]);Ae.complete()})}(Re);if((0,N.t)(Re))return function We(Re){return new te.y(Ae=>{Re.then(ve=>{Ae.closed||(Ae.next(ve),Ae.complete())},ve=>Ae.error(ve)).then(null,G.h)})}(Re);if((0,ge.D)(Re))return ae(Re);if((0,ce.T)(Re))return function me(Re){return new te.y(Ae=>{for(const ve of Re)if(Ae.next(ve),Ae.closed)return;Ae.complete()})}(Re);if((0,pe.L)(Re))return function Ye(Re){return ae((0,pe.Q)(Re))}(Re)}throw(0,oe.z)(Re)}function ae(Re){return new te.y(Ae=>{(function $e(Re,Ae){var ve,He,X,ie;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ve=(0,u.KL)(Re);!(He=yield ve.next()).done;)if(Ae.next(He.value),Ae.closed)return}catch(_e){X={error:_e}}finally{try{He&&!He.done&&(ie=ve.return)&&(yield ie.call(ve))}finally{if(X)throw X.error}}Ae.complete()})})(Re,Ae).catch(ve=>Ae.error(ve))})}},6451:(it,Te,O)=>{O.d(Te,{T:()=>ge});var u=O(8189),U=O(8421),N=O(515),te=O(7669),de=O(8996);function ge(...oe){const ce=(0,te.yG)(oe),pe=(0,te._6)(oe,1/0),W=oe;return W.length?1===W.length?(0,U.Xf)(W[0]):(0,u.J)(pe)((0,de.D)(W,ce)):N.E}},5403:(it,Te,O)=>{O.d(Te,{x:()=>U});var u=O(930);function U(te,de,ge,oe,ce){return new N(te,de,ge,oe,ce)}class N extends u.Lv{constructor(de,ge,oe,ce,pe,W){super(de),this.onFinalize=pe,this.shouldUnsubscribe=W,this._next=ge?function(G){try{ge(G)}catch(q){de.error(q)}}:super._next,this._error=ce?function(G){try{ce(G)}catch(q){de.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(G){de.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(it,Te,O)=>{O.d(Te,{U:()=>N});var u=O(4482),U=O(5403);function N(te,de){return(0,u.e)((ge,oe)=>{let ce=0;ge.subscribe((0,U.x)(oe,pe=>{oe.next(te.call(de,pe,ce++))}))})}},8189:(it,Te,O)=>{O.d(Te,{J:()=>N});var u=O(5577),U=O(4671);function N(te=1/0){return(0,u.z)(U.y,te)}},5577:(it,Te,O)=>{O.d(Te,{z:()=>ce});var u=O(4004),U=O(8421),N=O(4482),te=O(9672),de=O(5403),oe=O(576);function ce(pe,W,G=1/0){return(0,oe.m)(W)?ce((q,Me)=>(0,u.U)((Ee,we)=>W(q,Ee,Me,we))((0,U.Xf)(pe(q,Me))),G):("number"==typeof W&&(G=W),(0,N.e)((q,Me)=>function ge(pe,W,G,q,Me,Ee,we,We){const me=[];let ae=0,Ye=0,$e=!1;const Re=()=>{$e&&!me.length&&!ae&&W.complete()},Ae=He=>ae<q?ve(He):me.push(He),ve=He=>{Ee&&W.next(He),ae++;let X=!1;(0,U.Xf)(G(He,Ye++)).subscribe((0,de.x)(W,ie=>{Me?.(ie),Ee?Ae(ie):W.next(ie)},()=>{X=!0},void 0,()=>{if(X)try{for(ae--;me.length&&ae<q;){const ie=me.shift();we?(0,te.f)(W,we,()=>ve(ie)):ve(ie)}Re()}catch(ie){W.error(ie)}}))};return pe.subscribe((0,de.x)(W,Ae,()=>{$e=!0,Re()})),()=>{We?.()}}(q,Me,pe,G)))}},5363:(it,Te,O)=>{O.d(Te,{Q:()=>te});var u=O(9672),U=O(4482),N=O(5403);function te(de,ge=0){return(0,U.e)((oe,ce)=>{oe.subscribe((0,N.x)(ce,pe=>(0,u.f)(ce,de,()=>ce.next(pe),ge),()=>(0,u.f)(ce,de,()=>ce.complete(),ge),pe=>(0,u.f)(ce,de,()=>ce.error(pe),ge)))})}},3099:(it,Te,O)=>{O.d(Te,{B:()=>de});var u=O(8421),U=O(7579),N=O(930),te=O(4482);function de(oe={}){const{connector:ce=(()=>new U.x),resetOnError:pe=!0,resetOnComplete:W=!0,resetOnRefCountZero:G=!0}=oe;return q=>{let Me,Ee,we,We=0,me=!1,ae=!1;const Ye=()=>{Ee?.unsubscribe(),Ee=void 0},$e=()=>{Ye(),Me=we=void 0,me=ae=!1},Re=()=>{const Ae=Me;$e(),Ae?.unsubscribe()};return(0,te.e)((Ae,ve)=>{We++,!ae&&!me&&Ye();const He=we=we??ce();ve.add(()=>{We--,0===We&&!ae&&!me&&(Ee=ge(Re,G))}),He.subscribe(ve),!Me&&We>0&&(Me=new N.Hp({next:X=>He.next(X),error:X=>{ae=!0,Ye(),Ee=ge($e,pe,X),He.error(X)},complete:()=>{me=!0,Ye(),Ee=ge($e,W),He.complete()}}),(0,u.Xf)(Ae).subscribe(Me))})(q)}}function ge(oe,ce,...pe){if(!0===ce)return void oe();if(!1===ce)return;const W=new N.Hp({next:()=>{W.unsubscribe(),oe()}});return ce(...pe).subscribe(W)}},9468:(it,Te,O)=>{O.d(Te,{R:()=>U});var u=O(4482);function U(N,te=0){return(0,u.e)((de,ge)=>{ge.add(N.schedule(()=>de.subscribe(ge),te))})}},8505:(it,Te,O)=>{O.d(Te,{b:()=>de});var u=O(576),U=O(4482),N=O(5403),te=O(4671);function de(ge,oe,ce){const pe=(0,u.m)(ge)||oe||ce?{next:ge,error:oe,complete:ce}:ge;return pe?(0,U.e)((W,G)=>{var q;null===(q=pe.subscribe)||void 0===q||q.call(pe);let Me=!0;W.subscribe((0,N.x)(G,Ee=>{var we;null===(we=pe.next)||void 0===we||we.call(pe,Ee),G.next(Ee)},()=>{var Ee;Me=!1,null===(Ee=pe.complete)||void 0===Ee||Ee.call(pe),G.complete()},Ee=>{var we;Me=!1,null===(we=pe.error)||void 0===we||we.call(pe,Ee),G.error(Ee)},()=>{var Ee,we;Me&&(null===(Ee=pe.unsubscribe)||void 0===Ee||Ee.call(pe)),null===(we=pe.finalize)||void 0===we||we.call(pe)}))}):te.y}},4408:(it,Te,O)=>{O.d(Te,{o:()=>de});var u=O(727);class U extends u.w0{constructor(oe,ce){super()}schedule(oe,ce=0){return this}}const N={setInterval(ge,oe,...ce){const{delegate:pe}=N;return pe?.setInterval?pe.setInterval(ge,oe,...ce):setInterval(ge,oe,...ce)},clearInterval(ge){const{delegate:oe}=N;return(oe?.clearInterval||clearInterval)(ge)},delegate:void 0};var te=O(8737);class de extends U{constructor(oe,ce){super(oe,ce),this.scheduler=oe,this.work=ce,this.pending=!1}schedule(oe,ce=0){if(this.closed)return this;this.state=oe;const pe=this.id,W=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(W,pe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(W,this.id,ce),this}requestAsyncId(oe,ce,pe=0){return N.setInterval(oe.flush.bind(oe,this),pe)}recycleAsyncId(oe,ce,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ce;N.clearInterval(ce)}execute(oe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(oe,ce);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ce){let W,pe=!1;try{this.work(oe)}catch(G){pe=!0,W=G||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ce}=this,{actions:pe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(pe,this),null!=oe&&(this.id=this.recycleAsyncId(ce,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,Te,O)=>{O.d(Te,{v:()=>N});var u=O(6063);class U{constructor(de,ge=U.now){this.schedulerActionCtor=de,this.now=ge}schedule(de,ge=0,oe){return new this.schedulerActionCtor(this,de).schedule(oe,ge)}}U.now=u.l.now;class N extends U{constructor(de,ge=U.now){super(de,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:ge}=this;if(this._active)return void ge.push(de);let oe;this._active=!0;do{if(oe=de.execute(de.state,de.delay))break}while(de=ge.shift());if(this._active=!1,oe){for(;de=ge.shift();)de.unsubscribe();throw oe}}}},4986:(it,Te,O)=>{O.d(Te,{z:()=>N});var u=O(4408);const N=new(O(7565).v)(u.o)},6063:(it,Te,O)=>{O.d(Te,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(it,Te,O)=>{O.d(Te,{z:()=>u});const u={setTimeout(U,N,...te){const{delegate:de}=u;return de?.setTimeout?de.setTimeout(U,N,...te):setTimeout(U,N,...te)},clearTimeout(U){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(it,Te,O)=>{O.d(Te,{h:()=>U});const U=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,Te,O)=>{O.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(it,Te,O)=>{O.d(Te,{_6:()=>ge,jO:()=>te,yG:()=>de});var u=O(576);function N(oe){return oe[oe.length-1]}function te(oe){return(0,u.m)(N(oe))?oe.pop():void 0}function de(oe){return function U(oe){return oe&&(0,u.m)(oe.schedule)}(N(oe))?oe.pop():void 0}function ge(oe,ce){return"number"==typeof N(oe)?oe.pop():ce}},8737:(it,Te,O)=>{function u(U,N){if(U){const te=U.indexOf(N);0<=te&&U.splice(te,1)}}O.d(Te,{P:()=>u})},3888:(it,Te,O)=>{function u(U){const te=U(de=>{Error.call(de),de.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}O.d(Te,{d:()=>u})},2806:(it,Te,O)=>{O.d(Te,{O:()=>te,x:()=>N});var u=O(2416);let U=null;function N(de){if(u.v.useDeprecatedSynchronousErrorHandling){const ge=!U;if(ge&&(U={errorThrown:!1,error:null}),de(),ge){const{errorThrown:oe,error:ce}=U;if(U=null,oe)throw ce}}else de()}function te(de){u.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=de)}},9672:(it,Te,O)=>{function u(U,N,te,de=0,ge=!1){const oe=N.schedule(function(){te(),ge?U.add(this.schedule(null,de)):this.unsubscribe()},de);if(U.add(oe),!ge)return oe}O.d(Te,{f:()=>u})},4671:(it,Te,O)=>{function u(U){return U}O.d(Te,{y:()=>u})},1144:(it,Te,O)=>{O.d(Te,{z:()=>u});const u=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(it,Te,O)=>{O.d(Te,{D:()=>U});var u=O(576);function U(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(it,Te,O)=>{function u(U){return"function"==typeof U}O.d(Te,{m:()=>u})},3670:(it,Te,O)=>{O.d(Te,{c:()=>N});var u=O(8822),U=O(576);function N(te){return(0,U.m)(te[u.L])}},6495:(it,Te,O)=>{O.d(Te,{T:()=>N});var u=O(2202),U=O(576);function N(te){return(0,U.m)(te?.[u.h])}},8239:(it,Te,O)=>{O.d(Te,{t:()=>U});var u=O(576);function U(N){return(0,u.m)(N?.then)}},3260:(it,Te,O)=>{O.d(Te,{L:()=>te,Q:()=>N});var u=O(655),U=O(576);function N(de){return(0,u.FC)(this,arguments,function*(){const oe=de.getReader();try{for(;;){const{value:ce,done:pe}=yield(0,u.qq)(oe.read());if(pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{oe.releaseLock()}})}function te(de){return(0,U.m)(de?.getReader)}},4482:(it,Te,O)=>{O.d(Te,{A:()=>U,e:()=>N});var u=O(576);function U(te){return(0,u.m)(te?.lift)}function N(te){return de=>{if(U(de))return de.lift(function(ge){try{return te(ge,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,Te,O)=>{function u(){}O.d(Te,{Z:()=>u})},9635:(it,Te,O)=>{O.d(Te,{U:()=>N,z:()=>U});var u=O(4671);function U(...te){return N(te)}function N(te){return 0===te.length?u.y:1===te.length?te[0]:function(ge){return te.reduce((oe,ce)=>ce(oe),ge)}}},7849:(it,Te,O)=>{O.d(Te,{h:()=>N});var u=O(2416),U=O(3410);function N(te){U.z.setTimeout(()=>{const{onUnhandledError:de}=u.v;if(!de)throw te;de(te)})}},4532:(it,Te,O)=>{function u(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Te,{z:()=>u})},655:(it,Te,O)=>{function te(K,Y){var le={};for(var re in K)Object.prototype.hasOwnProperty.call(K,re)&&Y.indexOf(re)<0&&(le[re]=K[re]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(re=Object.getOwnPropertySymbols(K);Fe<re.length;Fe++)Y.indexOf(re[Fe])<0&&Object.prototype.propertyIsEnumerable.call(K,re[Fe])&&(le[re[Fe]]=K[re[Fe]])}return le}function ce(K,Y,le,re){return new(le||(le=Promise))(function(xe,Je){function xt(Gt){try{Be(re.next(Gt))}catch(pn){Je(pn)}}function vt(Gt){try{Be(re.throw(Gt))}catch(pn){Je(pn)}}function Be(Gt){Gt.done?xe(Gt.value):function Fe(xe){return xe instanceof le?xe:new le(function(Je){Je(xe)})}(Gt.value).then(xt,vt)}Be((re=re.apply(K,Y||[])).next())})}function me(K){return this instanceof me?(this.v=K,this):new me(K)}function ae(K,Y,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,re=le.apply(K,Y||[]),xe=[];return Fe={},Je("next"),Je("throw"),Je("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Je($t){re[$t]&&(Fe[$t]=function(kt){return new Promise(function(It,ut){xe.push([$t,kt,It,ut])>1||xt($t,kt)})})}function xt($t,kt){try{!function vt($t){$t.value instanceof me?Promise.resolve($t.value.v).then(Be,Gt):pn(xe[0][2],$t)}(re[$t](kt))}catch(It){pn(xe[0][3],It)}}function Be($t){xt("next",$t)}function Gt($t){xt("throw",$t)}function pn($t,kt){$t(kt),xe.shift(),xe.length&&xt(xe[0][0],xe[0][1])}}function $e(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Y=K[Symbol.asyncIterator];return Y?Y.call(K):(K=function q(K){var Y="function"==typeof Symbol&&Symbol.iterator,le=Y&&K[Y],re=0;if(le)return le.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&re>=K.length&&(K=void 0),{value:K&&K[re++],done:!K}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),le={},re("next"),re("throw"),re("return"),le[Symbol.asyncIterator]=function(){return this},le);function re(xe){le[xe]=K[xe]&&function(Je){return new Promise(function(xt,vt){!function Fe(xe,Je,xt,vt){Promise.resolve(vt).then(function(Be){xe({value:Be,done:xt})},Je)}(xt,vt,(Je=K[xe](Je)).done,Je.value)})}}}O.d(Te,{FC:()=>ae,KL:()=>$e,_T:()=>te,mG:()=>ce,qq:()=>me})},4650:(it,Te,O)=>{O.d(Te,{$8M:()=>Cl,$Z:()=>Ay,AFp:()=>$f,ALo:()=>Mi,AaK:()=>ce,CHM:()=>bn,CRH:()=>R0,CZH:()=>Cd,CqO:()=>fv,D6c:()=>TC,EJc:()=>J0,EpF:()=>Jo,F4k:()=>ho,FYo:()=>iE,FiY:()=>Un,G48:()=>cI,GfV:()=>G_,Gpc:()=>G,JOm:()=>ys,KtG:()=>wt,LFG:()=>In,LSH:()=>pc,Lbi:()=>Qm,Lck:()=>u0,MAs:()=>hv,MMx:()=>ld,NdJ:()=>Lg,OlP:()=>mn,Oqu:()=>Yg,PXZ:()=>jD,Q6J:()=>Kh,QGY:()=>Xo,QP$:()=>se,Qsj:()=>Fp,R0b:()=>Pi,RDi:()=>oh,Rgc:()=>Eu,SBq:()=>gh,Sil:()=>Qb,Suo:()=>fd,TTD:()=>Oi,TgZ:()=>Yh,X6Q:()=>WD,XFs:()=>ze,Xpm:()=>Ie,Xts:()=>Sp,Y36:()=>io,YKP:()=>Dm,YNc:()=>qh,Yjl:()=>S,Yz7:()=>kt,Z0I:()=>ar,ZZ4:()=>Er,_Bn:()=>fi,_UZ:()=>Yc,_Vd:()=>Ec,_c5:()=>IC,_uU:()=>Tv,aQg:()=>EC,c2e:()=>Kb,cJS:()=>ut,cg1:()=>hf,dDg:()=>HD,dqk:()=>et,eFA:()=>oC,ekj:()=>tf,eoX:()=>iC,f3M:()=>si,g9A:()=>Ed,h0i:()=>Ai,hGG:()=>DC,hij:()=>sf,iGM:()=>M0,ifc:()=>Xe,ip1:()=>Km,jDz:()=>c0,kL8:()=>sm,lG2:()=>R,lcZ:()=>Rm,lqb:()=>no,lri:()=>rI,n5z:()=>ds,oAB:()=>St,q4F:()=>mh,qLn:()=>yh,qOj:()=>zl,qZA:()=>jr,rWj:()=>Zf,s9C:()=>Vg,sBO:()=>dC,sIi:()=>Za,s_b:()=>Ff,soG:()=>_o,tb:()=>Wf,tp0:()=>Ks,uIk:()=>qa,vHH:()=>we,vpe:()=>Ss,wAp:()=>_t,xp6:()=>sg,z2F:()=>bd,zSh:()=>to,zs3:()=>$a});var u=O(7579),U=O(727),N=O(9751),te=O(6451),de=O(3099);function ge(r){for(let i in r)if(r[i]===ge)return i;throw Error("Could not find renamed property on target object.")}function oe(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function ce(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ce).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function pe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const W=ge({__forward_ref__:ge});function G(r){return r.__forward_ref__=G,r.toString=function(){return ce(this())},r}function q(r){return Me(r)?r():r}function Me(r){return"function"==typeof r&&r.hasOwnProperty(W)&&r.__forward_ref__===G}class we extends Error{constructor(i,o){super(function We(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function me(r){return"string"==typeof r?r:null==r?"":String(r)}function Ae(r,i){throw new we(-201,!1)}function vt(r,i){null==r&&function Be(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function kt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ut(r){return{providers:r.providers||[],imports:r.imports||[]}}function nn(r){return _r(r,wn)||_r(r,$n)}function ar(r){return null!==nn(r)}function _r(r,i){return r.hasOwnProperty(i)?r[i]:null}function Qn(r){return r&&(r.hasOwnProperty(yn)||r.hasOwnProperty(lr))?r[yn]:null}const wn=ge({\u0275prov:ge}),yn=ge({\u0275inj:ge}),$n=ge({ngInjectableDef:ge}),lr=ge({ngInjectorDef:ge});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let qt;function Zt(r){const i=qt;return qt=r,i}function xn(r,i,o){const l=nn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&ze.Optional?null:void 0!==i?i:void Ae(ce(r))}function Yt(r){return{toString:r}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),Xe=(()=>{return(r=Xe||(Xe={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Xe;var r})();const et=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kn={},ft=[],Fn=ge({\u0275cmp:ge}),mt=ge({\u0275dir:ge}),jn=ge({\u0275pipe:ge}),At=ge({\u0275mod:ge}),Mn=ge({\u0275fac:ge}),on=ge({__NG_ELEMENT_ID__:ge});let Ge=0;function Ie(r){return Yt(()=>{const o=!0===r.standalone,l={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ft,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Xe.Emulated,id:"c"+Ge++,styles:r.styles||ft,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.dependencies,m=r.features;return c.inputs=B(r.inputs,l),c.outputs=B(r.outputs),m&&m.forEach(v=>v(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(ot).filter(ht):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(j).filter(ht):null,c})}function ot(r){return I(r)||M(r)}function ht(r){return null!==r}function St(r){return Yt(()=>({type:r.type,bootstrap:r.bootstrap||ft,declarations:r.declarations||ft,imports:r.imports||ft,exports:r.exports||ft,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function B(r,i){if(null==r)return kn;const o={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=l,i&&(i[c]=h)}return o}const R=Ie;function S(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function I(r){return r[Fn]||null}function M(r){return r[mt]||null}function j(r){return r[jn]||null}function se(r){const i=I(r)||M(r)||j(r);return null!==i&&i.standalone}function Pe(r,i){const o=r[At]||null;if(!o&&!0===i)throw new Error(`Type ${ce(r)} does not have '\u0275mod' property.`);return o}function Zn(r){return Array.isArray(r)&&"object"==typeof r[1]}function cr(r){return Array.isArray(r)&&!0===r[1]}function mi(r){return 0!=(8&r.flags)}function ts(r){return 2==(2&r.flags)}function ns(r){return 1==(1&r.flags)}function Or(r){return null!==r.template}function vo(r){return 0!=(256&r[2])}function Xn(r,i){return r.hasOwnProperty(Mn)?r[Mn]:null}class ks{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Oi(){return da}function da(r){return r.type.prototype.ngOnChanges&&(r.setInput=bo),ha}function ha(){const r=is(this),i=r?.current;if(i){const o=r.previous;if(o===kn)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function bo(r,i,o,l){const c=is(r)||function pa(r,i){return r[fa]=i}(r,{previous:kn,current:null}),h=c.current||(c.current={}),m=c.previous,v=this.declaredInputs[o],E=m[v];h[v]=new ks(E&&E.currentValue,i,m===kn),r[l]=i}Oi.ngInherit=!0;const fa="__ngSimpleChanges__";function is(r){return r[fa]||null}function Rn(r){for(;Array.isArray(r);)r=r[0];return r}function $r(r,i){return Rn(i[r])}function hr(r,i){return Rn(i[r.index])}function os(r,i){return r.data[i]}function yr(r,i){return r[i]}function Jt(r,i){const o=i[r];return Zn(o)?o:o[0]}function yi(r){return 4==(4&r[2])}function ki(r){return 64==(64&r[2])}function Br(r,i){return null==i?null:r[i]}function Fs(r){r[18]=0}function Ls(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const bt={lFrame:Lu(null),bindingsEnabled:!0};function je(){return bt.bindingsEnabled}function Ce(){return bt.lFrame.lView}function Ct(){return bt.lFrame.tView}function bn(r){return bt.lFrame.contextLView=r,r[8]}function wt(r){return bt.lFrame.contextLView=null,r}function hn(){let r=Fi();for(;null!==r&&64===r.type;)r=r.parent;return r}function Fi(){return bt.lFrame.currentTNode}function er(r,i){const o=bt.lFrame;o.currentTNode=r,o.isParent=i}function vi(){return bt.lFrame.isParent}function ya(){return bt.lFrame.bindingIndex++}function Ud(r,i){const o=bt.lFrame;o.bindingIndex=o.bindingRootIndex=r,al(i)}function al(r){bt.lFrame.currentDirectiveIndex=r}function xu(){return bt.lFrame.currentQueryIndex}function ku(r){bt.lFrame.currentQueryIndex=r}function Fu(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function np(r,i,o){if(o&ze.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||o&ze.Host||(c=Fu(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const l=bt.lFrame=rp();return l.currentTNode=i,l.lView=r,!0}function ll(r){const i=rp(),o=r[1];bt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function rp(){const r=bt.lFrame,i=null===r?null:r.child;return null===i?Lu(r):i}function Lu(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function ip(){const r=bt.lFrame;return bt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Vd=ip;function Do(){const r=ip();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Pn(){return bt.lFrame.selectedIndex}function Vi(r){bt.lFrame.selectedIndex=r}function Nn(){const r=bt.lFrame;return os(r.tView,r.selectedIndex)}function va(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:A}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),b&&((r.viewHooks||(r.viewHooks=[])).push(o,b),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,b)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function cl(r,i,o){Bu(r,i,3,o)}function Vs(r,i,o,l){(3&r[2])===o&&Bu(r,i,o,l)}function Vu(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Bu(r,i,o,l){const h=l??-1,m=i.length-1;let v=0;for(let E=void 0!==l?65535&r[18]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=l&&v>=l)break}else i[E]<0&&(r[18]+=65536),(v<h||-1==h)&&(Bd(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function Bd(r,i,o,l){const c=o[l]<0,h=o[l+1],v=r[c?-o[l]:o[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Wr{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Bi(r,i,o){let l=0;for(;l<o.length;){const c=o[l];if("number"==typeof c){if(0!==c)break;l++;const h=o[l++],m=o[l++],v=o[l++];r.setAttribute(i,m,v,h)}else{const h=c,m=o[++l];Wu(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),l++}}return l}function $u(r){return 3===r||4===r||6===r}function Wu(r){return 64===r.charCodeAt(0)}function Ea(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?o=c:0===o||jd(r,o,c,null,-1===o||2===o?i[++l]:null)}}return r}function jd(r,i,o,l,c){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function hp(r){return-1!==r}function Bs(r){return 32767&r}function us(r,i){let o=function fp(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Gu=!0;function fl(r){const i=Gu;return Gu=r,i}let $d=0;const ri={};function Hs(r,i){const o=pl(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,zu(l.data,r),zu(i,null),zu(l.blueprint,null));const c=wa(r,i),h=r.injectorIndex;if(hp(c)){const m=Bs(c),v=us(c,i),E=v[1].data;for(let b=0;b<8;b++)i[h+b]=v[m+b]|E[m+b]}return i[h+8]=c,h}function zu(r,i){r.push(0,0,0,0,0,0,0,0,i)}function pl(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function wa(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,c=i;for(;null!==c;){if(l=vl(c),null===l)return-1;if(o++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function ba(r,i,o){!function gp(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(on)&&(l=o[on]),null==l&&(l=o[on]=$d++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function gl(r,i,o){if(o&ze.Optional)return r;Ae()}function Ao(r,i,o,l){if(o&ze.Optional&&void 0===l&&(l=null),0==(o&(ze.Self|ze.Host))){const c=r[9],h=Zt(void 0);try{return c?c.get(i,l,o&ze.Optional):xn(i,l,o&ze.Optional)}finally{Zt(h)}}return gl(l,0,o)}function ml(r,i,o,l=ze.Default,c){if(null!==r){if(1024&i[2]){const m=function _p(r,i,o,l,c){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=Wd(h,m,o,l|ze.Self,ri);if(v!==ri)return v;let E=h.parent;if(!E){const b=m[21];if(b){const A=b.get(o,ri,l);if(A!==ri)return A}E=vl(m),m=m[15]}h=E}return c}(r,i,o,l,ri);if(m!==ri)return m}const h=Wd(r,i,o,l,ri);if(h!==ri)return h}return Ao(i,o,l,c)}function Wd(r,i,o,l,c){const h=function mp(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(on)?r[on]:void 0;return"number"==typeof i?i>=0?255&i:Zd:i}(o);if("function"==typeof h){if(!np(i,r,l))return l&ze.Host?gl(c,0,l):Ao(i,o,l,c);try{const m=h(l);if(null!=m||l&ze.Optional)return m;Ae()}finally{Vd()}}else if("number"==typeof h){let m=null,v=pl(r,i),E=-1,b=l&ze.Host?i[16][6]:null;for((-1===v||l&ze.SkipSelf)&&(E=-1===v?wa(r,i):i[v+8],-1!==E&&zd(l,!1)?(m=i[1],v=Bs(E),i=us(E,i)):v=-1);-1!==v;){const A=i[1];if(_l(h,v,A.data)){const F=Gd(v,i,o,m,l,b);if(F!==ri)return F}E=i[v+8],-1!==E&&zd(l,i[1].data[v+8]===b)&&_l(h,v,i)?(m=A,v=Bs(E),i=us(E,i)):v=-1}}return c}function Gd(r,i,o,l,c,h){const m=i[1],v=m.data[r+8],A=Da(v,m,o,null==l?ts(v)&&Gu:l!=m&&0!=(3&v.type),c&ze.Host&&h===v);return null!==A?cs(i,m,A,v):ri}function Da(r,i,o,l,c){const h=r.providerIndexes,m=i.data,v=1048575&h,E=r.directiveStart,A=h>>20,z=c?v+A:r.directiveEnd;for(let ne=l?v:v+A;ne<z;ne++){const be=m[ne];if(ne<E&&o===be||ne>=E&&be.type===o)return ne}if(c){const ne=m[E];if(ne&&Or(ne)&&ne.type===o)return E}return null}function cs(r,i,o,l){let c=r[o];const h=i.data;if(function Hu(r){return r instanceof Wr}(c)){const m=c;m.resolving&&function Ye(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new we(-200,`Circular dependency in DI detected for ${r}${o}`)}(function ae(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():me(r)}(h[o]));const v=fl(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Zt(m.injectImpl):null;np(r,l,ze.Default);try{c=r[o]=m.factory(void 0,h,r,l),i.firstCreatePass&&o>=l.directiveStart&&function ul(r,i,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const m=da(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==E&&Zt(E),fl(v),m.resolving=!1,Vd()}}return c}function _l(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function zd(r,i){return!(r&ze.Self||r&ze.Host&&i)}class Ta{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return ml(this._tNode,this._lView,i,l,o)}}function Zd(){return new Ta(hn(),Ce())}function ds(r){return Yt(()=>{const i=r.prototype.constructor,o=i[Mn]||yl(i),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const h=c[Mn]||yl(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function yl(r){return Me(r)?()=>{const i=yl(q(r));return i&&i()}:Xn(r)}function vl(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function Cl(r){return function Ia(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const h=o[c];if($u(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(hn(),r)}const Aa="__parameters__";function Sa(r,i,o){return Yt(()=>{const l=function qd(r){return function(...o){if(r){const l=r(...o);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const m=new c(...h);return v.annotation=m,v;function v(E,b,A){const F=E.hasOwnProperty(Aa)?E[Aa]:Object.defineProperty(E,Aa,{value:[]})[Aa];for(;F.length<=A;)F.push(null);return(F[A]=F[A]||[]).push(m),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class mn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=kt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cn(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),Cn(l,i)):i!==r&&i.push(l)}return i}function ji(r,i){r.forEach(o=>Array.isArray(o)?ji(o,i):i(o))}function $s(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function vr(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ct(r,i,o){let l=hs(r,i);return l>=0?r[1|l]=o:(l=~l,function vp(r,i,o,l){let c=r.length;if(c==i)r.push(o,l);else if(1===c)r.push(l,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function Ku(r,i){const o=hs(r,i);if(o>=0)return r[1|o]}function hs(r,i){return function Yu(r,i,o){let l=0,c=r.length>>o;for(;c!==l;){const h=l+(c-l>>1),m=r[h<<o];if(i===m)return h<<o;m>i?c=h:l=h+1}return~(c<<o)}(r,i,1)}const Ro={},Xu="__NG_DI_FLAG__",ps="ngTempTokenPath",$i=/\n/gm,rr="__source";let gs;function ms(r){const i=gs;return gs=r,i}function Kn(r,i=ze.Default){if(void 0===gs)throw new we(-203,!1);return null===gs?xn(r,void 0,i):gs.get(r,i&ze.Optional?null:void 0,i)}function In(r,i=ze.Default){return(function gn(){return qt}()||Kn)(q(r),i)}function si(r,i=ze.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),In(r,i)}function fr(r){const i=[];for(let o=0;o<r.length;o++){const l=q(r[o]);if(Array.isArray(l)){if(0===l.length)throw new we(900,!1);let c,h=ze.Default;for(let m=0;m<l.length;m++){const v=l[m],E=nh(v);"number"==typeof E?-1===E?c=v.token:h|=E:c=v}i.push(In(c,h))}else i.push(In(l))}return i}function Ei(r,i){return r[Xu]=i,r.prototype[Xu]=i,r}function nh(r){return r[Xu]}const Un=Ei(Sa("Optional"),8),Ks=Ei(Sa("SkipSelf"),4);let ic;function oh(r){ic=r}class lh{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function bi(r){return r instanceof lh?r.changingThisBreaksApplicationSecurity:r}const f=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function pc(r){const i=function gc(){const r=Ce();return r&&r[12]}();return i?i.sanitize(Yn.URL,r)||"":function Zi(r,i){const o=function lc(r){return r instanceof lh&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?bi(r):function g(r){return(r=String(r)).match(f)?r:"unsafe:"+r}(me(r))}const Sp=new mn("ENVIRONMENT_INITIALIZER"),k_=new mn("INJECTOR",-1),F_=new mn("INJECTOR_DEF_TYPES");class L_{get(i,o=Ro){if(o===Ro){const l=new Error(`NullInjectorError: No provider for ${ce(i)}!`);throw l.name="NullInjectorError",l}return o}}function JC(...r){return{\u0275providers:Mp(0,r)}}function Mp(r,...i){const o=[],l=new Set;let c;return ji(i,h=>{const m=h;fh(m,o,[],l)&&(c||(c=[]),c.push(m))}),void 0!==c&&U_(c,o),o}function U_(r,i){for(let o=0;o<r.length;o++){const{providers:c}=r[o];ji(c,h=>{i.push(h)})}}function fh(r,i,o,l){if(!(r=q(r)))return!1;let c=null,h=Qn(r);const m=!h&&I(r);if(h||m){if(m&&!m.standalone)return!1;c=r}else{const E=r.ngModule;if(h=Qn(E),!h)return!1;c=E}const v=l.has(c);if(m){if(v)return!1;if(l.add(c),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of E)fh(b,i,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let b;l.add(c);try{ji(h.imports,A=>{fh(A,i,o,l)&&(b||(b=[]),b.push(A))})}finally{}void 0!==b&&U_(b,i)}if(!v){const b=Xn(c)||(()=>new c);i.push({provide:c,useFactory:b,deps:ft},{provide:F_,useValue:c,multi:!0},{provide:Sp,useValue:()=>In(c),multi:!0})}const E=h.providers;null==E||v||ji(E,A=>{i.push(A)})}}return c!==r&&void 0!==r.providers}const Rp=ge({provide:String,useValue:ge});function Ki(r){return null!==r&&"object"==typeof r&&Rp in r}function Uo(r){return"function"==typeof r}const to=new mn("Set Injector scope."),mc={},eE={};let Al;function _c(){return void 0===Al&&(Al=new L_),Al}class no{}class Np extends no{constructor(i,o,l,c){super(),this.parent=o,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ph(i,m=>this.processProvider(m)),this.records.set(k_,Ml(void 0,this)),c.has("environment")&&this.records.set(no,Ml(void 0,this));const h=this.records.get(to);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(F_.multi,ft,ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=ms(this),l=Zt(void 0);try{return i()}finally{ms(o),Zt(l)}}get(i,o=Ro,l=ze.Default){this.assertNotDestroyed();const c=ms(this),h=Zt(void 0);try{if(!(l&ze.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function B_(r){return"function"==typeof r||"object"==typeof r&&r instanceof mn}(i)&&nn(i);v=E&&this.injectableDefInScope(E)?Ml(yc(i),mc):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&ze.Self?_c():this.parent).get(i,o=l&ze.Optional&&o===Ro?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[ps]=m[ps]||[]).unshift(ce(i)),c)throw m;return function Cp(r,i,o,l){const c=r[ps];throw i[rr]&&c.unshift(i[rr]),r.message=function oi(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let c=ce(i);if(Array.isArray(i))c=i.map(ce).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):ce(v)))}c=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${r.replace($i,"\n  ")}`}("\n"+r.message,c,o,l),r.ngTokenPath=c,r[ps]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Zt(h),ms(c)}}resolveInjectorInitializers(){const i=ms(this),o=Zt(void 0);try{const l=this.get(Sp.multi,ft,ze.Self);for(const c of l)c()}finally{ms(i),Zt(o)}}toString(){const i=[],o=this.records;for(const l of o.keys())i.push(ce(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(i){let o=Uo(i=q(i))?i:q(i&&i.provide);const l=function tE(r){return Ki(r)?Ml(void 0,r.useValue):Ml(Sl(r),mc)}(i);if(Uo(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ml(void 0,mc,!0),c.factory=()=>fr(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,l)}hydrate(i,o){return o.value===mc&&(o.value=eE,o.value=o.factory()),"object"==typeof o.value&&o.value&&function xp(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=q(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function yc(r){const i=nn(r),o=null!==i?i.factory:Xn(r);if(null!==o)return o;if(r instanceof mn)throw new we(204,!1);if(r instanceof Function)return function Op(r){const i=r.length;if(i>0)throw function Ws(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new we(204,!1);const o=function dn(r){const i=r&&(r[wn]||r[$n]);if(i){const o=function An(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new we(204,!1)}function Sl(r,i,o){let l;if(Uo(r)){const c=q(r);return Xn(c)||yc(c)}if(Ki(r))l=()=>q(r.useValue);else if(function Pp(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...fr(r.deps||[]));else if(function Fa(r){return!(!r||!r.useExisting)}(r))l=()=>In(q(r.useExisting));else{const c=q(r&&(r.useClass||r.provide));if(!function nE(r){return!!r.deps}(r))return Xn(c)||yc(c);l=()=>new c(...fr(r.deps))}return l}function Ml(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function H_(r){return!!r.\u0275providers}function ph(r,i){for(const o of r)Array.isArray(o)?ph(o,i):H_(o)?ph(o.\u0275providers,i):i(o)}class $_{}class rE{resolveComponentFactory(i){throw function vc(r){const i=Error(`No component factory found for ${ce(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Ec=(()=>{class r{}return r.NULL=new rE,r})();function kp(){return La(hn(),Ce())}function La(r,i){return new gh(hr(r,i))}let gh=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=kp,r})();function eD(r){return r instanceof gh?r.nativeElement:r}class iE{}let Fp=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function sE(){const r=Ce(),o=Jt(hn().index,r);return(Zn(o)?o:r)[11]}(),r})(),oE=(()=>{class r{}return r.\u0275prov=kt({token:r,providedIn:"root",factory:()=>null}),r})();class G_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const mh=new G_("14.2.0"),zr={};function Vp(r){return r.ngOriginalError}class yh{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Vp(i);for(;o&&Vp(o);)o=Vp(o);return o||null}}const Hp=new Map;let gE=0;const Nl="__ngContext__";function kr(r,i){Zn(i)?(r[Nl]=i[20],function _E(r){Hp.set(r[20],r)}(i)):r[Nl]=i}function Ic(r){const i=r[Nl];return"number"==typeof i?function Y_(r){return Hp.get(r)||null}(i):i||null}function jp(r){const i=Ic(r);return i?Zn(i)?i:i.lView:null}function ro(r){return r instanceof Function?r():r}var ys=(()=>((ys=ys||{})[ys.Important=1]="Important",ys[ys.DashCase=2]="DashCase",ys))();function Dh(r,i){return undefined(r,i)}function xl(r){const i=r[3];return cr(i)?i[3]:i}function Zp(r){return iy(r[13])}function qp(r){return iy(r[4])}function iy(r){for(;null!==r&&!cr(r);)r=r[4];return r}function kl(r,i,o,l,c){if(null!=l){let h,m=!1;cr(l)?h=l:Zn(l)&&(m=!0,l=l[0]);const v=Rn(l);0===r&&null!==o?null==c?ay(i,o,v):Ba(i,o,v,c||null,!0):1===r&&null!==o?Ba(i,o,v,c||null,!0):2===r?function Rh(r,i,o){const l=ir(r,i);l&&function PE(r,i,o,l){r.removeChild(i,o,l)}(r,l,i,o)}(i,v,m):3===r&&i.destroyNode(v),null!=h&&function Fl(r,i,o,l,c){const h=o[7];h!==Rn(o)&&kl(i,r,l,h,c);for(let v=10;v<o.length;v++){const E=o[v];Vo(E[1],E,r,i,l,h)}}(i,r,h,o,c)}}function Th(r,i,o){return r.createElement(i,o)}function Ac(r,i){const o=r[9],l=o.indexOf(i),c=i[3];512&i[2]&&(i[2]&=-513,Ls(c,-1)),o.splice(l,1)}function Ah(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const c=l[17];null!==c&&c!==r&&Ac(c,l),i>0&&(r[o-1][4]=l[4]);const h=vr(r,10+i);!function sy(r,i){Vo(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Sh(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Vo(r,i,o,3,null,null),function TE(r){let i=r[13];if(!i)return Sc(r[1],r);for(;i;){let o=null;if(Zn(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)Zn(i)&&Sc(i[1],i),i=i[3];null===i&&(i=r),Zn(i)&&Sc(i[1],i),o=i&&i[4]}i=o}}(i)}}function Sc(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function RE(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const c=i[o[l]];if(!(c instanceof Wr)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=c[h[m]],E=h[m+1];try{E.call(v)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function ME(r,i){const o=r.cleanup,l=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],v="function"==typeof m?m(i):Rn(i[m]),E=l[c=o[h+2]],b=o[h+3];"boolean"==typeof b?v.removeEventListener(o[h],E,b):b>=0?l[c=b]():l[c=-b].unsubscribe(),h+=2}else{const m=l[c=o[h+1]];o[h].call(m)}if(null!==l){for(let h=c+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&cr(i[3])){o!==i[3]&&Ac(o,i);const l=i[19];null!==l&&l.detachView(r)}!function Q_(r){Hp.delete(r[20])}(i)}}function Mc(r,i,o){return function oy(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const c=r.data[l.directiveStart].encapsulation;if(c===Xe.None||c===Xe.Emulated)return null}return hr(l,o)}(r,i.parent,o)}function Ba(r,i,o,l,c){r.insertBefore(i,o,l,c)}function ay(r,i,o){r.appendChild(i,o)}function ly(r,i,o,l,c){null!==l?Ba(r,i,o,l,c):ay(r,i,o)}function ir(r,i){return r.parentNode(i)}let Ha=function Mh(r,i,o){return 40&r.type?hr(r,o):null};function Rc(r,i,o,l){const c=Mc(r,l,i),h=i[11],v=function Jp(r,i,o){return Ha(r,i,o)}(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)ly(h,c,o[E],v,!1);else ly(h,c,o,v,!1)}function eg(r,i){if(null!==i){const o=i.type;if(3&o)return hr(i,r);if(4&o)return tg(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return eg(r,l);{const c=r[i.index];return cr(c)?tg(-1,c):Rn(c)}}if(32&o)return Dh(i,r)()||Rn(r[i.index]);{const l=xE(r,i);return null!==l?Array.isArray(l)?l[0]:eg(xl(r[16]),l):eg(r,i.next)}}return null}function xE(r,i){return null!==i?r[16][6].projection[i.projection]:null}function tg(r,i){const o=10+r+1;if(o<i.length){const l=i[o],c=l[1].firstChild;if(null!==c)return eg(l,c)}return i[7]}function Ph(r,i,o,l,c,h,m){for(;null!=o;){const v=l[o.index],E=o.type;if(m&&0===i&&(v&&kr(Rn(v),l),o.flags|=4),64!=(64&o.flags))if(8&E)Ph(r,i,o.child,l,c,h,!1),kl(i,r,c,v,h);else if(32&E){const b=Dh(o,l);let A;for(;A=b();)kl(i,r,c,A,h);kl(i,r,c,v,h)}else 16&E?ng(r,i,l,o,c,h):kl(i,r,c,v,h);o=m?o.projectionNext:o.next}}function Vo(r,i,o,l,c,h){Ph(o,l,r.firstChild,i,c,h,!1)}function ng(r,i,o,l,c,h){const m=o[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)kl(i,r,c,E[b],h);else Ph(r,i,E,m[3],c,h,!0)}function kE(r,i,o){r.setAttribute(i,"style",o)}function Nh(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function ig(r,i,o){let l=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}o=c+1}}const dy="ng-template";function FE(r,i,o){let l=0;for(;l<r.length;){let c=r[l++];if(o&&"class"===c){if(c=r[l],-1!==ig(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function hy(r){return 4===r.type&&r.value!==dy}function fy(r,i,o){return i===(4!==r.type||o?r.value:dy)}function LE(r,i,o){let l=4;const c=r.attrs||[],h=function VE(r){for(let i=0;i<r.length;i++)if($u(r[i]))return i;return r.length}(c);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!fy(r,E,o)||""===E&&1===i.length){if(vs(l))return!1;m=!0}}else{const b=8&l?E:i[++v];if(8&l&&null!==r.attrs){if(!FE(r.attrs,b,o)){if(vs(l))return!1;m=!0}continue}const F=Oh(8&l?"class":E,c,hy(r),o);if(-1===F){if(vs(l))return!1;m=!0;continue}if(""!==b){let z;z=F>h?"":c[F+1].toLowerCase();const ne=8&l?z:null;if(ne&&-1!==ig(ne,b,0)||2&l&&b!==z){if(vs(l))return!1;m=!0}}}}else{if(!m&&!vs(l)&&!vs(E))return!1;if(m&&vs(E))continue;m=!1,l=E|1&l}}return vs(l)||m}function vs(r){return 0==(1&r)}function Oh(r,i,o,l){if(null===i)return-1;let c=0;if(l||!o){let h=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++c];for(;"string"==typeof v;)v=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function BE(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function UE(r,i,o=!1){for(let l=0;l<i.length;l++)if(LE(r,i[l],o))return!0;return!1}function my(r,i){return r?":not("+i.trim()+")":i}function HE(r){let i=r[0],o=1,l=2,c="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const v=r[++o];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!vs(m)&&(i+=my(h,c),c=""),l=m,h=h||!vs(l);o++}return""!==c&&(i+=my(h,c)),i}const Pt={};function sg(r){_y(Ct(),Ce(),Pn()+r,!1)}function _y(r,i,o,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&cl(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Vs(i,h,0,o)}Vi(o)}function kh(r,i=null,o=null,l){const c=og(r,i,o,l);return c.resolveInjectorInitializers(),c}function og(r,i=null,o=null,l,c=new Set){const h=[o||ft,JC(r)];return l=l||("object"==typeof r?void 0:ce(r)),new Np(h,i||_c(),l||null,c)}let $a=(()=>{class r{static create(o,l){if(Array.isArray(o))return kh({name:""},l,o,"");{const c=o.name??"";return kh({name:c},o.parent,o.providers,c)}}}return r.THROW_IF_NOT_FOUND=Ro,r.NULL=new L_,r.\u0275prov=kt({token:r,providedIn:"any",factory:()=>In(k_)}),r.__NG_ELEMENT_ID__=-1,r})();function io(r,i=ze.Default){const o=Ce();return null===o?In(r,i):ml(hn(),o,q(r),i)}function Ay(){throw new Error("invalid")}function ui(r,i){return r<<17|i<<2}function Sr(r){return r>>17&32767}function xc(r){return 2|r}function bs(r){return(131068&r)>>2}function sr(r,i){return-131069&r|i<<2}function hg(r){return 1|r}function Vy(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const c=o[l],h=o[l+1];if(-1!==h){const m=r.data[h];ku(c),m.contentQueries(2,i[h],h)}}}function Hh(r,i,o,l,c,h,m,v,E,b,A){const F=i.blueprint.slice();return F[0]=c,F[2]=76|l,(null!==A||r&&1024&r[2])&&(F[2]|=1024),Fs(F),F[3]=F[15]=r,F[8]=o,F[10]=m||r&&r[10],F[11]=v||r&&r[11],F[12]=E||r&&r[12]||null,F[9]=b||r&&r[9]||null,F[6]=h,F[20]=function mE(){return gE++}(),F[21]=A,F[16]=2==i.type?r[16]:F,F}function Bl(r,i,o,l,c){let h=r.data[i];if(null===h)h=function vg(r,i,o,l,c){const h=Fi(),m=vi(),E=r.data[i]=function zy(r,i,o,l,c,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,l,c);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(r,i,o,l,c),function Ld(){return bt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=c;const m=function Li(){const r=bt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return er(h,!0),h}function ci(r,i,o,l){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function Hl(r,i,o){ll(i);try{const l=r.viewQuery;null!==l&&oo(1,l,o);const c=r.template;null!==c&&Vc(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Vy(r,i),r.staticViewQueries&&oo(2,r.viewQuery,o);const h=r.components;null!==h&&function Hy(r,i){for(let o=0;o<i.length;o++)za(r,i[o])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Do()}}function Uc(r,i,o,l){const c=i[2];if(128!=(128&c)){ll(i);try{Fs(i),function _a(r){return bt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Vc(r,i,o,2,l);const m=3==(3&c);if(m){const b=r.preOrderCheckHooks;null!==b&&cl(i,b,null)}else{const b=r.preOrderHooks;null!==b&&Vs(i,b,0,null),Vu(i,0)}if(function hw(r){for(let i=Zp(r);null!==i;i=qp(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const c=o[l],h=c[3];0==(512&c[2])&&Ls(h,1),c[2]|=512}}}(i),function dw(r){for(let i=Zp(r);null!==i;i=qp(i))for(let o=10;o<i.length;o++){const l=i[o],c=l[1];ki(l)&&Uc(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&Vy(r,i),m){const b=r.contentCheckHooks;null!==b&&cl(i,b)}else{const b=r.contentHooks;null!==b&&Vs(i,b,1),Vu(i,1)}!function sw(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Vi(~c);else{const h=c,m=o[++l],v=o[++l];Ud(m,h),v(2,i[h])}}}finally{Vi(-1)}}(r,i);const v=r.components;null!==v&&function By(r,i){for(let o=0;o<i.length;o++)fw(r,i[o])}(i,v);const E=r.viewQuery;if(null!==E&&oo(2,E,l),m){const b=r.viewCheckHooks;null!==b&&cl(i,b)}else{const b=r.viewHooks;null!==b&&Vs(i,b,2),Vu(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Ls(i[3],-1))}finally{Do()}}}function ow(r,i,o,l){const c=i[10],m=yi(i);try{!m&&c.begin&&c.begin(),m&&Hl(r,i,l),Uc(r,i,o,l)}finally{!m&&c.end&&c.end()}}function Vc(r,i,o,l,c){const h=Pn(),m=2&l;try{Vi(-1),m&&i.length>22&&_y(r,i,22,!1),o(l,c)}finally{Vi(h)}}function jh(r,i,o){!je()||(function Qy(r,i,o,l){const c=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||Hs(o,i),kr(l,i);const m=o.initialInputs;for(let v=c;v<h;v++){const E=r.data[v],b=Or(E);b&&Xy(i,o,E);const A=cs(i,r,v,o);kr(A,i),null!==m&&Hr(0,v-c,A,E,0,m),b&&(Jt(o.index,i)[8]=A)}}(r,i,o,hr(o,i)),128==(128&o.flags)&&function un(r,i,o){const l=o.directiveStart,c=o.directiveEnd,h=o.index,m=function b_(){return bt.lFrame.currentDirectiveIndex}();try{Vi(h);for(let v=l;v<c;v++){const E=r.data[v],b=i[v];al(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&en(E,b)}}finally{Vi(-1),al(m)}}(r,i,o))}function Cg(r,i,o=hr){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?o(i,r):r[m];r[c++]=v}}}function jy(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Eg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Eg(r,i,o,l,c,h,m,v,E,b){const A=22+l,F=A+c,z=function aw(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:Pt);return o}(A,F),ne="function"==typeof b?b():b;return z[1]={type:r,blueprint:z,template:o,queries:null,viewQuery:v,declTNode:i,data:z.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:ne,incompleteFirstPass:!1}}function Gy(r,i,o,l){const c=Hc(i);null===o?c.push(l):(c.push(o),r.firstCreatePass&&jc(r).push(l,c.length-1))}function Zy(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const c=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,c):o[l]=[i,c]}return o}function wg(r,i){const l=i.directiveEnd,c=r.data,h=i.attrs,m=[];let v=null,E=null;for(let b=i.directiveStart;b<l;b++){const A=c[b],F=A.inputs,z=null===h||hy(i)?null:cw(F,h);m.push(z),v=Zy(F,b,v),E=Zy(A.outputs,b,E)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=E}function Zr(r,i,o,l,c,h,m,v){const E=hr(i,o);let A,b=i.inputs;!v&&null!=b&&(A=b[l])?($l(r,o,A,l,c),ts(i)&&bg(o,i.index)):3&i.type&&(l=function qy(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=m?m(c,i.value||"",l):c,h.setProperty(E,l,c))}function bg(r,i){const o=Jt(i,r);16&o[2]||(o[2]|=32)}function $h(r,i,o,l){let c=!1;if(je()){const h=function Ht(r,i,o){const l=r.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const m=l[h];UE(o,m.selectors,!1)&&(c||(c=[]),ba(Hs(o,i),r,m.type),Or(m)?(so(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===l?null:{"":-1};if(null!==h){c=!0,Jy(o,r.data.length,h.length);for(let A=0;A<h.length;A++){const F=h[A];F.providersResolver&&F.providersResolver(F)}let v=!1,E=!1,b=ci(r,i,h.length,null);for(let A=0;A<h.length;A++){const F=h[A];o.mergedAttrs=Ea(o.mergedAttrs,F.hostAttrs),jl(r,o,i,b,F),Ig(b,F,m),null!==F.contentQueries&&(o.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(o.flags|=128);const z=F.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),v=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),b++}wg(r,o)}m&&function En(r,i,o){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new we(-301,!1);l.push(i[c],h)}}}(o,l,m)}return o.mergedAttrs=Ea(o.mergedAttrs,o.attrs),c}function Bc(r,i,o,l,c,h){const m=h.hostBindings;if(m){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const E=~i.index;(function Yy(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=E&&v.push(E),v.push(l,c,m)}}function en(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function so(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Ig(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;Or(i)&&(o[""]=r)}}function Jy(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function jl(r,i,o,l,c){r.data[l]=c;const h=c.factory||(c.factory=Xn(c.type)),m=new Wr(h,Or(c),io);r.blueprint[l]=m,o[l]=m,Bc(r,i,0,l,ci(r,o,c.hostVars,Pt),c)}function Xy(r,i,o){const l=hr(i,r),c=jy(o),h=r[10],m=Zo(r,Hh(r,c,null,o.onPush?32:16,l,i,h,h.createRenderer(l,o),null,null,null));r[i.index]=m}function tn(r,i,o,l,c,h){const m=hr(r,i);!function Ut(r,i,o,l,c,h,m){if(null==h)r.removeAttribute(i,c,o);else{const v=null==m?me(h):m(h,l||"",c);r.setAttribute(i,c,v,o)}}(i[11],m,h,r.value,o,l,c)}function Hr(r,i,o,l,c,h){const m=h[i];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const b=m[E++],A=m[E++],F=m[E++];null!==v?l.setInput(o,F,b,A):o[A]=F}}}function cw(r,i){let o=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[l+1])),l+=2}else l+=2;else l+=4}return o}function di(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function fw(r,i){const o=Jt(i,r);if(ki(o)){const l=o[1];48&o[2]?Uc(l,o,l.template,o[8]):o[5]>0&&Wh(o)}}function Wh(r){for(let l=Zp(r);null!==l;l=qp(l))for(let c=10;c<l.length;c++){const h=l[c];if(ki(h))if(512&h[2]){const m=h[1];Uc(m,h,m.template,h[8])}else h[5]>0&&Wh(h)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const c=Jt(o[l],r);ki(c)&&c[5]>0&&Wh(c)}}function za(r,i){const o=Jt(i,r),l=o[1];(function Dg(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),Hl(l,o,o[8])}function Zo(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Tg(r){for(;r;){r[2]|=32;const i=xl(r);if(vo(r)&&!i)return r;r=i}return null}function oo(r,i,o){ku(0),i(r,o)}function Hc(r){return r[7]||(r[7]=[])}function jc(r){return r.cleanup||(r.cleanup=[])}function Yi(r,i){const o=r[9],l=o?o.get(yh,null):null;l&&l.handleError(i)}function $l(r,i,o,l,c){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],E=i[m],b=r.data[m];null!==b.setInput?b.setInput(E,c,l,v):E[v]=c}}function Gh(r,i,o){let l=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?c=pe(c,v):2==h&&(l=pe(l,v+": "+i[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=c:r.classesWithoutHost=c}function Mr(r,i,o,l,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&l.push(Rn(h)),cr(h))for(let v=10;v<h.length;v++){const E=h[v],b=E[1].firstChild;null!==b&&Mr(E[1],E,b,l)}const m=o.type;if(8&m)Mr(r,i,o.child,l);else if(32&m){const v=Dh(o,i);let E;for(;E=v();)l.push(E)}else if(16&m){const v=xE(i,o);if(Array.isArray(v))l.push(...v);else{const E=xl(i[16]);Mr(E[1],E,v,l,!0)}}o=c?o.projectionNext:o.next}return l}class $c{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Mr(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(cr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Ah(i,l),vr(o,l))}this._attachedToViewContainer=!1}Sh(this._lView[1],this._lView)}onDestroy(i){Gy(this._lView[1],this._lView,null,i)}markForCheck(){Tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ag(r,i,o){const l=i[10];l.begin&&l.begin();try{Uc(r,i,r.template,o)}catch(c){throw Yi(i,c),c}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DE(r,i){Vo(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=i}}class Mg extends $c{constructor(i){super(i),this._view=i}detectChanges(){!function nv(r){!function tv(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],l=jp(o);if(null!==l){const c=l[1];ow(c,l,c.template,o)}}}(r[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Wc extends Ec{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=I(i);return new Wl(o,this.ngModule)}}function rv(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class sv{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,l){const c=this.injector.get(i,zr,l);return c!==zr||o===zr?c:this.parentInjector.get(i,o,l)}}class Wl extends $_{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function jE(r){return r.map(HE).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return rv(this.componentDef.inputs)}get outputs(){return rv(this.componentDef.outputs)}create(i,o,l,c){let h=(c=c||this.ngModule)instanceof no?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new sv(i,h):i,v=m.get(iE,null);if(null===v)throw new we(407,!1);const E=m.get(oE,null),b=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",F=l?function Wy(r,i,o){return r.selectRootElement(i,o===Xe.ShadowDom)}(b,l,this.componentDef.encapsulation):Th(v.createRenderer(null,this.componentDef),A,function iv(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(A)),z=this.componentDef.onPush?288:272,ne={components:[]},be=Eg(0,null,null,1,0,null,null,null,null,null),Ue=Hh(null,be,ne,z,null,null,v,b,E,m,null);let Ze,tt;ll(Ue);try{const Et=function mw(r,i,o,l,c,h){const m=o[1];o[22]=r;const E=Bl(m,22,2,"#host",null),b=E.mergedAttrs=i.hostAttrs;null!==b&&(Gh(E,b,!0),null!==r&&(Bi(c,r,b),null!==E.classes&&Nh(c,r,E.classes),null!==E.styles&&kE(c,r,E.styles)));const A=l.createRenderer(r,i),F=Hh(o,jy(i),null,i.onPush?32:16,o[22],E,l,A,h||null,null,null);return m.firstCreatePass&&(ba(Hs(E,o),m,i.type),so(m,E),Jy(E,o.length,1)),Zo(o,F),o[22]=F}(F,this.componentDef,Ue,v,b);if(F)if(l)Bi(b,F,["ng-version",mh.full]);else{const{attrs:Oe,classes:yt}=function $E(r){const i=[],o=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++l]):8===c&&o.push(h);else{if(!vs(c))break;c=h}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Oe&&Bi(b,F,Oe),yt&&yt.length>0&&Nh(b,F,yt.join(" "))}if(tt=os(be,22),void 0!==o){const Oe=tt.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Kt=o[yt];Oe.push(null!=Kt?Array.from(Kt):null)}}Ze=function _w(r,i,o,l,c){const h=o[1],m=function Ky(r,i,o){const l=hn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),jl(r,l,i,ci(r,i,1,null),o),wg(r,l));const c=cs(i,r,l.directiveStart,l);kr(c,i);const h=hr(l,i);return h&&kr(h,i),c}(h,o,i);if(l.components.push(m),r[8]=m,null!==c)for(const E of c)E(m,i);if(i.contentQueries){const E=hn();i.contentQueries(1,m,E.directiveStart)}const v=hn();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Vi(v.index),Bc(o[1],v,0,v.directiveStart,v.directiveEnd,i),en(i,m)),m}(Et,this.componentDef,Ue,ne,[yw]),Hl(be,Ue,null)}finally{Do()}return new ov(this.componentType,Ze,La(tt,Ue),Ue,tt)}}class ov extends class j_{}{constructor(i,o,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Mg(c),this.componentType=i}setInput(i,o){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){const h=this._rootLView;$l(h[1],h,c,i,o),bg(h,this._tNode.index)}}get injector(){return new Ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function yw(){const r=hn();va(Ce()[1],r)}function zl(r){let i=function av(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let c;if(Or(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new we(903,!1);c=i.\u0275dir}if(c){if(o){l.push(c);const m=r;m.inputs=qo(r.inputs),m.declaredInputs=qo(r.declaredInputs),m.outputs=qo(r.outputs);const v=c.hostBindings;v&&Ot(r,v);const E=c.viewQuery,b=c.contentQueries;if(E&&ao(r,E),b&&Gc(r,b),oe(r.inputs,c.inputs),oe(r.declaredInputs,c.declaredInputs),oe(r.outputs,c.outputs),Or(c)&&c.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===zl&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Rg(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Ea(c.hostAttrs,o=Ea(o,c.hostAttrs))}}(l)}function qo(r){return r===kn?{}:r===ft?[]:r}function ao(r,i){const o=r.viewQuery;r.viewQuery=o?(l,c)=>{i(l,c),o(l,c)}:i}function Gc(r,i){const o=r.contentQueries;r.contentQueries=o?(l,c,h)=>{i(l,c,h),o(l,c,h)}:i}function Ot(r,i){const o=r.hostBindings;r.hostBindings=o?(l,c)=>{i(l,c),o(l,c)}:i}let Tn=null;function lo(){if(!Tn){const r=et.Symbol;if(r&&r.iterator)Tn=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Tn=l)}}}return Tn}function Za(r){return!!zh(r)&&(Array.isArray(r)||!(r instanceof Map)&&lo()in r)}function zh(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Rr(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function qa(r,i,o,l){const c=Ce();return Rr(c,ya(),i)&&(Ct(),tn(Nn(),c,r,i,o,l)),qa}function Yo(r,i,o,l){return Rr(r,ya(),o)?i+me(o)+l:Pt}function qh(r,i,o,l,c,h,m,v){const E=Ce(),b=Ct(),A=r+22,F=b.firstCreatePass?function xg(r,i,o,l,c,h,m,v,E){const b=i.consts,A=Bl(i,r,4,m||null,Br(b,v));$h(i,o,A,Br(b,E)),va(i,A);const F=A.tViews=Eg(2,A,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,A),F.queries=i.queries.embeddedTView(A)),A}(A,b,E,i,o,l,c,h,m):b.data[A];er(F,!1);const z=E[11].createComment("");Rc(b,E,z,F),kr(z,E),Zo(E,E[A]=di(z,E,z,F)),ns(F)&&jh(b,E,F),null!=m&&Cg(E,F,v)}function hv(r){return yr(function Ui(){return bt.lFrame.contextLView}(),22+r)}function Kh(r,i,o){const l=Ce();return Rr(l,ya(),i)&&Zr(Ct(),Nn(),l,r,i,l[11],o,!1),Kh}function kg(r,i,o,l,c){const m=c?"class":"style";$l(r,o,i.inputs[m],m,l)}function Yh(r,i,o,l){const c=Ce(),h=Ct(),m=22+r,v=c[11],E=c[m]=Th(v,i,function Uu(){return bt.lFrame.currentNamespace}()),b=h.firstCreatePass?function ww(r,i,o,l,c,h,m){const v=i.consts,b=Bl(i,r,2,c,Br(v,h));return $h(i,o,b,Br(v,m)),null!==b.attrs&&Gh(b,b.attrs,!1),null!==b.mergedAttrs&&Gh(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(m,h,c,0,i,o,l):h.data[m];er(b,!0);const A=b.mergedAttrs;null!==A&&Bi(v,E,A);const F=b.classes;null!==F&&Nh(v,E,F);const z=b.styles;return null!==z&&kE(v,E,z),64!=(64&b.flags)&&Rc(h,c,E,b),0===function Z(){return bt.lFrame.elementDepthCount}()&&kr(E,c),function ue(){bt.lFrame.elementDepthCount++}(),ns(b)&&(jh(h,c,b),function Ga(r,i,o){if(mi(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,b,c)),null!==l&&Cg(c,b),Yh}function jr(){let r=hn();vi()?function Io(){bt.lFrame.isParent=!1}():(r=r.parent,er(r,!1));const i=r;!function ke(){bt.lFrame.elementDepthCount--}();const o=Ct();return o.firstCreatePass&&(va(o,r),mi(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function dl(r){return 0!=(16&r.flags)}(i)&&kg(o,i,Ce(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function hl(r){return 0!=(32&r.flags)}(i)&&kg(o,i,Ce(),i.stylesWithoutHost,!1),jr}function Yc(r,i,o,l){return Yh(r,i,o,l),jr(),Yc}function Jo(){return Ce()}function Xo(r){return!!r&&"function"==typeof r.then}function ho(r){return!!r&&"function"==typeof r.subscribe}const fv=ho;function Lg(r,i,o,l){const c=Ce(),h=Ct(),m=hn();return function pv(r,i,o,l,c,h,m,v){const E=ns(l),A=r.firstCreatePass&&jc(r),F=i[8],z=Hc(i);let ne=!0;if(3&l.type||v){const Ze=hr(l,i),tt=v?v(Ze):Ze,Et=z.length,Oe=v?Kt=>v(Rn(Kt[l.index])):l.index;let yt=null;if(!v&&E&&(yt=function bw(r,i,o,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===l){const v=i[7],E=c[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(r,i,c,l.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=h,yt.__ngLastListenerFn__=h,ne=!1;else{h=iu(l,i,F,h,!1);const Kt=o.listen(tt,c,h);z.push(h,Kt),A&&A.push(c,Oe,Et,Et+1)}}else h=iu(l,i,F,h,!1);const be=l.outputs;let Ue;if(ne&&null!==be&&(Ue=be[c])){const Ze=Ue.length;if(Ze)for(let tt=0;tt<Ze;tt+=2){const Bn=i[Ue[tt]][Ue[tt+1]].subscribe(h),Tu=z.length;z.push(h,Bn),A&&A.push(c,l.index,Tu,-(Tu+1))}}}(h,c,c[11],m,r,i,0,l),Lg}function Jc(r,i,o,l){try{return!1!==o(l)}catch(c){return Yi(r,c),!1}}function iu(r,i,o,l,c){return function h(m){if(m===Function)return l;Tg(2&r.flags?Jt(r.index,i):i);let E=Jc(i,0,l,m),b=h.__ngNextListenerFn__;for(;b;)E=Jc(i,0,b,m)&&E,b=b.__ngNextListenerFn__;return c&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function Vg(r,i,o){return _n(r,"",i,"",o),Vg}function _n(r,i,o,l,c){const h=Ce(),m=Yo(h,i,o,l);return m!==Pt&&Zr(Ct(),Nn(),h,r,m,h[11],c,!1),_n}function Xc(r,i,o,l,c){const h=r[o+1],m=null===i;let v=l?Sr(h):bs(h),E=!1;for(;0!==v&&(!1===E||m);){const A=r[v+1];Iw(r[v],i)&&(E=!0,r[v+1]=l?hg(A):xc(A)),v=l?Sr(A):bs(A)}E&&(r[o+1]=l?xc(h):hg(h))}function Iw(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&hs(r,i)>=0}function tf(r,i){return function Ti(r,i,o,l){const c=Ce(),h=Ct(),m=function ls(r){const i=bt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function zg(r,i,o,l){const c=r.data;if(null===c[o+1]){const h=c[Pn()],m=function wv(r,i){return i>=r.expandoStartIndex}(r,o);(function Dv(r,i){return 0!=(r.flags&(i?16:32))})(h,l)&&null===i&&!m&&(i=!1),i=function Zg(r,i,o,l){const c=function Ou(r){const i=bt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(o=lu(o=qg(null,r,i,o,l),i.attrs,l),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=qg(c,r,i,o,l),null===h){let E=function Nw(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==bs(l))return r[Sr(l)]}(r,i,l);void 0!==E&&Array.isArray(E)&&(E=qg(null,r,i,E[1],l),E=lu(E,i.attrs,l),function Ow(r,i,o,l){r[Sr(o?i.classBindings:i.styleBindings)]=l}(r,i,l,E))}else h=function xw(r,i,o){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=lu(l,r[h].hostAttrs,o);return lu(l,i.attrs,o)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,l),function ou(r,i,o,l,c,h){let m=h?i.classBindings:i.styleBindings,v=Sr(m),E=bs(m);r[l]=o;let A,b=!1;if(Array.isArray(o)){const F=o;A=F[1],(null===A||hs(F,A)>0)&&(b=!0)}else A=o;if(c)if(0!==E){const z=Sr(r[v+1]);r[l+1]=ui(z,v),0!==z&&(r[z+1]=sr(r[z+1],l)),r[v+1]=function Oc(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=ui(v,0),0!==v&&(r[v+1]=sr(r[v+1],l)),v=l;else r[l+1]=ui(E,0),0===v?v=l:r[E+1]=sr(r[E+1],l),E=l;b&&(r[l+1]=xc(r[l+1])),Xc(r,A,l,!0),Xc(r,A,l,!1),function _v(r,i,o,l,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&hs(h,i)>=0&&(o[l+1]=hg(o[l+1]))}(i,A,r,l,h),m=ui(v,E),h?i.classBindings=m:i.styleBindings=m}(c,h,i,o,m,l)}}(h,r,m,l),i!==Pt&&Rr(c,m,i)&&function Iv(r,i,o,l,c,h,m,v){if(!(3&i.type))return;const E=r.data,b=E[v+1];uu(function dg(r){return 1==(1&r)}(b)?Kg(E,i,o,c,bs(b),m):void 0)||(uu(h)||function Sy(r){return 2==(2&r)}(b)&&(h=Kg(E,null,o,c,v,m)),function rg(r,i,o,l,c){if(i)c?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:ys.DashCase;null==c?r.removeStyle(o,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ys.Important),r.setStyle(o,l,c,h))}}(l,m,$r(Pn(),o),c,h))}(h,h.data[Pn()],c,c[11],r,c[m+1]=function kw(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=ce(bi(r)))),r}(i,o),l,m)}(r,i,null,!0),tf}function qg(r,i,o,l,c){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=i[v],l=lu(l,h.hostAttrs,c),h!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function lu(r,i,o){const l=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?c=m:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ct(r,m,!!o||i[++h]))}return void 0===r?null:r}function Kg(r,i,o,l,c,h){const m=null===i;let v;for(;c>0;){const E=r[c],b=Array.isArray(E),A=b?E[1]:E,F=null===A;let z=o[c+1];z===Pt&&(z=F?ft:void 0);let ne=F?Ku(z,l):A===l?z:void 0;if(b&&!uu(ne)&&(ne=Ku(E,l)),uu(ne)&&(v=ne,m))return v;const be=r[c+1];c=m?Sr(be):bs(be)}if(null!==i){let E=h?i.residualClasses:i.residualStyles;null!=E&&(v=Ku(E,l))}return v}function uu(r){return void 0!==r}function Tv(r,i=""){const o=Ce(),l=Ct(),c=r+22,h=l.firstCreatePass?Bl(l,c,1,i,null):l.data[c],m=o[c]=function Kp(r,i){return r.createText(i)}(o[11],i);Rc(l,o,m,h),er(h,!1)}function Yg(r){return sf("",r,""),Yg}function sf(r,i,o){const l=Ce(),c=Yo(l,r,i,o);return c!==Pt&&function gr(r,i,o){const l=$r(i,r);!function Yp(r,i,o){r.setValue(i,o)}(r[11],l,o)}(l,Pn(),c),sf}const Ya=void 0;var df=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function im(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let du={};function hf(r){const i=function am(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=hu(i);if(o)return o;const l=i.split("-")[0];if(o=hu(l),o)return o;if("en"===l)return df;throw new we(701,!1)}function sm(r){return hf(r)[_t.PluralCase]}function hu(r){return r in du||(du[r]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[r]),du[r]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const Ts="en-US";let jv=Ts;function Sf(r,i,o,l,c){if(r=q(r),Array.isArray(r))for(let h=0;h<r.length;h++)Sf(r[h],i,o,l,c);else{const h=Ct(),m=Ce();let v=Uo(r)?r:q(r.provide),E=Sl(r);const b=hn(),A=1048575&b.providerIndexes,F=b.directiveStart,z=b.providerIndexes>>20;if(Uo(r)||!r.multi){const ne=new Wr(E,c,io),be=Pf(v,i,c?A:A+z,F);-1===be?(ba(Hs(b,m),h,v),Mf(h,r,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),o.push(ne),m.push(ne)):(o[be]=ne,m[be]=ne)}else{const ne=Pf(v,i,A+z,F),be=Pf(v,i,A,A+z),Ue=ne>=0&&o[ne],Ze=be>=0&&o[be];if(c&&!Ze||!c&&!Ue){ba(Hs(b,m),h,v);const tt=function Of(r,i,o,l,c){const h=new Wr(r,o,io);return h.multi=[],h.index=i,h.componentProviders=0,Rf(h,c,l&&!o),h}(c?Nf:Kr,o.length,c,l,E);!c&&Ze&&(o[be].providerFactory=tt),Mf(h,r,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),o.push(tt),m.push(tt)}else Mf(h,r,ne>-1?ne:be,Rf(o[c?be:ne],E,!c&&l));!c&&l&&Ze&&o[be].componentProviders++}}}function Mf(r,i,o,l){const c=Uo(i),h=function XC(r){return!!r.useClass}(i);if(c||h){const E=(h?q(i.useClass):i).prototype.ngOnDestroy;if(E){const b=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const A=b.indexOf(o);-1===A?b.push(o,[l,E]):b[A+1].push(l,E)}else b.push(o,E)}}}function Rf(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Pf(r,i,o,l){for(let c=o;c<l;c++)if(i[c]===r)return c;return-1}function Kr(r,i,o,l){return As(this.multi,[])}function Nf(r,i,o,l){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=cs(o,o[1],this.providerFactory.index,l);h=v.slice(0,m),As(c,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],As(c,h);return h}function As(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function fi(r,i=[]){return o=>{o.providersResolver=(l,c)=>function ob(r,i,o){const l=Ct();if(l.firstCreatePass){const c=Or(r);Sf(o,l.data,l.blueprint,c,!0),Sf(i,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,i)}}class Ai{}class Dm{}function u0(r,i){return new ab(r,i??null)}class ab extends Ai{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wc(this);const l=Pe(i);this._bootstrapComponents=ro(l.bootstrap),this._r3Injector=og(i,o,[{provide:Ai,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],ce(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Tm extends Dm{constructor(i){super(),this.moduleType=i}create(i){return new ab(this.moduleType,i)}}class lb extends Ai{constructor(i,o,l){super(),this.componentFactoryResolver=new Wc(this),this.instance=null;const c=new Np([...i,{provide:Ai,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],o||_c(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ld(r,i,o=null){return new lb(r,i,o).injector}let ub=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=Mp(0,o.type),c=l.length>0?ld([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=kt({token:r,providedIn:"environment",factory:()=>new r(In(no))}),r})();function c0(r){r.getStandaloneInjector=i=>i.get(ub).getOrCreateStandaloneInjector(r)}function _0(r,i,o,l,c,h){const m=i+o;return Rr(r,m,c)?function Is(r,i,o){return r[i]=o}(r,m+1,h?l.call(h,c):l(c)):function cd(r,i){const o=r[i];return o===Pt?void 0:o}(r,m+1)}function Mi(r,i){const o=Ct();let l;const c=r+22;o.firstCreatePass?(l=function bb(r,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(r===l.name)return l}}(i,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const h=l.factory||(l.factory=Xn(l.type)),m=Zt(io);try{const v=fl(!1),E=h();return fl(v),function Ew(r,i,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=l}(o,Ce(),c,E),E}finally{Zt(m)}}function Rm(r,i,o){const l=r+22,c=Ce(),h=yr(c,l);return function dd(r,i){return r[1].data[i].pure}(c,l)?_0(c,function Ln(){const r=bt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),i,h.transform,o,h):h.transform(o)}function xf(r){return i=>{setTimeout(r,void 0,i)}}const Ss=class Ab extends u.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){let c=i,h=o||(()=>null),m=l;if(i&&"object"==typeof i){const E=i;c=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=xf(h),c&&(c=xf(c)),m&&(m=xf(m)));const v=super.subscribe({next:c,error:h,complete:m});return i instanceof U.w0&&i.add(v),v}};function Sb(){return this._results[lo()]()}class Pm{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=lo(),l=Pm.prototype;l[o]||(l[o]=Sb)}get changes(){return this._changes||(this._changes=new Ss)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const c=Cn(i);(this._changesDetected=!function Hi(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=i[l];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Eu=(()=>{class r{}return r.__NG_ELEMENT_ID__=Pb,r})();const Mb=Eu,Rb=class extends Mb{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i,o){const l=this._declarationTContainer.tViews,c=Hh(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(l)),Hl(l,c,i),new $c(c)}};function Pb(){return kf(hn(),Ce())}function kf(r,i){return 4&r.type?new Rb(i,r,La(r,i)):null}let Ff=(()=>{class r{}return r.__NG_ELEMENT_ID__=Nb,r})();function Nb(){return xb(hn(),Ce())}const Ob=Ff,I0=class extends Ob{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Ta(this._hostTNode,this._hostLView)}get parentInjector(){const i=wa(this._hostTNode,this._hostLView);if(hp(i)){const o=us(i,this._hostLView),l=Bs(i);return new Ta(o[1].data[l+8],o)}return new Ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=D0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,c),m}createComponent(i,o,l,c,h){const m=i&&!function ii(r){return"function"==typeof r}(i);let v;if(m)v=o;else{const F=o||{};v=F.index,l=F.injector,c=F.projectableNodes,h=F.environmentInjector||F.ngModuleRef}const E=m?i:new Wl(I(i)),b=l||this.parentInjector;if(!h&&null==E.ngModule){const z=(m?b:this.parentInjector).get(no,null);z&&(h=z)}const A=E.create(b,c,void 0,h);return this.insert(A.hostView,v),A}insert(i,o){const l=i._lView,c=l[1];if(function Fd(r){return cr(r[3])}(l)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const F=l[3],z=new I0(F,F[6],F[3]);z.detach(z.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function AE(r,i,o,l){const c=10+l,h=o.length;l>0&&(o[c-1][4]=i),l<h-10?(i[4]=o[c],$s(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function SE(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(c,l,m,h);const v=tg(h,m),E=l[11],b=ir(E,m[7]);return null!==b&&function uD(r,i,o,l,c,h){l[0]=c,l[6]=i,Vo(r,l,o,1,c,h)}(c,m[6],E,l,b,v),i.attachToViewContainerRef(),$s(T0(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=D0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Ah(this._lContainer,o);l&&(vr(T0(this._lContainer),o),Sh(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Ah(this._lContainer,o);return l&&null!=vr(T0(this._lContainer),o)?new $c(l):null}_adjustIndex(i,o=0){return i??this.length+o}};function D0(r){return r[8]}function T0(r){return r[8]||(r[8]=[])}function xb(r,i){let o;const l=i[r.index];if(cr(l))o=l;else{let c;if(8&r.type)c=Rn(l);else{const h=i[11];c=h.createComment("");const m=hr(r,i);Ba(h,ir(h,m),c,function OE(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=o=di(l,i,c,r),Zo(i,o)}return new I0(o,r,i)}class Lf{constructor(i){this.queryList=i,this.matches=null}clone(){return new Lf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Nm(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==mo(i,o).matches&&this.queries[o].setDirty()}}class A0{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class Om{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new Om(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class xm{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new xm(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,o,ra(o,h)),this.matchTNodeWithReadOption(i,o,Da(o,i,h,!1,!1))}else l===Eu?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Da(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===gh||c===Ff||c===Eu&&4&o.type)this.addMatch(o.index,-2);else{const h=Da(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function ra(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function pi(r,i,o,l){return-1===o?function Pr(r,i){return 11&r.type?La(r,i):4&r.type?kf(r,i):null}(i,r):-2===o?function hd(r,i,o){return o===gh?La(i,r):o===Eu?kf(i,r):o===Ff?xb(i,r):void 0}(r,i,l):cs(r,r[1],o,i)}function S0(r,i,o,l){const c=i[19].queries[l];if(null===c.matches){const h=r.data,m=o.matches,v=[];for(let E=0;E<m.length;E+=2){const b=m[E];v.push(b<0?null:pi(i,h[b],m[E+1],o.metadata.read))}c.matches=v}return c.matches}function km(r,i,o,l){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const m=S0(r,i,c,o);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const b=h[v+1],A=i[-E];for(let F=10;F<A.length;F++){const z=A[F];z[17]===z[3]&&km(z[1],z,b,l)}if(null!==A[9]){const F=A[9];for(let z=0;z<F.length;z++){const ne=F[z];km(ne[1],ne,b,l)}}}}}return l}function M0(r){const i=Ce(),o=Ct(),l=xu();ku(l+1);const c=mo(o,l);if(r.dirty&&yi(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?km(o,i,l,[]):S0(o,i,c,l);r.reset(h,eD),r.notifyOnChanges()}return!0}return!1}function fd(r,i,o,l){const c=Ct();if(c.firstCreatePass){const h=hn();(function Lm(r,i,o){null===r.queries&&(r.queries=new Om),r.queries.track(new xm(i,o))})(c,new A0(i,o,l),h.index),function Um(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function Fm(r,i,o){const l=new Pm(4==(4&o));Gy(r,i,l,l.destroy),null===i[19]&&(i[19]=new Nm),i[19].queries.push(new Lf(l))}(c,Ce(),o)}function R0(){return function Ub(r,i){return r[19].queries[i].queryList}(Ce(),xu())}function mo(r,i){return r.queries.getByIndex(i)}function jf(...r){}const Km=new mn("Application Initializer");let Cd=(()=>{class r{constructor(o){this.appInits=o,this.resolve=jf,this.reject=jf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Xo(h))o.push(h);else if(fv(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(In(Km,8))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const $f=new mn("AppId",{providedIn:"root",factory:function K0(){return`${Ym()}${Ym()}${Ym()}`}});function Ym(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ed=new mn("Platform Initializer"),Qm=new mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wf=new mn("appBootstrapListener");let Kb=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const _o=new mn("LocaleId",{providedIn:"root",factory:()=>si(_o,ze.Optional|ze.SkipSelf)||function Q0(){return typeof $localize<"u"&&$localize.locale||Ts}()}),J0=new mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yb{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Qb=(()=>{class r{compileModuleSync(o){return new Tm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=ro(Pe(o).declarations).reduce((m,v)=>{const E=I(v);return E&&m.push(new Wl(E)),m},[]);return new Yb(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Jm=(()=>Promise.resolve(0))();function Xm(r){typeof Zone>"u"?Jm.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Pi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ss(!1),this.onMicrotaskEmpty=new Ss(!1),this.onStable=new Ss(!1),this.onError=new Ss(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function tI(){let r=et.requestAnimationFrame,i=et.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nC(r){const i=()=>{!function tC(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(et,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,zf(r),r.isCheckStableRunning=!0,Gf(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),zf(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,h,m,v)=>{try{return nI(r),o.invokeTask(c,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),rC(r)}},onInvoke:(o,l,c,h,m,v,E)=>{try{return nI(r),o.invoke(c,h,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),rC(r)}},onHasTask:(o,l,c,h)=>{o.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,zf(r),Gf(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new we(909,!1)}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,eC,jf,jf);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const eC={};function Gf(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function zf(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function nI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function rC(r){r._nesting--,Gf(r)}class BD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ss,this.onMicrotaskEmpty=new Ss,this.onStable=new Ss,this.onError=new Ss}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,c){return i.apply(o,l)}}const rI=new mn(""),Zf=new mn("");let e_,HD=(()=>{class r{constructor(o,l,c){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e_||(function sC(r){e_=r}(c),c.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),Xm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xm(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(In(Pi),In(iC),In(Zf))},r.\u0275prov=kt({token:r,factory:r.\u0275fac}),r})(),iC=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return e_?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),yo=null;const qf=new mn("AllowMultipleToken"),Iu=new mn("PlatformDestroyListeners");class jD{constructor(i,o){this.name=i,this.token=o}}function oC(r,i,o=[]){const l=`Platform: ${i}`,c=new mn(l);return(h=[])=>{let m=aC();if(!m||m.injector.get(qf,!1)){const v=[...o,...h,{provide:c,useValue:!0}];r?r(v):function sI(r){if(yo&&!yo.get(qf,!1))throw new we(400,!1);yo=r;const i=r.get(uI);(function aI(r){const i=r.get(Ed,null);i&&i.forEach(o=>o())})(r)}(function lI(r=[],i){return $a.create({name:i,providers:[{provide:to,useValue:"platform"},{provide:Iu,useValue:new Set([()=>yo=null])},...r]})}(v,l))}return function $D(r){const i=aC();if(!i)throw new we(401,!1);return i}()}}function aC(){return yo?.get(uI)??null}let uI=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const c=function uC(r,i){let o;return o="noop"===r?new BD:("zone.js"===r?void 0:r)||new Pi(i),o}(l?.ngZone,function lC(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:Pi,useValue:c}];return c.run(()=>{const m=$a.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(m),E=v.injector.get(yh,null);if(!E)throw new we(402,!1);return c.runOutsideAngular(()=>{const b=c.onError.subscribe({next:A=>{E.handleError(A)}});v.onDestroy(()=>{Id(this._modules,v),b.unsubscribe()})}),function n_(r,i,o){try{const l=o();return Xo(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(E,c,()=>{const b=v.injector.get(Cd);return b.runInitializers(),b.donePromise.then(()=>(function um(r){vt(r,"Expected localeId to be defined"),"string"==typeof r&&(jv=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(_o,Ts)||Ts),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,l=[]){const c=r_({},l);return function t_(r,i,o){const l=new Tm(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const l=o.injector.get(bd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new we(403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(Iu,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(In($a))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function r_(r,i){return Array.isArray(i)?i.reduce(r_,r):{...r,...i}}let bd=(()=>{class r{constructor(o,l,c){this._zone=o,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new N.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new N.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),Xm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),b.unsubscribe()}});this.isStable=(0,te.T)(h,m.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const c=o instanceof $_;if(!this._injector.get(Cd).done)throw!c&&se(o),new we(405,false);let m;m=c?o:this._injector.get(Ec).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function iI(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Ai),b=m.create($a.NULL,[],l||m.selector,v),A=b.location.nativeElement,F=b.injector.get(rI,null);return F?.registerApplication(A),b.onDestroy(()=>{this.detachView(b.hostView),Id(this.components,b),F?.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Id(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Wf,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Id(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new we(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(In(Pi),In(no),In(yh))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Id(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let s_=!0,o_=!1;function WD(){return o_=!0,s_}function cI(){if(o_)throw new Error("Cannot enable prod mode after platform setup.");s_=!1}let dC=(()=>{class r{}return r.__NG_ELEMENT_ID__=hC,r})();function hC(r){return function Dd(r,i,o){if(ts(r)&&!o){const l=Jt(r.index,i);return new $c(l,l)}return 47&r.type?new $c(i[16],i):null}(hn(),Ce(),16==(16&r))}class oa{constructor(){}supports(i){return Za(i)}create(i){return new yI(i)}}const Ms=(r,i)=>i;class yI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Ms}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,c=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<vC(l,c,h)?o:l,v=vC(m,c,h),E=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const b=v-c,A=E-c;if(b!=A){for(let z=0;z<b;z++){const ne=z<h.length?h[z]:h[z]=0,be=ne+z;A<=be&&be<b&&(h[z]=ne+1)}h[m.previousIndex]=A-b}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Za(i))throw new we(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),l=!0),o=o._next}else c=0,function Pg(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[lo()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new _C(o,l),h,c),i}_verifyReinsertion(i,o,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new yC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class _C{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class yC{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new vI,this.map.set(o,l)),l.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vC(r,i,o){const l=r.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+i+c}class Du{constructor(){}supports(i){return i instanceof Map||zh(i)}create(){return new CI}}class CI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||zh(i)))throw new we(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const l=new aa(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class aa{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d_(){return new Er([new oa])}let Er=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||d_()),deps:[[r,new Ks,new Un]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new we(901,!1)}}return r.\u0275prov=kt({token:r,providedIn:"root",factory:d_}),r})();function CC(){return new EC([new Du])}let EC=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||CC()),deps:[[r,new Ks,new Un]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(l)return l;throw new we(901,!1)}}return r.\u0275prov=kt({token:r,providedIn:"root",factory:CC}),r})();const IC=oC(null,"core",[]);let DC=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(In(bd))},r.\u0275mod=St({type:r}),r.\u0275inj=ut({}),r})();function TC(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(it,Te,O)=>{O.d(Te,{Z:()=>we});var u=O(2090),U=O(4859),N=O(9681),te=O(1877);class de{constructor(me,ae){this._delegate=me,this.firebase=ae,(0,N._addComponent)(me,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(me,ae=N._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(me);return!$e.isInitialized()&&"EXPLICIT"===(null===(Ye=$e.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:ae})}_removeServiceInstance(me,ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(ae)}_addComponent(me){(0,N._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,N._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function pe(){const We=function ce(We){const me={},ae={__esModule:!0,initializeApp:function Re(X,ie={}){const _e=N.initializeApp(X,ie);if((0,u.r3)(me,_e.name))return me[_e.name];const K=new We(_e,ae);return me[_e.name]=K,K},app:$e,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ve(X){const ie=X.name,_e=ie.replace("-compat","");if(N._registerComponent(X)&&"PUBLIC"===X.type){const K=(Y=$e())=>{if("function"!=typeof Y[_e])throw oe.create("invalid-app-argument",{appName:ie});return Y[_e]()};void 0!==X.serviceProps&&(0,u.ZB)(K,X.serviceProps),ae[_e]=K,We.prototype[_e]=function(...Y){return this._getService.bind(this,ie).apply(this,X.multipleInstances?Y:[])}}return"PUBLIC"===X.type?ae[_e]:null},removeApp:function Ye(X){delete me[X]},useAsService:function He(X,ie){return"serverAuth"===ie?null:ie},modularAPIs:N}};function $e(X){if(!(0,u.r3)(me,X=X||N._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:X});return me[X]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function Ae(){return Object.keys(me).map(X=>me[X])}}),$e.App=We,ae}(de);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function me(ae){(0,u.ZB)(We,ae)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),We}(),G=new te.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=W;!function Ee(We){(0,N.registerVersion)("@firebase/app-compat","0.1.39",We)}()},9681:(it,Te,O)=>{O.r(Te),O.d(Te,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Qn,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>$t,_addOrOverwriteComponent:()=>kt,_apps:()=>Gt,_clearComponents:()=>ar,_components:()=>pn,_getProvider:()=>ut,_registerComponent:()=>It,_removeServiceInstance:()=>nn,deleteApp:()=>lr,getApp:()=>yn,getApps:()=>$n,initializeApp:()=>wn,onLog:()=>gn,registerVersion:()=>qt,setLogLevel:()=>Zt});var u=O(5861),U=O(4859),N=O(1877),te=O(2090),de=O(8766);class ge{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function oe(Ge){return"VERSION"===Ge.getComponent()?.type}(qe)){const ot=qe.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(qe=>qe).join(" ")}}const ce="@firebase/app",W=new N.Yd("@firebase/app"),vt="[DEFAULT]",Be={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gt=new Map,pn=new Map;function $t(Ge,Ie){try{Ge.container.addComponent(Ie)}catch(qe){W.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ge.name}`,qe)}}function kt(Ge,Ie){Ge.container.addOrOverwriteComponent(Ie)}function It(Ge){const Ie=Ge.name;if(pn.has(Ie))return W.debug(`There were multiple attempts to register component ${Ie}.`),!1;pn.set(Ie,Ge);for(const qe of Gt.values())$t(qe,Ge);return!0}function ut(Ge,Ie){const qe=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Ge.container.getProvider(Ie)}function nn(Ge,Ie,qe=vt){ut(Ge,Ie).clearInstance(qe)}function ar(){pn.clear()}const dn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class An{constructor(Ie,qe,ot){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Qn="9.14.0";function wn(Ge,Ie={}){let qe=Ge;"object"!=typeof Ie&&(Ie={name:Ie});const ot=Object.assign({name:vt,automaticDataCollectionEnabled:!1},Ie),ht=ot.name;if("string"!=typeof ht||!ht)throw dn.create("bad-app-name",{appName:String(ht)});if(qe||(qe=(0,te.aH)()),!qe)throw dn.create("no-options");const St=Gt.get(ht);if(St){if((0,te.vZ)(qe,St.options)&&(0,te.vZ)(ot,St.config))return St;throw dn.create("duplicate-app",{appName:ht})}const $=new U.H0(ht);for(const R of pn.values())$.addComponent(R);const B=new An(qe,ot,$);return Gt.set(ht,B),B}function yn(Ge=vt){const Ie=Gt.get(Ge);if(!Ie&&Ge===vt)return wn();if(!Ie)throw dn.create("no-app",{appName:Ge});return Ie}function $n(){return Array.from(Gt.values())}function lr(Ge){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(Ge){const Ie=Ge.name;Gt.has(Ie)&&(Gt.delete(Ie),yield Promise.all(Ge.container.getProviders().map(qe=>qe.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function qt(Ge,Ie,qe){var ot;let ht=null!==(ot=Be[Ge])&&void 0!==ot?ot:Ge;qe&&(ht+=`-${qe}`);const St=ht.match(/\s|\//),$=Ie.match(/\s|\//);if(St||$){const B=[`Unable to register library "${ht}" with version "${Ie}":`];return St&&B.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),St&&$&&B.push("and"),$&&B.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void W.warn(B.join(" "))}It(new U.wA(`${ht}-version`,()=>({library:ht,version:Ie}),"VERSION"))}function gn(Ge,Ie){if(null!==Ge&&"function"!=typeof Ge)throw dn.create("invalid-log-argument");(0,N.Am)(Ge,Ie)}function Zt(Ge){(0,N.Ub)(Ge)}const Yt="firebase-heartbeat-store";let rn=null;function Vt(){return rn||(rn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(Ge,Ie)=>{0===Ie&&Ge.createObjectStore(Yt)}}).catch(Ge=>{throw dn.create("idb-open",{originalErrorMessage:Ge.message})})),rn}function Xe(){return(Xe=(0,u.Z)(function*(Ge){var Ie;try{return(yield Vt()).transaction(Yt).objectStore(Yt).get(Sn(Ge))}catch(qe){if(qe instanceof te.ZR)W.warn(qe.message);else{const ot=dn.create("idb-get",{originalErrorMessage:null===(Ie=qe)||void 0===Ie?void 0:Ie.message});W.warn(ot.message)}}})).apply(this,arguments)}function et(Ge,Ie){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(Ge,Ie){var qe;try{const ht=(yield Vt()).transaction(Yt,"readwrite");return yield ht.objectStore(Yt).put(Ie,Sn(Ge)),ht.done}catch(ot){if(ot instanceof te.ZR)W.warn(ot.message);else{const ht=dn.create("idb-set",{originalErrorMessage:null===(qe=ot)||void 0===qe?void 0:qe.message});W.warn(ht.message)}}})).apply(this,arguments)}function Sn(Ge){return`${Ge.name}!${Ge.options.appId}`}class Fn{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new At(qe),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var Ie=this;return(0,u.Z)(function*(){const ot=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=mt();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==ht&&!Ie._heartbeatsCache.heartbeats.some(St=>St.date===ht))return Ie._heartbeatsCache.heartbeats.push({date:ht,agent:ot}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(St=>{const $=new Date(St.date).valueOf();return Date.now()-$<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,u.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const qe=mt(),{heartbeatsToSend:ot,unsentEntries:ht}=function jn(Ge,Ie=1024){const qe=[];let ot=Ge.slice();for(const ht of Ge){const St=qe.find($=>$.agent===ht.agent);if(St){if(St.dates.push(ht.date),Mn(qe)>Ie){St.dates.pop();break}}else if(qe.push({agent:ht.agent,dates:[ht.date]}),Mn(qe)>Ie){qe.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:qe,unsentEntries:ot}}(Ie._heartbeatsCache.heartbeats),St=(0,te.L)(JSON.stringify({version:2,heartbeats:ot}));return Ie._heartbeatsCache.lastSentHeartbeatDate=qe,ht.length>0?(Ie._heartbeatsCache.heartbeats=ht,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),St})()}}function mt(){return(new Date).toISOString().substring(0,10)}class At{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,u.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function nt(Ge){return Xe.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var qe=this;return(0,u.Z)(function*(){var ot;if(yield qe._canUseIndexedDBPromise){const St=yield qe.read();return et(qe.app,{lastSentHeartbeatDate:null!==(ot=Ie.lastSentHeartbeatDate)&&void 0!==ot?ot:St.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var qe=this;return(0,u.Z)(function*(){var ot;if(yield qe._canUseIndexedDBPromise){const St=yield qe.read();return et(qe.app,{lastSentHeartbeatDate:null!==(ot=Ie.lastSentHeartbeatDate)&&void 0!==ot?ot:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...Ie.heartbeats]})}})()}}function Mn(Ge){return(0,te.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function on(Ge){It(new U.wA("platform-logger",Ie=>new ge(Ie),"PRIVATE")),It(new U.wA("heartbeat",Ie=>new Fn(Ie),"PRIVATE")),qt(ce,"0.8.4",Ge),qt(ce,"0.8.4","esm2017"),qt("fire-js","")}("")},4859:(it,Te,O)=>{O.d(Te,{H0:()=>ce,wA:()=>N,zt:()=>de});var u=O(5861),U=O(2090);class N{constructor(W,G,q){this.name=W,this.instanceFactory=G,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const te="[DEFAULT]";class de{constructor(W,G){this.name=W,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const G=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(G)){const q=new U.BH;if(this.instancesDeferred.set(G,q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:G});Me&&q.resolve(Me)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(W){var G;const q=this.normalizeInstanceIdentifier(W?.identifier),Me=null!==(G=W?.optional)&&void 0!==G&&G;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ee){if(Me)return null;throw Ee}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function oe(pe){return"EAGER"===pe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[G,q]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(G);try{const Ee=this.getOrInitializeService({instanceIdentifier:Me});q.resolve(Ee)}catch{}}}}clearInstance(W=te){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const G=Array.from(W.instances.values());yield Promise.all([...G.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...G.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=te){return this.instances.has(W)}getOptions(W=te){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:G={}}=W,q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:q,options:G});for(const[Ee,we]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ee)&&we.resolve(Me);return Me}onInit(W,G){var q;const Me=this.normalizeInstanceIdentifier(G),Ee=null!==(q=this.onInitCallbacks.get(Me))&&void 0!==q?q:new Set;Ee.add(W),this.onInitCallbacks.set(Me,Ee);const we=this.instances.get(Me);return we&&W(we,Me),()=>{Ee.delete(W)}}invokeOnInitCallbacks(W,G){const q=this.onInitCallbacks.get(G);if(q)for(const Me of q)try{Me(W,G)}catch{}}getOrInitializeService({instanceIdentifier:W,options:G={}}){let q=this.instances.get(W);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=W,pe===te?void 0:pe),options:G}),this.instances.set(W,q),this.instancesOptions.set(W,G),this.invokeOnInitCallbacks(q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,q)}catch{}var pe;return q||null}normalizeInstanceIdentifier(W=te){return this.component?this.component.multipleInstances?W:te:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const G=this.getProvider(W.name);if(G.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);G.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const G=new de(W,this);return this.providers.set(W,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(it,Te,O)=>{var u=O(5861),U=O(9681),N=O(4859),te=O(2090),de=O(8766);const ge="@firebase/installations",oe="0.5.16",pe=`w:${oe}`,W="FIS_v2",We=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(J){return J instanceof te.ZR&&J.code.includes("request-failed")}function ae({projectId:J}){return`https://firebaseinstallations.googleapis.com/v1/projects/${J}/installations`}function Ye(J){return{token:J.token,requestStatus:2,expiresIn:ie(J.expiresIn),creationTime:Date.now()}}function $e(J,ye){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(J,ye){const rt=(yield ye.json()).error;return We.create("request-failed",{requestName:J,serverCode:rt.code,serverMessage:rt.message,serverStatus:rt.status})})).apply(this,arguments)}function Ae({apiKey:J}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":J})}function ve(J,{refreshToken:ye}){const Le=Ae(J);return Le.append("Authorization",function _e(J){return`${W} ${J}`}(ye)),Le}function He(J){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(function*(J){const ye=yield J();return ye.status>=500&&ye.status<600?J():ye})).apply(this,arguments)}function ie(J){return Number(J.replace("s","000"))}function K(J,ye){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.Z)(function*({appConfig:J,heartbeatServiceProvider:ye},{fid:Le}){const rt=ae(J),Mt=Ae(J),Wt=ye.getImmediate({optional:!0});if(Wt){const Jn=yield Wt.getHeartbeatsHeader();Jn&&Mt.append("x-firebase-client",Jn)}const sn={method:"POST",headers:Mt,body:JSON.stringify({fid:Le,authVersion:W,appId:J.appId,sdkVersion:pe})},ur=yield He(()=>fetch(rt,sn));if(ur.ok){const Jn=yield ur.json();return{fid:Jn.fid||Le,registrationStatus:2,refreshToken:Jn.refreshToken,authToken:Ye(Jn.authToken)}}throw yield $e("Create Installation",ur)})).apply(this,arguments)}function le(J){return new Promise(ye=>{setTimeout(ye,J)})}const Fe=/^[cdef][\w-]{21}$/;function Je(){try{const J=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(J),J[0]=112+J[0]%16;const Le=function xt(J){return function re(J){return btoa(String.fromCharCode(...J)).replace(/\+/g,"-").replace(/\//g,"_")}(J).substr(0,22)}(J);return Fe.test(Le)?Le:""}catch{return""}}function vt(J){return`${J.appName}!${J.appId}`}const Be=new Map;function Gt(J,ye){const Le=vt(J);kt(Le,ye),function It(J,ye){const Le=function nn(){return!ut&&"BroadcastChannel"in self&&(ut=new BroadcastChannel("[Firebase] FID Change"),ut.onmessage=J=>{kt(J.data.key,J.data.fid)}),ut}();Le&&Le.postMessage({key:J,fid:ye}),function ar(){0===Be.size&&ut&&(ut.close(),ut=null)}()}(Le,ye)}function kt(J,ye){const Le=Be.get(J);if(Le)for(const rt of Le)rt(ye)}let ut=null;const An="firebase-installations-store";let Qn=null;function wn(){return Qn||(Qn=(0,de.X3)("firebase-installations-database",1,{upgrade:(J,ye)=>{0===ye&&J.createObjectStore(An)}})),Qn}function yn(J,ye){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(J,ye){const Le=vt(J),Mt=(yield wn()).transaction(An,"readwrite"),Wt=Mt.objectStore(An),ln=yield Wt.get(Le);return yield Wt.put(ye,Le),yield Mt.done,(!ln||ln.fid!==ye.fid)&&Gt(J,ye.fid),ye})).apply(this,arguments)}function lr(J){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(J){const ye=vt(J),rt=(yield wn()).transaction(An,"readwrite");yield rt.objectStore(An).delete(ye),yield rt.done})).apply(this,arguments)}function qt(J,ye){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(J,ye){const Le=vt(J),Mt=(yield wn()).transaction(An,"readwrite"),Wt=Mt.objectStore(An),ln=yield Wt.get(Le),sn=ye(ln);return void 0===sn?yield Wt.delete(Le):yield Wt.put(sn,Le),yield Mt.done,sn&&(!ln||ln.fid!==sn.fid)&&Gt(J,sn.fid),sn})).apply(this,arguments)}function Zt(J){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(J){let ye;const Le=yield qt(J.appConfig,rt=>{const Mt=zn(rt),Wt=Yt(J,Mt);return ye=Wt.registrationPromise,Wt.installationEntry});return""===Le.fid?{installationEntry:yield ye}:{installationEntry:Le,registrationPromise:ye}})).apply(this,arguments)}function zn(J){return Xt(J||{fid:Je(),registrationStatus:0})}function Yt(J,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(We.create("app-offline"))};const Le={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},rt=function rn(J,ye){return Vt.apply(this,arguments)}(J,Le);return{installationEntry:Le,registrationPromise:rt}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:nt(J)}:{installationEntry:ye}}function Vt(){return(Vt=(0,u.Z)(function*(J,ye){try{const Le=yield K(J,ye);return yn(J.appConfig,Le)}catch(Le){throw me(Le)&&409===Le.customData.serverCode?yield lr(J.appConfig):yield yn(J.appConfig,{fid:ye.fid,registrationStatus:0}),Le}})).apply(this,arguments)}function nt(J){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(J){let ye=yield et(J.appConfig);for(;1===ye.registrationStatus;)yield le(100),ye=yield et(J.appConfig);if(0===ye.registrationStatus){const{installationEntry:Le,registrationPromise:rt}=yield Zt(J);return rt||Le}return ye})).apply(this,arguments)}function et(J){return qt(J,ye=>{if(!ye)throw We.create("installation-not-found");return Xt(ye)})}function Xt(J){return function Sn(J){return 1===J.registrationStatus&&J.registrationTime+1e4<Date.now()}(J)?{fid:J.fid,registrationStatus:0}:J}function kn(J,ye){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*({appConfig:J,heartbeatServiceProvider:ye},Le){const rt=Fn(J,Le),Mt=ve(J,Le),Wt=ye.getImmediate({optional:!0});if(Wt){const Jn=yield Wt.getHeartbeatsHeader();Jn&&Mt.append("x-firebase-client",Jn)}const sn={method:"POST",headers:Mt,body:JSON.stringify({installation:{sdkVersion:pe,appId:J.appId}})},ur=yield He(()=>fetch(rt,sn));if(ur.ok)return Ye(yield ur.json());throw yield $e("Generate Auth Token",ur)})).apply(this,arguments)}function Fn(J,{fid:ye}){return`${ae(J)}/${ye}/authTokens:generate`}function mt(J){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(J,ye=!1){let Le;const rt=yield qt(J.appConfig,Wt=>{if(!qe(Wt))throw We.create("not-registered");const ln=Wt.authToken;if(!ye&&ot(ln))return Wt;if(1===ln.requestStatus)return Le=At(J,ye),Wt;{if(!navigator.onLine)throw We.create("app-offline");const sn=St(Wt);return Le=Ge(J,sn),sn}});return Le?yield Le:rt.authToken})).apply(this,arguments)}function At(J,ye){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(J,ye){let Le=yield on(J.appConfig);for(;1===Le.authToken.requestStatus;)yield le(100),Le=yield on(J.appConfig);const rt=Le.authToken;return 0===rt.requestStatus?mt(J,ye):rt})).apply(this,arguments)}function on(J){return qt(J,ye=>{if(!qe(ye))throw We.create("not-registered");return function $(J){return 1===J.requestStatus&&J.requestTime+1e4<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function Ge(J,ye){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(J,ye){try{const Le=yield kn(J,ye),rt=Object.assign(Object.assign({},ye),{authToken:Le});return yield yn(J.appConfig,rt),Le}catch(Le){if(!me(Le)||401!==Le.customData.serverCode&&404!==Le.customData.serverCode){const rt=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield yn(J.appConfig,rt)}else yield lr(J.appConfig);throw Le}})).apply(this,arguments)}function qe(J){return void 0!==J&&2===J.registrationStatus}function ot(J){return 2===J.requestStatus&&!function ht(J){const ye=Date.now();return ye<J.creationTime||J.creationTime+J.expiresIn<ye+36e5}(J)}function St(J){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},J),{authToken:ye})}function R(){return(R=(0,u.Z)(function*(J){const ye=J,{installationEntry:Le,registrationPromise:rt}=yield Zt(ye);return rt?rt.catch(console.error):mt(ye).catch(console.error),Le.fid})).apply(this,arguments)}function I(){return(I=(0,u.Z)(function*(J,ye=!1){const Le=J;return yield M(Le),(yield mt(Le,ye)).token})).apply(this,arguments)}function M(J){return j.apply(this,arguments)}function j(){return(j=(0,u.Z)(function*(J){const{registrationPromise:ye}=yield Zt(J);ye&&(yield ye)})).apply(this,arguments)}function Tt(J){return We.create("missing-app-config-values",{valueName:J})}const br="installations",Qr=J=>{const ye=J.getProvider("app").getImmediate(),Le=function pt(J){if(!J||!J.options)throw Tt("App Configuration");if(!J.name)throw Tt("App Name");const ye=["projectId","apiKey","appId"];for(const Le of ye)if(!J.options[Le])throw Tt(Le);return{appName:J.name,projectId:J.options.projectId,apiKey:J.options.apiKey,appId:J.options.appId}}(ye);return{app:ye,appConfig:Le,heartbeatServiceProvider:(0,U._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},Jr=J=>{const ye=J.getProvider("app").getImmediate(),Le=(0,U._getProvider)(ye,br).getImmediate();return{getId:()=>function B(J){return R.apply(this,arguments)}(Le),getToken:Mt=>function S(J){return I.apply(this,arguments)}(Le,Mt)}};(function st(){(0,U._registerComponent)(new N.wA(br,Qr,"PUBLIC")),(0,U._registerComponent)(new N.wA("installations-internal",Jr,"PRIVATE"))})(),(0,U.registerVersion)(ge,oe),(0,U.registerVersion)(ge,oe,"esm2017")},1877:(it,Te,O)=>{O.d(Te,{Am:()=>pe,Ub:()=>ce,Yd:()=>oe,in:()=>U});const u=[];var U=(()=>{return(W=U||(U={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",U;var W})();const N={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},te=U.INFO,de={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ge=(W,G,...q)=>{if(G<W.logLevel)return;const Me=(new Date).toISOString(),Ee=de[G];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ee](`[${Me}]  ${W.name}:`,...q)};class oe{constructor(G){this.name=G,this._logLevel=te,this._logHandler=ge,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in U))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...G),this._logHandler(this,U.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...G),this._logHandler(this,U.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,U.INFO,...G),this._logHandler(this,U.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,U.WARN,...G),this._logHandler(this,U.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...G),this._logHandler(this,U.ERROR,...G)}}function ce(W){u.forEach(G=>{G.setLogLevel(W)})}function pe(W,G){for(const q of u){let Me=null;G&&G.level&&(Me=N[G.level]),q.userLogHandler=null===W?null:(Ee,we,...We)=>{const me=We.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch{return null}}).filter(ae=>ae).join(" ");we>=(Me??Ee.logLevel)&&W({level:U[we].toLowerCase(),message:me,args:We,type:Ee.name})}}}},8766:(it,Te,O)=>{O.d(Te,{Lj:()=>Re,X3:()=>$e});var u=O(5861);let N,te;const oe=new WeakMap,ce=new WeakMap,pe=new WeakMap,W=new WeakMap,G=new WeakMap;let Ee={get(ie,_e,K){if(ie instanceof IDBTransaction){if("done"===_e)return ce.get(ie);if("objectStoreNames"===_e)return ie.objectStoreNames||pe.get(ie);if("store"===_e)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return ae(ie[_e])},set:(ie,_e,K)=>(ie[_e]=K,!0),has:(ie,_e)=>ie instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in ie};function me(ie){return"function"==typeof ie?function We(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(..._e){return ie.apply(Ye(this),_e),ae(oe.get(this))}:function(..._e){return ae(ie.apply(Ye(this),_e))}:function(_e,...K){const Y=ie.call(Ye(this),_e,...K);return pe.set(Y,_e.sort?_e.sort():[_e]),ae(Y)}}(ie):(ie instanceof IDBTransaction&&function Me(ie){if(ce.has(ie))return;const _e=new Promise((K,Y)=>{const le=()=>{ie.removeEventListener("complete",re),ie.removeEventListener("error",Fe),ie.removeEventListener("abort",Fe)},re=()=>{K(),le()},Fe=()=>{Y(ie.error||new DOMException("AbortError","AbortError")),le()};ie.addEventListener("complete",re),ie.addEventListener("error",Fe),ie.addEventListener("abort",Fe)});ce.set(ie,_e)}(ie),((ie,_e)=>_e.some(K=>ie instanceof K))(ie,function de(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Ee):ie)}function ae(ie){if(ie instanceof IDBRequest)return function q(ie){const _e=new Promise((K,Y)=>{const le=()=>{ie.removeEventListener("success",re),ie.removeEventListener("error",Fe)},re=()=>{K(ae(ie.result)),le()},Fe=()=>{Y(ie.error),le()};ie.addEventListener("success",re),ie.addEventListener("error",Fe)});return _e.then(K=>{K instanceof IDBCursor&&oe.set(K,ie)}).catch(()=>{}),G.set(_e,ie),_e}(ie);if(W.has(ie))return W.get(ie);const _e=me(ie);return _e!==ie&&(W.set(ie,_e),G.set(_e,ie)),_e}const Ye=ie=>G.get(ie);function $e(ie,_e,{blocked:K,upgrade:Y,blocking:le,terminated:re}={}){const Fe=indexedDB.open(ie,_e),xe=ae(Fe);return Y&&Fe.addEventListener("upgradeneeded",Je=>{Y(ae(Fe.result),Je.oldVersion,Je.newVersion,ae(Fe.transaction))}),K&&Fe.addEventListener("blocked",()=>K()),xe.then(Je=>{re&&Je.addEventListener("close",()=>re()),le&&Je.addEventListener("versionchange",()=>le())}).catch(()=>{}),xe}function Re(ie,{blocked:_e}={}){const K=indexedDB.deleteDatabase(ie);return _e&&K.addEventListener("blocked",()=>_e()),ae(K).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],He=new Map;function X(ie,_e){if(!(ie instanceof IDBDatabase)||_e in ie||"string"!=typeof _e)return;if(He.get(_e))return He.get(_e);const K=_e.replace(/FromIndex$/,""),Y=_e!==K,le=ve.includes(K);if(!(K in(Y?IDBIndex:IDBObjectStore).prototype)||!le&&!Ae.includes(K))return;const re=function(){var Fe=(0,u.Z)(function*(xe,...Je){const xt=this.transaction(xe,le?"readwrite":"readonly");let vt=xt.store;return Y&&(vt=vt.index(Je.shift())),(yield Promise.all([vt[K](...Je),le&&xt.done]))[0]});return function(Je){return Fe.apply(this,arguments)}}();return He.set(_e,re),re}!function we(ie){Ee=ie(Ee)}(ie=>({...ie,get:(_e,K,Y)=>X(_e,K)||ie.get(_e,K,Y),has:(_e,K)=>!!X(_e,K)||ie.has(_e,K)}))},5861:(it,Te,O)=>{function u(N,te,de,ge,oe,ce,pe){try{var W=N[ce](pe),G=W.value}catch(q){return void de(q)}W.done?te(G):Promise.resolve(G).then(ge,oe)}function U(N){return function(){var te=this,de=arguments;return new Promise(function(ge,oe){var ce=N.apply(te,de);function pe(G){u(ce,ge,oe,pe,W,"next",G)}function W(G){u(ce,ge,oe,pe,W,"throw",G)}pe(void 0)})}}O.d(Te,{Z:()=>U})}},it=>{it(it.s=7628)}]);